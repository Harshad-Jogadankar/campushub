function CH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _M(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var bM={exports:{}},ay={},EM={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=Symbol.for("react.element"),AH=Symbol.for("react.portal"),RH=Symbol.for("react.fragment"),PH=Symbol.for("react.strict_mode"),NH=Symbol.for("react.profiler"),OH=Symbol.for("react.provider"),DH=Symbol.for("react.context"),LH=Symbol.for("react.forward_ref"),MH=Symbol.for("react.suspense"),jH=Symbol.for("react.memo"),FH=Symbol.for("react.lazy"),RP=Symbol.iterator;function UH(e){return e===null||typeof e!="object"?null:(e=RP&&e[RP]||e["@@iterator"],typeof e=="function"?e:null)}var SM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TM=Object.assign,IM={};function Oc(e,t,n){this.props=e,this.context=t,this.refs=IM,this.updater=n||SM}Oc.prototype.isReactComponent={};Oc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xM(){}xM.prototype=Oc.prototype;function i1(e,t,n){this.props=e,this.context=t,this.refs=IM,this.updater=n||SM}var o1=i1.prototype=new xM;o1.constructor=i1;TM(o1,Oc.prototype);o1.isPureReactComponent=!0;var PP=Array.isArray,CM=Object.prototype.hasOwnProperty,s1={current:null},kM={key:!0,ref:!0,__self:!0,__source:!0};function AM(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)CM.call(t,r)&&!kM.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Md,type:e,key:s,ref:a,props:i,_owner:s1.current}}function $H(e,t){return{$$typeof:Md,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function a1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Md}function VH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var NP=/\/+/g;function Tb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VH(""+e.key):t.toString(36)}function fg(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Md:case AH:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Tb(a,0):r,PP(i)?(n="",e!=null&&(n=e.replace(NP,"$&/")+"/"),fg(i,t,n,"",function(h){return h})):i!=null&&(a1(i)&&(i=$H(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(NP,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",PP(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+Tb(s,l);a+=fg(s,t,n,c,i)}else if(c=UH(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+Tb(s,l++),a+=fg(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Cv(e,t,n){if(e==null)return e;var r=[],i=0;return fg(e,r,"","",function(s){return t.call(n,s,i++)}),r}function BH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tr={current:null},hg={transition:null},zH={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:hg,ReactCurrentOwner:s1};xe.Children={map:Cv,forEach:function(e,t,n){Cv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cv(e,function(){t++}),t},toArray:function(e){return Cv(e,function(t){return t})||[]},only:function(e){if(!a1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Oc;xe.Fragment=RH;xe.Profiler=NH;xe.PureComponent=i1;xe.StrictMode=PH;xe.Suspense=MH;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zH;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TM({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=s1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)CM.call(t,c)&&!kM.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Md,type:e.type,key:i,ref:s,props:r,_owner:a}};xe.createContext=function(e){return e={$$typeof:DH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OH,_context:e},e.Consumer=e};xe.createElement=AM;xe.createFactory=function(e){var t=AM.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:LH,render:e}};xe.isValidElement=a1;xe.lazy=function(e){return{$$typeof:FH,_payload:{_status:-1,_result:e},_init:BH}};xe.memo=function(e,t){return{$$typeof:jH,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=hg.transition;hg.transition={};try{e()}finally{hg.transition=t}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(e,t){return tr.current.useCallback(e,t)};xe.useContext=function(e){return tr.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return tr.current.useDeferredValue(e)};xe.useEffect=function(e,t){return tr.current.useEffect(e,t)};xe.useId=function(){return tr.current.useId()};xe.useImperativeHandle=function(e,t,n){return tr.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return tr.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return tr.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return tr.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return tr.current.useReducer(e,t,n)};xe.useRef=function(e){return tr.current.useRef(e)};xe.useState=function(e){return tr.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return tr.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return tr.current.useTransition()};xe.version="18.2.0";EM.exports=xe;var $=EM.exports;const Fs=_M($),zE=CH({__proto__:null,default:Fs},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qH=$,WH=Symbol.for("react.element"),HH=Symbol.for("react.fragment"),KH=Object.prototype.hasOwnProperty,GH=qH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QH={key:!0,ref:!0,__self:!0,__source:!0};function RM(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)KH.call(t,r)&&!QH.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:WH,type:e,key:s,ref:a,props:i,_owner:GH.current}}ay.Fragment=HH;ay.jsx=RM;ay.jsxs=RM;bM.exports=ay;var E=bM.exports,qE={},PM={exports:{}},qr={},NM={exports:{}},OM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,re){var ae=H.length;H.push(re);e:for(;0<ae;){var Ce=ae-1>>>1,ke=H[Ce];if(0<i(ke,re))H[Ce]=re,H[ae]=ke,ae=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],ae=H.pop();if(ae!==re){H[0]=ae;e:for(var Ce=0,ke=H.length,En=ke>>>1;Ce<En;){var nn=2*(Ce+1)-1,or=H[nn],vt=nn+1,Fn=H[vt];if(0>i(or,ae))vt<ke&&0>i(Fn,or)?(H[Ce]=Fn,H[vt]=ae,Ce=vt):(H[Ce]=or,H[nn]=ae,Ce=nn);else if(vt<ke&&0>i(Fn,ae))H[Ce]=Fn,H[vt]=ae,Ce=vt;else break e}}return re}function i(H,re){var ae=H.sortIndex-re.sortIndex;return ae!==0?ae:H.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,v=null,g=3,y=!1,w=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=H)r(h),re.sortIndex=re.expirationTime,t(c,re);else break;re=n(h)}}function k(H){if(b=!1,C(H),!w)if(n(c)!==null)w=!0,rr(D);else{var re=n(h);re!==null&&ir(k,re.startTime-H)}}function D(H,re){w=!1,b&&(b=!1,S(L),L=-1),y=!0;var ae=g;try{for(C(re),v=n(c);v!==null&&(!(v.expirationTime>re)||H&&!ne());){var Ce=v.callback;if(typeof Ce=="function"){v.callback=null,g=v.priorityLevel;var ke=Ce(v.expirationTime<=re);re=e.unstable_now(),typeof ke=="function"?v.callback=ke:v===n(c)&&r(c),C(re)}else r(c);v=n(c)}if(v!==null)var En=!0;else{var nn=n(h);nn!==null&&ir(k,nn.startTime-re),En=!1}return En}finally{v=null,g=ae,y=!1}}var O=!1,j=null,L=-1,Y=5,R=-1;function ne(){return!(e.unstable_now()-R<Y)}function Ue(){if(j!==null){var H=e.unstable_now();R=H;var re=!0;try{re=j(!0,H)}finally{re?Bt():(O=!1,j=null)}}else O=!1}var Bt;if(typeof T=="function")Bt=function(){T(Ue)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,zt=bn.port2;bn.port1.onmessage=Ue,Bt=function(){zt.postMessage(null)}}else Bt=function(){x(Ue,0)};function rr(H){j=H,O||(O=!0,Bt())}function ir(H,re){L=x(function(){H(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,rr(D))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(H){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var ae=g;g=re;try{return H()}finally{g=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=g;g=H;try{return re()}finally{g=ae}},e.unstable_scheduleCallback=function(H,re,ae){var Ce=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ce+ae:Ce):ae=Ce,H){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ae+ke,H={id:d++,callback:re,priorityLevel:H,startTime:ae,expirationTime:ke,sortIndex:-1},ae>Ce?(H.sortIndex=ae,t(h,H),n(c)===null&&H===n(h)&&(b?(S(L),L=-1):b=!0,ir(k,ae-Ce))):(H.sortIndex=ke,t(c,H),w||y||(w=!0,rr(D))),H},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(H){var re=g;return function(){var ae=g;g=re;try{return H.apply(this,arguments)}finally{g=ae}}}})(OM);NM.exports=OM;var YH=NM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DM=$,$r=YH;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LM=new Set,Fh={};function _u(e,t){Gl(e,t),Gl(e+"Capture",t)}function Gl(e,t){for(Fh[e]=t,e=0;e<t.length;e++)LM.add(t[e])}var jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WE=Object.prototype.hasOwnProperty,XH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OP={},DP={};function JH(e){return WE.call(DP,e)?!0:WE.call(OP,e)?!1:XH.test(e)?DP[e]=!0:(OP[e]=!0,!1)}function ZH(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function e8(e,t,n,r){if(t===null||typeof t>"u"||ZH(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nr(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yn[e]=new nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yn[t]=new nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yn[e]=new nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yn[e]=new nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yn[e]=new nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yn[e]=new nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yn[e]=new nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yn[e]=new nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yn[e]=new nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var u1=/[\-:]([a-z])/g;function l1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u1,l1);yn[t]=new nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u1,l1);yn[t]=new nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u1,l1);yn[t]=new nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yn[e]=new nr(e,1,!1,e.toLowerCase(),null,!1,!1)});yn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yn[e]=new nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function c1(e,t,n,r){var i=yn.hasOwnProperty(t)?yn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(e8(t,n,i,r)&&(n=null),r||i===null?JH(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wo=DM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kv=Symbol.for("react.element"),Sl=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),HE=Symbol.for("react.profiler"),MM=Symbol.for("react.provider"),jM=Symbol.for("react.context"),h1=Symbol.for("react.forward_ref"),KE=Symbol.for("react.suspense"),GE=Symbol.for("react.suspense_list"),d1=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),FM=Symbol.for("react.offscreen"),LP=Symbol.iterator;function $f(e){return e===null||typeof e!="object"?null:(e=LP&&e[LP]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Object.assign,Ib;function sh(e){if(Ib===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ib=t&&t[1]||""}return`
`+Ib+e}var xb=!1;function Cb(e,t){if(!e||xb)return"";xb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{xb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sh(e):""}function t8(e){switch(e.tag){case 5:return sh(e.type);case 16:return sh("Lazy");case 13:return sh("Suspense");case 19:return sh("SuspenseList");case 0:case 2:case 15:return e=Cb(e.type,!1),e;case 11:return e=Cb(e.type.render,!1),e;case 1:return e=Cb(e.type,!0),e;default:return""}}function QE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tl:return"Fragment";case Sl:return"Portal";case HE:return"Profiler";case f1:return"StrictMode";case KE:return"Suspense";case GE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jM:return(e.displayName||"Context")+".Consumer";case MM:return(e._context.displayName||"Context")+".Provider";case h1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case d1:return t=e.displayName||null,t!==null?t:QE(e.type)||"Memo";case hs:t=e._payload,e=e._init;try{return QE(e(t))}catch{}}return null}function n8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QE(t);case 8:return t===f1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r8(e){var t=UM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Av(e){e._valueTracker||(e._valueTracker=r8(e))}function $M(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=UM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ug(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function YE(e,t){var n=t.checked;return ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function MP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Us(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VM(e,t){t=t.checked,t!=null&&c1(e,"checked",t,!1)}function XE(e,t){VM(e,t);var n=Us(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?JE(e,t.type,n):t.hasOwnProperty("defaultValue")&&JE(e,t.type,Us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function JE(e,t,n){(t!=="number"||Ug(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ah=Array.isArray;function Fl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Us(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ZE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function FP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(ah(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Us(n)}}function BM(e,t){var n=Us(t.value),r=Us(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function UP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rv,qM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rv=Rv||document.createElement("div"),Rv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ph={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i8=["Webkit","ms","Moz","O"];Object.keys(ph).forEach(function(e){i8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ph[t]=ph[e]})});function WM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ph.hasOwnProperty(e)&&ph[e]?(""+t).trim():t+"px"}function HM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WM(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var o8=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tS(e,t){if(t){if(o8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function nS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rS=null;function p1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iS=null,Ul=null,$l=null;function $P(e){if(e=Ud(e)){if(typeof iS!="function")throw Error(q(280));var t=e.stateNode;t&&(t=hy(t),iS(e.stateNode,e.type,t))}}function KM(e){Ul?$l?$l.push(e):$l=[e]:Ul=e}function GM(){if(Ul){var e=Ul,t=$l;if($l=Ul=null,$P(e),t)for(e=0;e<t.length;e++)$P(t[e])}}function QM(e,t){return e(t)}function YM(){}var kb=!1;function XM(e,t,n){if(kb)return e(t,n);kb=!0;try{return QM(e,t,n)}finally{kb=!1,(Ul!==null||$l!==null)&&(YM(),GM())}}function $h(e,t){var n=e.stateNode;if(n===null)return null;var r=hy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var oS=!1;if(jo)try{var Vf={};Object.defineProperty(Vf,"passive",{get:function(){oS=!0}}),window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{oS=!1}function s8(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var vh=!1,$g=null,Vg=!1,sS=null,a8={onError:function(e){vh=!0,$g=e}};function u8(e,t,n,r,i,s,a,l,c){vh=!1,$g=null,s8.apply(a8,arguments)}function l8(e,t,n,r,i,s,a,l,c){if(u8.apply(this,arguments),vh){if(vh){var h=$g;vh=!1,$g=null}else throw Error(q(198));Vg||(Vg=!0,sS=h)}}function bu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function JM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VP(e){if(bu(e)!==e)throw Error(q(188))}function c8(e){var t=e.alternate;if(!t){if(t=bu(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return VP(i),e;if(s===r)return VP(i),t;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function ZM(e){return e=c8(e),e!==null?ej(e):null}function ej(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ej(e);if(t!==null)return t;e=e.sibling}return null}var tj=$r.unstable_scheduleCallback,BP=$r.unstable_cancelCallback,f8=$r.unstable_shouldYield,h8=$r.unstable_requestPaint,bt=$r.unstable_now,d8=$r.unstable_getCurrentPriorityLevel,v1=$r.unstable_ImmediatePriority,nj=$r.unstable_UserBlockingPriority,Bg=$r.unstable_NormalPriority,p8=$r.unstable_LowPriority,rj=$r.unstable_IdlePriority,uy=null,to=null;function v8(e){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(uy,e,void 0,(e.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:y8,g8=Math.log,m8=Math.LN2;function y8(e){return e>>>=0,e===0?32:31-(g8(e)/m8|0)|0}var Pv=64,Nv=4194304;function uh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=uh(l):(s&=a,s!==0&&(r=uh(s)))}else a=n&~i,a!==0?r=uh(a):s!==0&&(r=uh(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pi(t),i=1<<n,r|=e[n],t&=~i;return r}function w8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pi(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=w8(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function aS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ij(){var e=Pv;return Pv<<=1,!(Pv&4194240)&&(Pv=64),e}function Ab(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pi(t),e[t]=n}function b8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function g1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ze=0;function oj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sj,m1,aj,uj,lj,uS=!1,Ov=[],Is=null,xs=null,Cs=null,Vh=new Map,Bh=new Map,vs=[],E8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zP(e,t){switch(e){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Vh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(t.pointerId)}}function Bf(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ud(t),t!==null&&m1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function S8(e,t,n,r,i){switch(t){case"focusin":return Is=Bf(Is,e,t,n,r,i),!0;case"dragenter":return xs=Bf(xs,e,t,n,r,i),!0;case"mouseover":return Cs=Bf(Cs,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vh.set(s,Bf(Vh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bh.set(s,Bf(Bh.get(s)||null,e,t,n,r,i)),!0}return!1}function cj(e){var t=Oa(e.target);if(t!==null){var n=bu(t);if(n!==null){if(t=n.tag,t===13){if(t=JM(n),t!==null){e.blockedOn=t,lj(e.priority,function(){aj(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rS=r,n.target.dispatchEvent(r),rS=null}else return t=Ud(n),t!==null&&m1(t),e.blockedOn=n,!1;t.shift()}return!0}function qP(e,t,n){dg(e)&&n.delete(t)}function T8(){uS=!1,Is!==null&&dg(Is)&&(Is=null),xs!==null&&dg(xs)&&(xs=null),Cs!==null&&dg(Cs)&&(Cs=null),Vh.forEach(qP),Bh.forEach(qP)}function zf(e,t){e.blockedOn===t&&(e.blockedOn=null,uS||(uS=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,T8)))}function zh(e){function t(i){return zf(i,e)}if(0<Ov.length){zf(Ov[0],e);for(var n=1;n<Ov.length;n++){var r=Ov[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Is!==null&&zf(Is,e),xs!==null&&zf(xs,e),Cs!==null&&zf(Cs,e),Vh.forEach(t),Bh.forEach(t),n=0;n<vs.length;n++)r=vs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vs.length&&(n=vs[0],n.blockedOn===null);)cj(n),n.blockedOn===null&&vs.shift()}var Vl=Wo.ReactCurrentBatchConfig,qg=!0;function I8(e,t,n,r){var i=ze,s=Vl.transition;Vl.transition=null;try{ze=1,y1(e,t,n,r)}finally{ze=i,Vl.transition=s}}function x8(e,t,n,r){var i=ze,s=Vl.transition;Vl.transition=null;try{ze=4,y1(e,t,n,r)}finally{ze=i,Vl.transition=s}}function y1(e,t,n,r){if(qg){var i=lS(e,t,n,r);if(i===null)Ub(e,t,r,Wg,n),zP(e,r);else if(S8(i,e,t,n,r))r.stopPropagation();else if(zP(e,r),t&4&&-1<E8.indexOf(e)){for(;i!==null;){var s=Ud(i);if(s!==null&&sj(s),s=lS(e,t,n,r),s===null&&Ub(e,t,r,Wg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ub(e,t,r,null,n)}}var Wg=null;function lS(e,t,n,r){if(Wg=null,e=p1(r),e=Oa(e),e!==null)if(t=bu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=JM(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wg=e,null}function fj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d8()){case v1:return 1;case nj:return 4;case Bg:case p8:return 16;case rj:return 536870912;default:return 16}default:return 16}}var bs=null,w1=null,pg=null;function hj(){if(pg)return pg;var e,t=w1,n=t.length,r,i="value"in bs?bs.value:bs.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return pg=i.slice(e,1<r?1-r:void 0)}function vg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dv(){return!0}function WP(){return!1}function Wr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dv:WP,this.isPropagationStopped=WP,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),t}var Dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_1=Wr(Dc),Fd=ft({},Dc,{view:0,detail:0}),C8=Wr(Fd),Rb,Pb,qf,ly=ft({},Fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qf&&(qf&&e.type==="mousemove"?(Rb=e.screenX-qf.screenX,Pb=e.screenY-qf.screenY):Pb=Rb=0,qf=e),Rb)},movementY:function(e){return"movementY"in e?e.movementY:Pb}}),HP=Wr(ly),k8=ft({},ly,{dataTransfer:0}),A8=Wr(k8),R8=ft({},Fd,{relatedTarget:0}),Nb=Wr(R8),P8=ft({},Dc,{animationName:0,elapsedTime:0,pseudoElement:0}),N8=Wr(P8),O8=ft({},Dc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D8=Wr(O8),L8=ft({},Dc,{data:0}),KP=Wr(L8),M8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F8[e])?!!t[e]:!1}function b1(){return U8}var $8=ft({},Fd,{key:function(e){if(e.key){var t=M8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b1,charCode:function(e){return e.type==="keypress"?vg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V8=Wr($8),B8=ft({},ly,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GP=Wr(B8),z8=ft({},Fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b1}),q8=Wr(z8),W8=ft({},Dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),H8=Wr(W8),K8=ft({},ly,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G8=Wr(K8),Q8=[9,13,27,32],E1=jo&&"CompositionEvent"in window,gh=null;jo&&"documentMode"in document&&(gh=document.documentMode);var Y8=jo&&"TextEvent"in window&&!gh,dj=jo&&(!E1||gh&&8<gh&&11>=gh),QP=" ",YP=!1;function pj(e,t){switch(e){case"keyup":return Q8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Il=!1;function X8(e,t){switch(e){case"compositionend":return vj(t);case"keypress":return t.which!==32?null:(YP=!0,QP);case"textInput":return e=t.data,e===QP&&YP?null:e;default:return null}}function J8(e,t){if(Il)return e==="compositionend"||!E1&&pj(e,t)?(e=hj(),pg=w1=bs=null,Il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dj&&t.locale!=="ko"?null:t.data;default:return null}}var Z8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z8[e.type]:t==="textarea"}function gj(e,t,n,r){KM(r),t=Hg(t,"onChange"),0<t.length&&(n=new _1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mh=null,qh=null;function eK(e){Cj(e,0)}function cy(e){var t=kl(e);if($M(t))return e}function tK(e,t){if(e==="change")return t}var mj=!1;if(jo){var Ob;if(jo){var Db="oninput"in document;if(!Db){var JP=document.createElement("div");JP.setAttribute("oninput","return;"),Db=typeof JP.oninput=="function"}Ob=Db}else Ob=!1;mj=Ob&&(!document.documentMode||9<document.documentMode)}function ZP(){mh&&(mh.detachEvent("onpropertychange",yj),qh=mh=null)}function yj(e){if(e.propertyName==="value"&&cy(qh)){var t=[];gj(t,qh,e,p1(e)),XM(eK,t)}}function nK(e,t,n){e==="focusin"?(ZP(),mh=t,qh=n,mh.attachEvent("onpropertychange",yj)):e==="focusout"&&ZP()}function rK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cy(qh)}function iK(e,t){if(e==="click")return cy(t)}function oK(e,t){if(e==="input"||e==="change")return cy(t)}function sK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mi=typeof Object.is=="function"?Object.is:sK;function Wh(e,t){if(Mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!WE.call(t,i)||!Mi(e[i],t[i]))return!1}return!0}function eN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tN(e,t){var n=eN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eN(n)}}function wj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _j(){for(var e=window,t=Ug();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ug(e.document)}return t}function S1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aK(e){var t=_j(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wj(n.ownerDocument.documentElement,n)){if(r!==null&&S1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=tN(n,s);var a=tN(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uK=jo&&"documentMode"in document&&11>=document.documentMode,xl=null,cS=null,yh=null,fS=!1;function nN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fS||xl==null||xl!==Ug(r)||(r=xl,"selectionStart"in r&&S1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yh&&Wh(yh,r)||(yh=r,r=Hg(cS,"onSelect"),0<r.length&&(t=new _1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xl)))}function Lv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cl={animationend:Lv("Animation","AnimationEnd"),animationiteration:Lv("Animation","AnimationIteration"),animationstart:Lv("Animation","AnimationStart"),transitionend:Lv("Transition","TransitionEnd")},Lb={},bj={};jo&&(bj=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function fy(e){if(Lb[e])return Lb[e];if(!Cl[e])return e;var t=Cl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bj)return Lb[e]=t[n];return e}var Ej=fy("animationend"),Sj=fy("animationiteration"),Tj=fy("animationstart"),Ij=fy("transitionend"),xj=new Map,rN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){xj.set(e,t),_u(t,[e])}for(var Mb=0;Mb<rN.length;Mb++){var jb=rN[Mb],lK=jb.toLowerCase(),cK=jb[0].toUpperCase()+jb.slice(1);Ks(lK,"on"+cK)}Ks(Ej,"onAnimationEnd");Ks(Sj,"onAnimationIteration");Ks(Tj,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(Ij,"onTransitionEnd");Gl("onMouseEnter",["mouseout","mouseover"]);Gl("onMouseLeave",["mouseout","mouseover"]);Gl("onPointerEnter",["pointerout","pointerover"]);Gl("onPointerLeave",["pointerout","pointerover"]);_u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_u("onBeforeInput",["compositionend","keypress","textInput","paste"]);_u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fK=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function iN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l8(r,t,void 0,e),e.currentTarget=null}function Cj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;iN(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;iN(i,l,h),s=c}}}if(Vg)throw e=sS,Vg=!1,sS=null,e}function Ye(e,t){var n=t[gS];n===void 0&&(n=t[gS]=new Set);var r=e+"__bubble";n.has(r)||(kj(t,e,2,!1),n.add(r))}function Fb(e,t,n){var r=0;t&&(r|=4),kj(n,e,r,t)}var Mv="_reactListening"+Math.random().toString(36).slice(2);function Hh(e){if(!e[Mv]){e[Mv]=!0,LM.forEach(function(n){n!=="selectionchange"&&(fK.has(n)||Fb(n,!1,e),Fb(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mv]||(t[Mv]=!0,Fb("selectionchange",!1,t))}}function kj(e,t,n,r){switch(fj(t)){case 1:var i=I8;break;case 4:i=x8;break;default:i=y1}n=i.bind(null,t,n,e),i=void 0,!oS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ub(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Oa(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}XM(function(){var h=s,d=p1(n),v=[];e:{var g=xj.get(e);if(g!==void 0){var y=_1,w=e;switch(e){case"keypress":if(vg(n)===0)break e;case"keydown":case"keyup":y=V8;break;case"focusin":w="focus",y=Nb;break;case"focusout":w="blur",y=Nb;break;case"beforeblur":case"afterblur":y=Nb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=HP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=A8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=q8;break;case Ej:case Sj:case Tj:y=N8;break;case Ij:y=H8;break;case"scroll":y=C8;break;case"wheel":y=G8;break;case"copy":case"cut":case"paste":y=D8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=GP}var b=(t&4)!==0,x=!b&&e==="scroll",S=b?g!==null?g+"Capture":null:g;b=[];for(var T=h,C;T!==null;){C=T;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,S!==null&&(k=$h(T,S),k!=null&&b.push(Kh(T,k,C)))),x)break;T=T.return}0<b.length&&(g=new y(g,w,null,n,d),v.push({event:g,listeners:b}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==rS&&(w=n.relatedTarget||n.fromElement)&&(Oa(w)||w[Fo]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Oa(w):null,w!==null&&(x=bu(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(b=HP,k="onMouseLeave",S="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(b=GP,k="onPointerLeave",S="onPointerEnter",T="pointer"),x=y==null?g:kl(y),C=w==null?g:kl(w),g=new b(k,T+"leave",y,n,d),g.target=x,g.relatedTarget=C,k=null,Oa(d)===h&&(b=new b(S,T+"enter",w,n,d),b.target=C,b.relatedTarget=x,k=b),x=k,y&&w)t:{for(b=y,S=w,T=0,C=b;C;C=ul(C))T++;for(C=0,k=S;k;k=ul(k))C++;for(;0<T-C;)b=ul(b),T--;for(;0<C-T;)S=ul(S),C--;for(;T--;){if(b===S||S!==null&&b===S.alternate)break t;b=ul(b),S=ul(S)}b=null}else b=null;y!==null&&oN(v,g,y,b,!1),w!==null&&x!==null&&oN(v,x,w,b,!0)}}e:{if(g=h?kl(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var D=tK;else if(XP(g))if(mj)D=oK;else{D=rK;var O=nK}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=iK);if(D&&(D=D(e,h))){gj(v,D,n,d);break e}O&&O(e,g,h),e==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&JE(g,"number",g.value)}switch(O=h?kl(h):window,e){case"focusin":(XP(O)||O.contentEditable==="true")&&(xl=O,cS=h,yh=null);break;case"focusout":yh=cS=xl=null;break;case"mousedown":fS=!0;break;case"contextmenu":case"mouseup":case"dragend":fS=!1,nN(v,n,d);break;case"selectionchange":if(uK)break;case"keydown":case"keyup":nN(v,n,d)}var j;if(E1)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Il?pj(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(dj&&n.locale!=="ko"&&(Il||L!=="onCompositionStart"?L==="onCompositionEnd"&&Il&&(j=hj()):(bs=d,w1="value"in bs?bs.value:bs.textContent,Il=!0)),O=Hg(h,L),0<O.length&&(L=new KP(L,e,null,n,d),v.push({event:L,listeners:O}),j?L.data=j:(j=vj(n),j!==null&&(L.data=j)))),(j=Y8?X8(e,n):J8(e,n))&&(h=Hg(h,"onBeforeInput"),0<h.length&&(d=new KP("onBeforeInput","beforeinput",null,n,d),v.push({event:d,listeners:h}),d.data=j))}Cj(v,t)})}function Kh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$h(e,n),s!=null&&r.unshift(Kh(e,s,i)),s=$h(e,t),s!=null&&r.push(Kh(e,s,i))),e=e.return}return r}function ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oN(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=$h(n,s),c!=null&&a.unshift(Kh(n,c,l))):i||(c=$h(n,s),c!=null&&a.push(Kh(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var hK=/\r\n?/g,dK=/\u0000|\uFFFD/g;function sN(e){return(typeof e=="string"?e:""+e).replace(hK,`
`).replace(dK,"")}function jv(e,t,n){if(t=sN(t),sN(e)!==t&&n)throw Error(q(425))}function Kg(){}var hS=null,dS=null;function pS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vS=typeof setTimeout=="function"?setTimeout:void 0,pK=typeof clearTimeout=="function"?clearTimeout:void 0,aN=typeof Promise=="function"?Promise:void 0,vK=typeof queueMicrotask=="function"?queueMicrotask:typeof aN<"u"?function(e){return aN.resolve(null).then(e).catch(gK)}:vS;function gK(e){setTimeout(function(){throw e})}function $b(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zh(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),Zi="__reactFiber$"+Lc,Gh="__reactProps$"+Lc,Fo="__reactContainer$"+Lc,gS="__reactEvents$"+Lc,mK="__reactListeners$"+Lc,yK="__reactHandles$"+Lc;function Oa(e){var t=e[Zi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fo]||n[Zi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uN(e);e!==null;){if(n=e[Zi])return n;e=uN(e)}return t}e=n,n=e.parentNode}return null}function Ud(e){return e=e[Zi]||e[Fo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function hy(e){return e[Gh]||null}var mS=[],Al=-1;function Gs(e){return{current:e}}function Ze(e){0>Al||(e.current=mS[Al],mS[Al]=null,Al--)}function Ge(e,t){Al++,mS[Al]=e.current,e.current=t}var $s={},Dn=Gs($s),wr=Gs(!1),nu=$s;function Ql(e,t){var n=e.type.contextTypes;if(!n)return $s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _r(e){return e=e.childContextTypes,e!=null}function Gg(){Ze(wr),Ze(Dn)}function lN(e,t,n){if(Dn.current!==$s)throw Error(q(168));Ge(Dn,t),Ge(wr,n)}function Aj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(q(108,n8(e)||"Unknown",i));return ft({},n,r)}function Qg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$s,nu=Dn.current,Ge(Dn,e),Ge(wr,wr.current),!0}function cN(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=Aj(e,t,nu),r.__reactInternalMemoizedMergedChildContext=e,Ze(wr),Ze(Dn),Ge(Dn,e)):Ze(wr),Ge(wr,n)}var Co=null,dy=!1,Vb=!1;function Rj(e){Co===null?Co=[e]:Co.push(e)}function wK(e){dy=!0,Rj(e)}function Qs(){if(!Vb&&Co!==null){Vb=!0;var e=0,t=ze;try{var n=Co;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Co=null,dy=!1}catch(i){throw Co!==null&&(Co=Co.slice(e+1)),tj(v1,Qs),i}finally{ze=t,Vb=!1}}return null}var Rl=[],Pl=0,Yg=null,Xg=0,Xr=[],Jr=0,ru=null,ko=1,Ao="";function Ca(e,t){Rl[Pl++]=Xg,Rl[Pl++]=Yg,Yg=e,Xg=t}function Pj(e,t,n){Xr[Jr++]=ko,Xr[Jr++]=Ao,Xr[Jr++]=ru,ru=e;var r=ko;e=Ao;var i=32-Pi(r)-1;r&=~(1<<i),n+=1;var s=32-Pi(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ko=1<<32-Pi(t)+i|n<<i|r,Ao=s+e}else ko=1<<s|n<<i|r,Ao=e}function T1(e){e.return!==null&&(Ca(e,1),Pj(e,1,0))}function I1(e){for(;e===Yg;)Yg=Rl[--Pl],Rl[Pl]=null,Xg=Rl[--Pl],Rl[Pl]=null;for(;e===ru;)ru=Xr[--Jr],Xr[Jr]=null,Ao=Xr[--Jr],Xr[Jr]=null,ko=Xr[--Jr],Xr[Jr]=null}var Ur=null,Lr=null,nt=!1,Ai=null;function Nj(e,t){var n=Zr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,Lr=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,Lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ru!==null?{id:ko,overflow:Ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ur=e,Lr=null,!0):!1;default:return!1}}function yS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wS(e){if(nt){var t=Lr;if(t){var n=t;if(!fN(e,t)){if(yS(e))throw Error(q(418));t=ks(n.nextSibling);var r=Ur;t&&fN(e,t)?Nj(r,n):(e.flags=e.flags&-4097|2,nt=!1,Ur=e)}}else{if(yS(e))throw Error(q(418));e.flags=e.flags&-4097|2,nt=!1,Ur=e}}}function hN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function Fv(e){if(e!==Ur)return!1;if(!nt)return hN(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pS(e.type,e.memoizedProps)),t&&(t=Lr)){if(yS(e))throw Oj(),Error(q(418));for(;t;)Nj(e,t),t=ks(t.nextSibling)}if(hN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lr=ks(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lr=null}}else Lr=Ur?ks(e.stateNode.nextSibling):null;return!0}function Oj(){for(var e=Lr;e;)e=ks(e.nextSibling)}function Yl(){Lr=Ur=null,nt=!1}function x1(e){Ai===null?Ai=[e]:Ai.push(e)}var _K=Wo.ReactCurrentBatchConfig;function xi(e,t){if(e&&e.defaultProps){t=ft({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Jg=Gs(null),Zg=null,Nl=null,C1=null;function k1(){C1=Nl=Zg=null}function A1(e){var t=Jg.current;Ze(Jg),e._currentValue=t}function _S(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bl(e,t){Zg=e,C1=Nl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gr=!0),e.firstContext=null)}function ui(e){var t=e._currentValue;if(C1!==e)if(e={context:e,memoizedValue:t,next:null},Nl===null){if(Zg===null)throw Error(q(308));Nl=e,Zg.dependencies={lanes:0,firstContext:e}}else Nl=Nl.next=e;return t}var Da=null;function R1(e){Da===null?Da=[e]:Da.push(e)}function Dj(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,R1(t)):(n.next=i.next,i.next=n),t.interleaved=n,Uo(e,r)}function Uo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ds=!1;function P1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Uo(e,n)}return i=r.interleaved,i===null?(t.next=t,R1(r)):(t.next=i.next,i.next=t),r.interleaved=t,Uo(e,n)}function gg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,g1(e,n)}}function dN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function em(e,t,n,r){var i=e.updateQueue;ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,d=h=c=null,l=s;do{var g=l.lane,y=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,b=l;switch(g=t,y=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){v=w.call(y,v,g);break e}v=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,g=typeof w=="function"?w.call(y,v,g):w,g==null)break e;v=ft({},v,g);break e;case 2:ds=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,c=v):d=d.next=y,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ou|=a,e.lanes=a,e.memoizedState=v}}function pN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Mj=new DM.Component().refs;function bS(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var py={isMounted:function(e){return(e=e._reactInternals)?bu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jn(),i=Ps(e),s=Oo(r,i);s.payload=t,n!=null&&(s.callback=n),t=As(e,s,i),t!==null&&(Ni(t,e,i,r),gg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jn(),i=Ps(e),s=Oo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=As(e,s,i),t!==null&&(Ni(t,e,i,r),gg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jn(),r=Ps(e),i=Oo(n,r);i.tag=2,t!=null&&(i.callback=t),t=As(e,i,r),t!==null&&(Ni(t,e,r,n),gg(t,e,r))}};function vN(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Wh(n,r)||!Wh(i,s):!0}function jj(e,t,n){var r=!1,i=$s,s=t.contextType;return typeof s=="object"&&s!==null?s=ui(s):(i=_r(t)?nu:Dn.current,r=t.contextTypes,s=(r=r!=null)?Ql(e,i):$s),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=py,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function gN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&py.enqueueReplaceState(t,t.state,null)}function ES(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Mj,P1(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ui(s):(s=_r(t)?nu:Dn.current,i.context=Ql(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bS(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&py.enqueueReplaceState(i,i.state,null),em(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===Mj&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function Uv(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mN(e){var t=e._init;return t(e._payload)}function Fj(e){function t(S,T){if(e){var C=S.deletions;C===null?(S.deletions=[T],S.flags|=16):C.push(T)}}function n(S,T){if(!e)return null;for(;T!==null;)t(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Ns(S,T),S.index=0,S.sibling=null,S}function s(S,T,C){return S.index=C,e?(C=S.alternate,C!==null?(C=C.index,C<T?(S.flags|=2,T):C):(S.flags|=2,T)):(S.flags|=1048576,T)}function a(S){return e&&S.alternate===null&&(S.flags|=2),S}function l(S,T,C,k){return T===null||T.tag!==6?(T=Gb(C,S.mode,k),T.return=S,T):(T=i(T,C),T.return=S,T)}function c(S,T,C,k){var D=C.type;return D===Tl?d(S,T,C.props.children,k,C.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hs&&mN(D)===T.type)?(k=i(T,C.props),k.ref=Wf(S,T,C),k.return=S,k):(k=Eg(C.type,C.key,C.props,null,S.mode,k),k.ref=Wf(S,T,C),k.return=S,k)}function h(S,T,C,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==C.containerInfo||T.stateNode.implementation!==C.implementation?(T=Qb(C,S.mode,k),T.return=S,T):(T=i(T,C.children||[]),T.return=S,T)}function d(S,T,C,k,D){return T===null||T.tag!==7?(T=Wa(C,S.mode,k,D),T.return=S,T):(T=i(T,C),T.return=S,T)}function v(S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Gb(""+T,S.mode,C),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kv:return C=Eg(T.type,T.key,T.props,null,S.mode,C),C.ref=Wf(S,null,T),C.return=S,C;case Sl:return T=Qb(T,S.mode,C),T.return=S,T;case hs:var k=T._init;return v(S,k(T._payload),C)}if(ah(T)||$f(T))return T=Wa(T,S.mode,C,null),T.return=S,T;Uv(S,T)}return null}function g(S,T,C,k){var D=T!==null?T.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return D!==null?null:l(S,T,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case kv:return C.key===D?c(S,T,C,k):null;case Sl:return C.key===D?h(S,T,C,k):null;case hs:return D=C._init,g(S,T,D(C._payload),k)}if(ah(C)||$f(C))return D!==null?null:d(S,T,C,k,null);Uv(S,C)}return null}function y(S,T,C,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return S=S.get(C)||null,l(T,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case kv:return S=S.get(k.key===null?C:k.key)||null,c(T,S,k,D);case Sl:return S=S.get(k.key===null?C:k.key)||null,h(T,S,k,D);case hs:var O=k._init;return y(S,T,C,O(k._payload),D)}if(ah(k)||$f(k))return S=S.get(C)||null,d(T,S,k,D,null);Uv(T,k)}return null}function w(S,T,C,k){for(var D=null,O=null,j=T,L=T=0,Y=null;j!==null&&L<C.length;L++){j.index>L?(Y=j,j=null):Y=j.sibling;var R=g(S,j,C[L],k);if(R===null){j===null&&(j=Y);break}e&&j&&R.alternate===null&&t(S,j),T=s(R,T,L),O===null?D=R:O.sibling=R,O=R,j=Y}if(L===C.length)return n(S,j),nt&&Ca(S,L),D;if(j===null){for(;L<C.length;L++)j=v(S,C[L],k),j!==null&&(T=s(j,T,L),O===null?D=j:O.sibling=j,O=j);return nt&&Ca(S,L),D}for(j=r(S,j);L<C.length;L++)Y=y(j,S,L,C[L],k),Y!==null&&(e&&Y.alternate!==null&&j.delete(Y.key===null?L:Y.key),T=s(Y,T,L),O===null?D=Y:O.sibling=Y,O=Y);return e&&j.forEach(function(ne){return t(S,ne)}),nt&&Ca(S,L),D}function b(S,T,C,k){var D=$f(C);if(typeof D!="function")throw Error(q(150));if(C=D.call(C),C==null)throw Error(q(151));for(var O=D=null,j=T,L=T=0,Y=null,R=C.next();j!==null&&!R.done;L++,R=C.next()){j.index>L?(Y=j,j=null):Y=j.sibling;var ne=g(S,j,R.value,k);if(ne===null){j===null&&(j=Y);break}e&&j&&ne.alternate===null&&t(S,j),T=s(ne,T,L),O===null?D=ne:O.sibling=ne,O=ne,j=Y}if(R.done)return n(S,j),nt&&Ca(S,L),D;if(j===null){for(;!R.done;L++,R=C.next())R=v(S,R.value,k),R!==null&&(T=s(R,T,L),O===null?D=R:O.sibling=R,O=R);return nt&&Ca(S,L),D}for(j=r(S,j);!R.done;L++,R=C.next())R=y(j,S,L,R.value,k),R!==null&&(e&&R.alternate!==null&&j.delete(R.key===null?L:R.key),T=s(R,T,L),O===null?D=R:O.sibling=R,O=R);return e&&j.forEach(function(Ue){return t(S,Ue)}),nt&&Ca(S,L),D}function x(S,T,C,k){if(typeof C=="object"&&C!==null&&C.type===Tl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case kv:e:{for(var D=C.key,O=T;O!==null;){if(O.key===D){if(D=C.type,D===Tl){if(O.tag===7){n(S,O.sibling),T=i(O,C.props.children),T.return=S,S=T;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===hs&&mN(D)===O.type){n(S,O.sibling),T=i(O,C.props),T.ref=Wf(S,O,C),T.return=S,S=T;break e}n(S,O);break}else t(S,O);O=O.sibling}C.type===Tl?(T=Wa(C.props.children,S.mode,k,C.key),T.return=S,S=T):(k=Eg(C.type,C.key,C.props,null,S.mode,k),k.ref=Wf(S,T,C),k.return=S,S=k)}return a(S);case Sl:e:{for(O=C.key;T!==null;){if(T.key===O)if(T.tag===4&&T.stateNode.containerInfo===C.containerInfo&&T.stateNode.implementation===C.implementation){n(S,T.sibling),T=i(T,C.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else t(S,T);T=T.sibling}T=Qb(C,S.mode,k),T.return=S,S=T}return a(S);case hs:return O=C._init,x(S,T,O(C._payload),k)}if(ah(C))return w(S,T,C,k);if($f(C))return b(S,T,C,k);Uv(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,C),T.return=S,S=T):(n(S,T),T=Gb(C,S.mode,k),T.return=S,S=T),a(S)):n(S,T)}return x}var Xl=Fj(!0),Uj=Fj(!1),$d={},no=Gs($d),Qh=Gs($d),Yh=Gs($d);function La(e){if(e===$d)throw Error(q(174));return e}function N1(e,t){switch(Ge(Yh,t),Ge(Qh,e),Ge(no,$d),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eS(t,e)}Ze(no),Ge(no,t)}function Jl(){Ze(no),Ze(Qh),Ze(Yh)}function $j(e){La(Yh.current);var t=La(no.current),n=eS(t,e.type);t!==n&&(Ge(Qh,e),Ge(no,n))}function O1(e){Qh.current===e&&(Ze(no),Ze(Qh))}var at=Gs(0);function tm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bb=[];function D1(){for(var e=0;e<Bb.length;e++)Bb[e]._workInProgressVersionPrimary=null;Bb.length=0}var mg=Wo.ReactCurrentDispatcher,zb=Wo.ReactCurrentBatchConfig,iu=0,ct=null,Mt=null,Ht=null,nm=!1,wh=!1,Xh=0,bK=0;function Sn(){throw Error(q(321))}function L1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mi(e[n],t[n]))return!1;return!0}function M1(e,t,n,r,i,s){if(iu=s,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mg.current=e===null||e.memoizedState===null?IK:xK,e=n(r,i),wh){s=0;do{if(wh=!1,Xh=0,25<=s)throw Error(q(301));s+=1,Ht=Mt=null,t.updateQueue=null,mg.current=CK,e=n(r,i)}while(wh)}if(mg.current=rm,t=Mt!==null&&Mt.next!==null,iu=0,Ht=Mt=ct=null,nm=!1,t)throw Error(q(300));return e}function j1(){var e=Xh!==0;return Xh=0,e}function Yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ct.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function li(){if(Mt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Ht===null?ct.memoizedState:Ht.next;if(t!==null)Ht=t,Mt=e;else{if(e===null)throw Error(q(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ht===null?ct.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Jh(e,t){return typeof t=="function"?t(e):t}function qb(e){var t=li(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=Mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var d=h.lane;if((iu&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,ct.lanes|=d,ou|=d}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Mi(r,t.memoizedState)||(gr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ct.lanes|=s,ou|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wb(e){var t=li(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Mi(s,t.memoizedState)||(gr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Vj(){}function Bj(e,t){var n=ct,r=li(),i=t(),s=!Mi(r.memoizedState,i);if(s&&(r.memoizedState=i,gr=!0),r=r.queue,F1(Wj.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Zh(9,qj.bind(null,n,r,i,t),void 0,null),Zt===null)throw Error(q(349));iu&30||zj(n,t,i)}return i}function zj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qj(e,t,n,r){t.value=n,t.getSnapshot=r,Hj(t)&&Kj(e)}function Wj(e,t,n){return n(function(){Hj(t)&&Kj(e)})}function Hj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mi(e,n)}catch{return!0}}function Kj(e){var t=Uo(e,1);t!==null&&Ni(t,e,1,-1)}function yN(e){var t=Yi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:e},t.queue=e,e=e.dispatch=TK.bind(null,ct,e),[t.memoizedState,e]}function Zh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gj(){return li().memoizedState}function yg(e,t,n,r){var i=Yi();ct.flags|=e,i.memoizedState=Zh(1|t,n,void 0,r===void 0?null:r)}function vy(e,t,n,r){var i=li();r=r===void 0?null:r;var s=void 0;if(Mt!==null){var a=Mt.memoizedState;if(s=a.destroy,r!==null&&L1(r,a.deps)){i.memoizedState=Zh(t,n,s,r);return}}ct.flags|=e,i.memoizedState=Zh(1|t,n,s,r)}function wN(e,t){return yg(8390656,8,e,t)}function F1(e,t){return vy(2048,8,e,t)}function Qj(e,t){return vy(4,2,e,t)}function Yj(e,t){return vy(4,4,e,t)}function Xj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jj(e,t,n){return n=n!=null?n.concat([e]):null,vy(4,4,Xj.bind(null,t,e),n)}function U1(){}function Zj(e,t){var n=li();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&L1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eF(e,t){var n=li();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&L1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tF(e,t,n){return iu&21?(Mi(n,t)||(n=ij(),ct.lanes|=n,ou|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gr=!0),e.memoizedState=n)}function EK(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=zb.transition;zb.transition={};try{e(!1),t()}finally{ze=n,zb.transition=r}}function nF(){return li().memoizedState}function SK(e,t,n){var r=Ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rF(e))iF(t,n);else if(n=Dj(e,t,n,r),n!==null){var i=Jn();Ni(n,e,r,i),oF(n,t,r)}}function TK(e,t,n){var r=Ps(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rF(e))iF(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Mi(l,a)){var c=t.interleaved;c===null?(i.next=i,R1(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Dj(e,t,i,r),n!==null&&(i=Jn(),Ni(n,e,r,i),oF(n,t,r))}}function rF(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function iF(e,t){wh=nm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oF(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,g1(e,n)}}var rm={readContext:ui,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},IK={readContext:ui,useCallback:function(e,t){return Yi().memoizedState=[e,t===void 0?null:t],e},useContext:ui,useEffect:wN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yg(4194308,4,Xj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yg(4194308,4,e,t)},useInsertionEffect:function(e,t){return yg(4,2,e,t)},useMemo:function(e,t){var n=Yi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=SK.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Yi();return e={current:e},t.memoizedState=e},useState:yN,useDebugValue:U1,useDeferredValue:function(e){return Yi().memoizedState=e},useTransition:function(){var e=yN(!1),t=e[0];return e=EK.bind(null,e[1]),Yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ct,i=Yi();if(nt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),Zt===null)throw Error(q(349));iu&30||zj(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wN(Wj.bind(null,r,s,e),[e]),r.flags|=2048,Zh(9,qj.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Yi(),t=Zt.identifierPrefix;if(nt){var n=Ao,r=ko;n=(r&~(1<<32-Pi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bK++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xK={readContext:ui,useCallback:Zj,useContext:ui,useEffect:F1,useImperativeHandle:Jj,useInsertionEffect:Qj,useLayoutEffect:Yj,useMemo:eF,useReducer:qb,useRef:Gj,useState:function(){return qb(Jh)},useDebugValue:U1,useDeferredValue:function(e){var t=li();return tF(t,Mt.memoizedState,e)},useTransition:function(){var e=qb(Jh)[0],t=li().memoizedState;return[e,t]},useMutableSource:Vj,useSyncExternalStore:Bj,useId:nF,unstable_isNewReconciler:!1},CK={readContext:ui,useCallback:Zj,useContext:ui,useEffect:F1,useImperativeHandle:Jj,useInsertionEffect:Qj,useLayoutEffect:Yj,useMemo:eF,useReducer:Wb,useRef:Gj,useState:function(){return Wb(Jh)},useDebugValue:U1,useDeferredValue:function(e){var t=li();return Mt===null?t.memoizedState=e:tF(t,Mt.memoizedState,e)},useTransition:function(){var e=Wb(Jh)[0],t=li().memoizedState;return[e,t]},useMutableSource:Vj,useSyncExternalStore:Bj,useId:nF,unstable_isNewReconciler:!1};function Zl(e,t){try{var n="",r=t;do n+=t8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Hb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function SS(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kK=typeof WeakMap=="function"?WeakMap:Map;function sF(e,t,n){n=Oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){om||(om=!0,OS=r),SS(e,t)},n}function aF(e,t,n){n=Oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){SS(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){SS(e,t),typeof r!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function _N(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kK;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=BK.bind(null,e,t,n),t.then(e,e))}function bN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function EN(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oo(-1,1),t.tag=2,As(n,t,1))),n.lanes|=1),e)}var AK=Wo.ReactCurrentOwner,gr=!1;function Wn(e,t,n,r){t.child=e===null?Uj(t,null,n,r):Xl(t,e.child,n,r)}function SN(e,t,n,r,i){n=n.render;var s=t.ref;return Bl(t,i),r=M1(e,t,n,r,s,i),n=j1(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i)):(nt&&n&&T1(t),t.flags|=1,Wn(e,t,r,i),t.child)}function TN(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!K1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,uF(e,t,s,r,i)):(e=Eg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wh,n(a,r)&&e.ref===t.ref)return $o(e,t,i)}return t.flags|=1,e=Ns(s,r),e.ref=t.ref,e.return=t,t.child=e}function uF(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Wh(s,r)&&e.ref===t.ref)if(gr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(gr=!0);else return t.lanes=e.lanes,$o(e,t,i)}return TS(e,t,n,r,i)}function lF(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Dl,Pr),Pr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(Dl,Pr),Pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(Dl,Pr),Pr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ge(Dl,Pr),Pr|=r;return Wn(e,t,i,n),t.child}function cF(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function TS(e,t,n,r,i){var s=_r(n)?nu:Dn.current;return s=Ql(t,s),Bl(t,i),n=M1(e,t,n,r,s,i),r=j1(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$o(e,t,i)):(nt&&r&&T1(t),t.flags|=1,Wn(e,t,n,i),t.child)}function IN(e,t,n,r,i){if(_r(n)){var s=!0;Qg(t)}else s=!1;if(Bl(t,i),t.stateNode===null)wg(e,t),jj(t,n,r),ES(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=ui(h):(h=_r(n)?nu:Dn.current,h=Ql(t,h));var d=n.getDerivedStateFromProps,v=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&gN(t,a,r,h),ds=!1;var g=t.memoizedState;a.state=g,em(t,r,a,i),c=t.memoizedState,l!==r||g!==c||wr.current||ds?(typeof d=="function"&&(bS(t,n,d,r),c=t.memoizedState),(l=ds||vN(t,n,l,r,g,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Lj(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:xi(t.type,l),a.props=h,v=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ui(c):(c=_r(n)?nu:Dn.current,c=Ql(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||g!==c)&&gN(t,a,r,c),ds=!1,g=t.memoizedState,a.state=g,em(t,r,a,i);var w=t.memoizedState;l!==v||g!==w||wr.current||ds?(typeof y=="function"&&(bS(t,n,y,r),w=t.memoizedState),(h=ds||vN(t,n,h,r,g,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return IS(e,t,n,r,s,i)}function IS(e,t,n,r,i,s){cF(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&cN(t,n,!1),$o(e,t,s);r=t.stateNode,AK.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Xl(t,e.child,null,s),t.child=Xl(t,null,l,s)):Wn(e,t,l,s),t.memoizedState=r.state,i&&cN(t,n,!0),t.child}function fF(e){var t=e.stateNode;t.pendingContext?lN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lN(e,t.context,!1),N1(e,t.containerInfo)}function xN(e,t,n,r,i){return Yl(),x1(i),t.flags|=256,Wn(e,t,n,r),t.child}var xS={dehydrated:null,treeContext:null,retryLane:0};function CS(e){return{baseLanes:e,cachePool:null,transitions:null}}function hF(e,t,n){var r=t.pendingProps,i=at.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(at,i&1),e===null)return wS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=yy(a,r,0,null),e=Wa(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=CS(n),t.memoizedState=xS,e):$1(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return RK(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ns(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ns(l,s):(s=Wa(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?CS(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=xS,r}return s=e.child,e=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $1(e,t){return t=yy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $v(e,t,n,r){return r!==null&&x1(r),Xl(t,e.child,null,n),e=$1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RK(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Hb(Error(q(422))),$v(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=yy({mode:"visible",children:r.children},i,0,null),s=Wa(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Xl(t,e.child,null,a),t.child.memoizedState=CS(a),t.memoizedState=xS,s);if(!(t.mode&1))return $v(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(q(419)),r=Hb(s,r,void 0),$v(e,t,a,r)}if(l=(a&e.childLanes)!==0,gr||l){if(r=Zt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Uo(e,i),Ni(r,e,i,-1))}return H1(),r=Hb(Error(q(421))),$v(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zK.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Lr=ks(i.nextSibling),Ur=t,nt=!0,Ai=null,e!==null&&(Xr[Jr++]=ko,Xr[Jr++]=Ao,Xr[Jr++]=ru,ko=e.id,Ao=e.overflow,ru=t),t=$1(t,r.children),t.flags|=4096,t)}function CN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_S(e.return,t,n)}function Kb(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dF(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Wn(e,t,r.children,n),r=at.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&CN(e,n,t);else if(e.tag===19)CN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(at,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&tm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Kb(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&tm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Kb(t,!0,n,null,s);break;case"together":Kb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $o(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ou|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=Ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PK(e,t,n){switch(t.tag){case 3:fF(t),Yl();break;case 5:$j(t);break;case 1:_r(t.type)&&Qg(t);break;case 4:N1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(Jg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(at,at.current&1),t.flags|=128,null):n&t.child.childLanes?hF(e,t,n):(Ge(at,at.current&1),e=$o(e,t,n),e!==null?e.sibling:null);Ge(at,at.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dF(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(at,at.current),r)break;return null;case 22:case 23:return t.lanes=0,lF(e,t,n)}return $o(e,t,n)}var pF,kS,vF,gF;pF=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kS=function(){};vF=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,La(no.current);var s=null;switch(n){case"input":i=YE(e,i),r=YE(e,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=ZE(e,i),r=ZE(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kg)}tS(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Fh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Fh.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ye("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};gF=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hf(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function NK(e,t,n){var r=t.pendingProps;switch(I1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return _r(t.type)&&Gg(),Tn(t),null;case 3:return r=t.stateNode,Jl(),Ze(wr),Ze(Dn),D1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ai!==null&&(MS(Ai),Ai=null))),kS(e,t),Tn(t),null;case 5:O1(t);var i=La(Yh.current);if(n=t.type,e!==null&&t.stateNode!=null)vF(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return Tn(t),null}if(e=La(no.current),Fv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zi]=t,r[Gh]=s,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<lh.length;i++)Ye(lh[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":MP(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":FP(r,s),Ye("invalid",r)}tS(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&jv(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&jv(r.textContent,l,e),i=["children",""+l]):Fh.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Av(r),jP(r,s,!0);break;case"textarea":Av(r),UP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Zi]=t,e[Gh]=r,pF(e,t,!1,!1),t.stateNode=e;e:{switch(a=nS(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),i=r;break;case"iframe":case"object":case"embed":Ye("load",e),i=r;break;case"video":case"audio":for(i=0;i<lh.length;i++)Ye(lh[i],e);i=r;break;case"source":Ye("error",e),i=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),i=r;break;case"details":Ye("toggle",e),i=r;break;case"input":MP(e,r),i=YE(e,r),Ye("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":FP(e,r),i=ZE(e,r),Ye("invalid",e);break;default:i=r}tS(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?HM(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qM(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Uh(e,c):typeof c=="number"&&Uh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",e):c!=null&&c1(e,s,c,a))}switch(n){case"input":Av(e),jP(e,r,!1);break;case"textarea":Av(e),UP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Us(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Fl(e,!!r.multiple,s,!1):r.defaultValue!=null&&Fl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Kg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)gF(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=La(Yh.current),La(no.current),Fv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zi]=t,(s=r.nodeValue!==n)&&(e=Ur,e!==null))switch(e.tag){case 3:jv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zi]=t,t.stateNode=r}return Tn(t),null;case 13:if(Ze(at),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Lr!==null&&t.mode&1&&!(t.flags&128))Oj(),Yl(),t.flags|=98560,s=!1;else if(s=Fv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Zi]=t}else Yl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),s=!1}else Ai!==null&&(MS(Ai),Ai=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?Ft===0&&(Ft=3):H1())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return Jl(),kS(e,t),e===null&&Hh(t.stateNode.containerInfo),Tn(t),null;case 10:return A1(t.type._context),Tn(t),null;case 17:return _r(t.type)&&Gg(),Tn(t),null;case 19:if(Ze(at),s=t.memoizedState,s===null)return Tn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Hf(s,!1);else{if(Ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=tm(e),a!==null){for(t.flags|=128,Hf(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(at,at.current&1|2),t.child}e=e.sibling}s.tail!==null&&bt()>ec&&(t.flags|=128,r=!0,Hf(s,!1),t.lanes=4194304)}else{if(!r)if(e=tm(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!nt)return Tn(t),null}else 2*bt()-s.renderingStartTime>ec&&n!==1073741824&&(t.flags|=128,r=!0,Hf(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=bt(),t.sibling=null,n=at.current,Ge(at,r?n&1|2:n&1),t):(Tn(t),null);case 22:case 23:return W1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pr&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function OK(e,t){switch(I1(t),t.tag){case 1:return _r(t.type)&&Gg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jl(),Ze(wr),Ze(Dn),D1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return O1(t),null;case 13:if(Ze(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Yl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(at),null;case 4:return Jl(),null;case 10:return A1(t.type._context),null;case 22:case 23:return W1(),null;case 24:return null;default:return null}}var Vv=!1,kn=!1,DK=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ol(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(e,t,r)}else n.current=null}function AS(e,t,n){try{n()}catch(r){dt(e,t,r)}}var kN=!1;function LK(e,t){if(hS=qg,e=_j(),S1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,v=e,g=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)g=v,v=y;for(;;){if(v===e)break t;if(g===n&&++h===i&&(l=a),g===s&&++d===r&&(c=a),(y=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dS={focusedElem:e,selectionRange:n},qg=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,x=w.memoizedState,S=t.stateNode,T=S.getSnapshotBeforeUpdate(t.elementType===t.type?b:xi(t.type,b),x);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){dt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return w=kN,kN=!1,w}function _h(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&AS(t,n,s)}i=i.next}while(i!==r)}}function gy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function RS(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mF(e){var t=e.alternate;t!==null&&(e.alternate=null,mF(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zi],delete t[Gh],delete t[gS],delete t[mK],delete t[yK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yF(e){return e.tag===5||e.tag===3||e.tag===4}function AN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yF(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function PS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kg));else if(r!==4&&(e=e.child,e!==null))for(PS(e,t,n),e=e.sibling;e!==null;)PS(e,t,n),e=e.sibling}function NS(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(NS(e,t,n),e=e.sibling;e!==null;)NS(e,t,n),e=e.sibling}var ln=null,ki=!1;function os(e,t,n){for(n=n.child;n!==null;)wF(e,t,n),n=n.sibling}function wF(e,t,n){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(uy,n)}catch{}switch(n.tag){case 5:kn||Ol(n,t);case 6:var r=ln,i=ki;ln=null,os(e,t,n),ln=r,ki=i,ln!==null&&(ki?(e=ln,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ln.removeChild(n.stateNode));break;case 18:ln!==null&&(ki?(e=ln,n=n.stateNode,e.nodeType===8?$b(e.parentNode,n):e.nodeType===1&&$b(e,n),zh(e)):$b(ln,n.stateNode));break;case 4:r=ln,i=ki,ln=n.stateNode.containerInfo,ki=!0,os(e,t,n),ln=r,ki=i;break;case 0:case 11:case 14:case 15:if(!kn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&AS(n,t,a),i=i.next}while(i!==r)}os(e,t,n);break;case 1:if(!kn&&(Ol(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){dt(n,t,l)}os(e,t,n);break;case 21:os(e,t,n);break;case 22:n.mode&1?(kn=(r=kn)||n.memoizedState!==null,os(e,t,n),kn=r):os(e,t,n);break;default:os(e,t,n)}}function RN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DK),t.forEach(function(r){var i=qK.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ln=l.stateNode,ki=!1;break e;case 3:ln=l.stateNode.containerInfo,ki=!0;break e;case 4:ln=l.stateNode.containerInfo,ki=!0;break e}l=l.return}if(ln===null)throw Error(q(160));wF(s,a,i),ln=null,ki=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){dt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_F(t,e),t=t.sibling}function _F(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bi(t,e),Gi(e),r&4){try{_h(3,e,e.return),gy(3,e)}catch(b){dt(e,e.return,b)}try{_h(5,e,e.return)}catch(b){dt(e,e.return,b)}}break;case 1:bi(t,e),Gi(e),r&512&&n!==null&&Ol(n,n.return);break;case 5:if(bi(t,e),Gi(e),r&512&&n!==null&&Ol(n,n.return),e.flags&32){var i=e.stateNode;try{Uh(i,"")}catch(b){dt(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&VM(i,s),nS(l,a);var h=nS(l,s);for(a=0;a<c.length;a+=2){var d=c[a],v=c[a+1];d==="style"?HM(i,v):d==="dangerouslySetInnerHTML"?qM(i,v):d==="children"?Uh(i,v):c1(i,d,v,h)}switch(l){case"input":XE(i,s);break;case"textarea":BM(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Fl(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?Fl(i,!!s.multiple,s.defaultValue,!0):Fl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gh]=s}catch(b){dt(e,e.return,b)}}break;case 6:if(bi(t,e),Gi(e),r&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){dt(e,e.return,b)}}break;case 3:if(bi(t,e),Gi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zh(t.containerInfo)}catch(b){dt(e,e.return,b)}break;case 4:bi(t,e),Gi(e);break;case 13:bi(t,e),Gi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(z1=bt())),r&4&&RN(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(kn=(h=kn)||d,bi(t,e),kn=h):bi(t,e),Gi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(v=J=d;J!==null;){switch(g=J,y=g.child,g.tag){case 0:case 11:case 14:case 15:_h(4,g,g.return);break;case 1:Ol(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){dt(r,n,b)}}break;case 5:Ol(g,g.return);break;case 22:if(g.memoizedState!==null){NN(v);continue}}y!==null?(y.return=g,J=y):NN(v)}d=d.sibling}e:for(d=null,v=e;;){if(v.tag===5){if(d===null){d=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=WM("display",a))}catch(b){dt(e,e.return,b)}}}else if(v.tag===6){if(d===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(b){dt(e,e.return,b)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:bi(t,e),Gi(e),r&4&&RN(e);break;case 21:break;default:bi(t,e),Gi(e)}}function Gi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yF(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uh(i,""),r.flags&=-33);var s=AN(e);NS(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=AN(e);PS(e,l,a);break;default:throw Error(q(161))}}catch(c){dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MK(e,t,n){J=e,bF(e)}function bF(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Vv;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||kn;l=Vv;var h=kn;if(Vv=a,(kn=c)&&!h)for(J=i;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?ON(i):c!==null?(c.return=a,J=c):ON(i);for(;s!==null;)J=s,bF(s),s=s.sibling;J=i,Vv=l,kn=h}PN(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):PN(e)}}function PN(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kn||gy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&pN(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pN(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var v=d.dehydrated;v!==null&&zh(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}kn||t.flags&512&&RS(t)}catch(g){dt(t,t.return,g)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function NN(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function ON(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gy(4,t)}catch(c){dt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){dt(t,i,c)}}var s=t.return;try{RS(t)}catch(c){dt(t,s,c)}break;case 5:var a=t.return;try{RS(t)}catch(c){dt(t,a,c)}}}catch(c){dt(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var jK=Math.ceil,im=Wo.ReactCurrentDispatcher,V1=Wo.ReactCurrentOwner,oi=Wo.ReactCurrentBatchConfig,Re=0,Zt=null,Ct=null,pn=0,Pr=0,Dl=Gs(0),Ft=0,ed=null,ou=0,my=0,B1=0,bh=null,pr=null,z1=0,ec=1/0,To=null,om=!1,OS=null,Rs=null,Bv=!1,Es=null,sm=0,Eh=0,DS=null,_g=-1,bg=0;function Jn(){return Re&6?bt():_g!==-1?_g:_g=bt()}function Ps(e){return e.mode&1?Re&2&&pn!==0?pn&-pn:_K.transition!==null?(bg===0&&(bg=ij()),bg):(e=ze,e!==0||(e=window.event,e=e===void 0?16:fj(e.type)),e):1}function Ni(e,t,n,r){if(50<Eh)throw Eh=0,DS=null,Error(q(185));jd(e,n,r),(!(Re&2)||e!==Zt)&&(e===Zt&&(!(Re&2)&&(my|=n),Ft===4&&gs(e,pn)),br(e,r),n===1&&Re===0&&!(t.mode&1)&&(ec=bt()+500,dy&&Qs()))}function br(e,t){var n=e.callbackNode;_8(e,t);var r=zg(e,e===Zt?pn:0);if(r===0)n!==null&&BP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&BP(n),t===1)e.tag===0?wK(DN.bind(null,e)):Rj(DN.bind(null,e)),vK(function(){!(Re&6)&&Qs()}),n=null;else{switch(oj(r)){case 1:n=v1;break;case 4:n=nj;break;case 16:n=Bg;break;case 536870912:n=rj;break;default:n=Bg}n=AF(n,EF.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function EF(e,t){if(_g=-1,bg=0,Re&6)throw Error(q(327));var n=e.callbackNode;if(zl()&&e.callbackNode!==n)return null;var r=zg(e,e===Zt?pn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=am(e,r);else{t=r;var i=Re;Re|=2;var s=TF();(Zt!==e||pn!==t)&&(To=null,ec=bt()+500,qa(e,t));do try{$K();break}catch(l){SF(e,l)}while(!0);k1(),im.current=s,Re=i,Ct!==null?t=0:(Zt=null,pn=0,t=Ft)}if(t!==0){if(t===2&&(i=aS(e),i!==0&&(r=i,t=LS(e,i))),t===1)throw n=ed,qa(e,0),gs(e,r),br(e,bt()),n;if(t===6)gs(e,r);else{if(i=e.current.alternate,!(r&30)&&!FK(i)&&(t=am(e,r),t===2&&(s=aS(e),s!==0&&(r=s,t=LS(e,s))),t===1))throw n=ed,qa(e,0),gs(e,r),br(e,bt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:ka(e,pr,To);break;case 3:if(gs(e,r),(r&130023424)===r&&(t=z1+500-bt(),10<t)){if(zg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Jn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vS(ka.bind(null,e,pr,To),t);break}ka(e,pr,To);break;case 4:if(gs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Pi(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jK(r/1960))-r,10<r){e.timeoutHandle=vS(ka.bind(null,e,pr,To),r);break}ka(e,pr,To);break;case 5:ka(e,pr,To);break;default:throw Error(q(329))}}}return br(e,bt()),e.callbackNode===n?EF.bind(null,e):null}function LS(e,t){var n=bh;return e.current.memoizedState.isDehydrated&&(qa(e,t).flags|=256),e=am(e,t),e!==2&&(t=pr,pr=n,t!==null&&MS(t)),e}function MS(e){pr===null?pr=e:pr.push.apply(pr,e)}function FK(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gs(e,t){for(t&=~B1,t&=~my,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pi(t),r=1<<n;e[n]=-1,t&=~r}}function DN(e){if(Re&6)throw Error(q(327));zl();var t=zg(e,0);if(!(t&1))return br(e,bt()),null;var n=am(e,t);if(e.tag!==0&&n===2){var r=aS(e);r!==0&&(t=r,n=LS(e,r))}if(n===1)throw n=ed,qa(e,0),gs(e,t),br(e,bt()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,pr,To),br(e,bt()),null}function q1(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(ec=bt()+500,dy&&Qs())}}function su(e){Es!==null&&Es.tag===0&&!(Re&6)&&zl();var t=Re;Re|=1;var n=oi.transition,r=ze;try{if(oi.transition=null,ze=1,e)return e()}finally{ze=r,oi.transition=n,Re=t,!(Re&6)&&Qs()}}function W1(){Pr=Dl.current,Ze(Dl)}function qa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pK(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(I1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gg();break;case 3:Jl(),Ze(wr),Ze(Dn),D1();break;case 5:O1(r);break;case 4:Jl();break;case 13:Ze(at);break;case 19:Ze(at);break;case 10:A1(r.type._context);break;case 22:case 23:W1()}n=n.return}if(Zt=e,Ct=e=Ns(e.current,null),pn=Pr=t,Ft=0,ed=null,B1=my=ou=0,pr=bh=null,Da!==null){for(t=0;t<Da.length;t++)if(n=Da[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Da=null}return e}function SF(e,t){do{var n=Ct;try{if(k1(),mg.current=rm,nm){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nm=!1}if(iu=0,Ht=Mt=ct=null,wh=!1,Xh=0,V1.current=null,n===null||n.return===null){Ft=1,ed=t,Ct=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,v=d.tag;if(!(d.mode&1)&&(v===0||v===11||v===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=bN(a);if(y!==null){y.flags&=-257,EN(y,a,l,s,t),y.mode&1&&_N(s,h,t),t=y,c=h;var w=t.updateQueue;if(w===null){var b=new Set;b.add(c),t.updateQueue=b}else w.add(c);break e}else{if(!(t&1)){_N(s,h,t),H1();break e}c=Error(q(426))}}else if(nt&&l.mode&1){var x=bN(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),EN(x,a,l,s,t),x1(Zl(c,l));break e}}s=c=Zl(c,l),Ft!==4&&(Ft=2),bh===null?bh=[s]:bh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=sF(s,c,t);dN(s,S);break e;case 1:l=c;var T=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Rs===null||!Rs.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=aF(s,l,t);dN(s,k);break e}}s=s.return}while(s!==null)}xF(n)}catch(D){t=D,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function TF(){var e=im.current;return im.current=rm,e===null?rm:e}function H1(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Zt===null||!(ou&268435455)&&!(my&268435455)||gs(Zt,pn)}function am(e,t){var n=Re;Re|=2;var r=TF();(Zt!==e||pn!==t)&&(To=null,qa(e,t));do try{UK();break}catch(i){SF(e,i)}while(!0);if(k1(),Re=n,im.current=r,Ct!==null)throw Error(q(261));return Zt=null,pn=0,Ft}function UK(){for(;Ct!==null;)IF(Ct)}function $K(){for(;Ct!==null&&!f8();)IF(Ct)}function IF(e){var t=kF(e.alternate,e,Pr);e.memoizedProps=e.pendingProps,t===null?xF(e):Ct=t,V1.current=null}function xF(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OK(n,t),n!==null){n.flags&=32767,Ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ft=6,Ct=null;return}}else if(n=NK(n,t,Pr),n!==null){Ct=n;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Ft===0&&(Ft=5)}function ka(e,t,n){var r=ze,i=oi.transition;try{oi.transition=null,ze=1,VK(e,t,n,r)}finally{oi.transition=i,ze=r}return null}function VK(e,t,n,r){do zl();while(Es!==null);if(Re&6)throw Error(q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(b8(e,s),e===Zt&&(Ct=Zt=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bv||(Bv=!0,AF(Bg,function(){return zl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oi.transition,oi.transition=null;var a=ze;ze=1;var l=Re;Re|=4,V1.current=null,LK(e,n),_F(n,e),aK(dS),qg=!!hS,dS=hS=null,e.current=n,MK(n),h8(),Re=l,ze=a,oi.transition=s}else e.current=n;if(Bv&&(Bv=!1,Es=e,sm=i),s=e.pendingLanes,s===0&&(Rs=null),v8(n.stateNode),br(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(om)throw om=!1,e=OS,OS=null,e;return sm&1&&e.tag!==0&&zl(),s=e.pendingLanes,s&1?e===DS?Eh++:(Eh=0,DS=e):Eh=0,Qs(),null}function zl(){if(Es!==null){var e=oj(sm),t=oi.transition,n=ze;try{if(oi.transition=null,ze=16>e?16:e,Es===null)var r=!1;else{if(e=Es,Es=null,sm=0,Re&6)throw Error(q(331));var i=Re;for(Re|=4,J=e.current;J!==null;){var s=J,a=s.child;if(J.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(J=h;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:_h(8,d,s)}var v=d.child;if(v!==null)v.return=d,J=v;else for(;J!==null;){d=J;var g=d.sibling,y=d.return;if(mF(d),d===h){J=null;break}if(g!==null){g.return=y,J=g;break}J=y}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}J=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,J=a;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_h(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,J=S;break e}J=s.return}}var T=e.current;for(J=T;J!==null;){a=J;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,J=C;else e:for(a=T;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gy(9,l)}}catch(D){dt(l,l.return,D)}if(l===a){J=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,J=k;break e}J=l.return}}if(Re=i,Qs(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(uy,e)}catch{}r=!0}return r}finally{ze=n,oi.transition=t}}return!1}function LN(e,t,n){t=Zl(n,t),t=sF(e,t,1),e=As(e,t,1),t=Jn(),e!==null&&(jd(e,1,t),br(e,t))}function dt(e,t,n){if(e.tag===3)LN(e,e,n);else for(;t!==null;){if(t.tag===3){LN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rs===null||!Rs.has(r))){e=Zl(n,e),e=aF(t,e,1),t=As(t,e,1),e=Jn(),t!==null&&(jd(t,1,e),br(t,e));break}}t=t.return}}function BK(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Jn(),e.pingedLanes|=e.suspendedLanes&n,Zt===e&&(pn&n)===n&&(Ft===4||Ft===3&&(pn&130023424)===pn&&500>bt()-z1?qa(e,0):B1|=n),br(e,t)}function CF(e,t){t===0&&(e.mode&1?(t=Nv,Nv<<=1,!(Nv&130023424)&&(Nv=4194304)):t=1);var n=Jn();e=Uo(e,t),e!==null&&(jd(e,t,n),br(e,n))}function zK(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),CF(e,n)}function qK(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),CF(e,n)}var kF;kF=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wr.current)gr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gr=!1,PK(e,t,n);gr=!!(e.flags&131072)}else gr=!1,nt&&t.flags&1048576&&Pj(t,Xg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wg(e,t),e=t.pendingProps;var i=Ql(t,Dn.current);Bl(t,n),i=M1(null,t,r,e,i,n);var s=j1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(r)?(s=!0,Qg(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,P1(t),i.updater=py,t.stateNode=i,i._reactInternals=t,ES(t,r,e,n),t=IS(null,t,r,!0,s,n)):(t.tag=0,nt&&s&&T1(t),Wn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=HK(r),e=xi(r,e),i){case 0:t=TS(null,t,r,e,n);break e;case 1:t=IN(null,t,r,e,n);break e;case 11:t=SN(null,t,r,e,n);break e;case 14:t=TN(null,t,r,xi(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),TS(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),IN(e,t,r,i,n);case 3:e:{if(fF(t),e===null)throw Error(q(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Lj(e,t),em(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zl(Error(q(423)),t),t=xN(e,t,r,n,i);break e}else if(r!==i){i=Zl(Error(q(424)),t),t=xN(e,t,r,n,i);break e}else for(Lr=ks(t.stateNode.containerInfo.firstChild),Ur=t,nt=!0,Ai=null,n=Uj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yl(),r===i){t=$o(e,t,n);break e}Wn(e,t,r,n)}t=t.child}return t;case 5:return $j(t),e===null&&wS(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,pS(r,i)?a=null:s!==null&&pS(r,s)&&(t.flags|=32),cF(e,t),Wn(e,t,a,n),t.child;case 6:return e===null&&wS(t),null;case 13:return hF(e,t,n);case 4:return N1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xl(t,null,r,n):Wn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),SN(e,t,r,i,n);case 7:return Wn(e,t,t.pendingProps,n),t.child;case 8:return Wn(e,t,t.pendingProps.children,n),t.child;case 12:return Wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ge(Jg,r._currentValue),r._currentValue=a,s!==null)if(Mi(s.value,a)){if(s.children===i.children&&!wr.current){t=$o(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Oo(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),_S(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(q(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_S(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Wn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bl(t,n),i=ui(i),r=r(i),t.flags|=1,Wn(e,t,r,n),t.child;case 14:return r=t.type,i=xi(r,t.pendingProps),i=xi(r.type,i),TN(e,t,r,i,n);case 15:return uF(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xi(r,i),wg(e,t),t.tag=1,_r(r)?(e=!0,Qg(t)):e=!1,Bl(t,n),jj(t,r,i),ES(t,r,i,n),IS(null,t,r,!0,e,n);case 19:return dF(e,t,n);case 22:return lF(e,t,n)}throw Error(q(156,t.tag))};function AF(e,t){return tj(e,t)}function WK(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,n,r){return new WK(e,t,n,r)}function K1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HK(e){if(typeof e=="function")return K1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===h1)return 11;if(e===d1)return 14}return 2}function Ns(e,t){var n=e.alternate;return n===null?(n=Zr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eg(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")K1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Tl:return Wa(n.children,i,s,t);case f1:a=8,i|=8;break;case HE:return e=Zr(12,n,t,i|2),e.elementType=HE,e.lanes=s,e;case KE:return e=Zr(13,n,t,i),e.elementType=KE,e.lanes=s,e;case GE:return e=Zr(19,n,t,i),e.elementType=GE,e.lanes=s,e;case FM:return yy(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case MM:a=10;break e;case jM:a=9;break e;case h1:a=11;break e;case d1:a=14;break e;case hs:a=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Zr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Wa(e,t,n,r){return e=Zr(7,e,r,t),e.lanes=n,e}function yy(e,t,n,r){return e=Zr(22,e,r,t),e.elementType=FM,e.lanes=n,e.stateNode={isHidden:!1},e}function Gb(e,t,n){return e=Zr(6,e,null,t),e.lanes=n,e}function Qb(e,t,n){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KK(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ab(0),this.expirationTimes=Ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ab(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G1(e,t,n,r,i,s,a,l,c){return e=new KK(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P1(s),e}function GK(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function RF(e){if(!e)return $s;e=e._reactInternals;e:{if(bu(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(_r(n))return Aj(e,n,t)}return t}function PF(e,t,n,r,i,s,a,l,c){return e=G1(n,r,!0,e,i,s,a,l,c),e.context=RF(null),n=e.current,r=Jn(),i=Ps(n),s=Oo(r,i),s.callback=t??null,As(n,s,i),e.current.lanes=i,jd(e,i,r),br(e,r),e}function wy(e,t,n,r){var i=t.current,s=Jn(),a=Ps(i);return n=RF(n),t.context===null?t.context=n:t.pendingContext=n,t=Oo(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=As(i,t,a),e!==null&&(Ni(e,i,a,s),gg(e,i,a)),a}function um(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Q1(e,t){MN(e,t),(e=e.alternate)&&MN(e,t)}function QK(){return null}var NF=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y1(e){this._internalRoot=e}_y.prototype.render=Y1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));wy(e,t,null,null)};_y.prototype.unmount=Y1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;su(function(){wy(null,e,null,null)}),t[Fo]=null}};function _y(e){this._internalRoot=e}_y.prototype.unstable_scheduleHydration=function(e){if(e){var t=uj();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vs.length&&t!==0&&t<vs[n].priority;n++);vs.splice(n,0,e),n===0&&cj(e)}};function X1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function by(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jN(){}function YK(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=um(a);s.call(h)}}var a=PF(t,r,e,0,null,!1,!1,"",jN);return e._reactRootContainer=a,e[Fo]=a.current,Hh(e.nodeType===8?e.parentNode:e),su(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=um(c);l.call(h)}}var c=G1(e,0,!1,null,null,!1,!1,"",jN);return e._reactRootContainer=c,e[Fo]=c.current,Hh(e.nodeType===8?e.parentNode:e),su(function(){wy(t,c,n,r)}),c}function Ey(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=um(a);l.call(c)}}wy(t,a,e,i)}else a=YK(n,t,e,i,r);return um(a)}sj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=uh(t.pendingLanes);n!==0&&(g1(t,n|1),br(t,bt()),!(Re&6)&&(ec=bt()+500,Qs()))}break;case 13:su(function(){var r=Uo(e,1);if(r!==null){var i=Jn();Ni(r,e,1,i)}}),Q1(e,1)}};m1=function(e){if(e.tag===13){var t=Uo(e,134217728);if(t!==null){var n=Jn();Ni(t,e,134217728,n)}Q1(e,134217728)}};aj=function(e){if(e.tag===13){var t=Ps(e),n=Uo(e,t);if(n!==null){var r=Jn();Ni(n,e,t,r)}Q1(e,t)}};uj=function(){return ze};lj=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}};iS=function(e,t,n){switch(t){case"input":if(XE(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hy(r);if(!i)throw Error(q(90));$M(r),XE(r,i)}}}break;case"textarea":BM(e,n);break;case"select":t=n.value,t!=null&&Fl(e,!!n.multiple,t,!1)}};QM=q1;YM=su;var XK={usingClientEntryPoint:!1,Events:[Ud,kl,hy,KM,GM,q1]},Kf={findFiberByHostInstance:Oa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JK={bundleType:Kf.bundleType,version:Kf.version,rendererPackageName:Kf.rendererPackageName,rendererConfig:Kf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ZM(e),e===null?null:e.stateNode},findFiberByHostInstance:Kf.findFiberByHostInstance||QK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zv.isDisabled&&zv.supportsFiber)try{uy=zv.inject(JK),to=zv}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XK;qr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X1(t))throw Error(q(200));return GK(e,t,null,n)};qr.createRoot=function(e,t){if(!X1(e))throw Error(q(299));var n=!1,r="",i=NF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=G1(e,1,!1,null,null,n,!1,r,i),e[Fo]=t.current,Hh(e.nodeType===8?e.parentNode:e),new Y1(t)};qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=ZM(t),e=e===null?null:e.stateNode,e};qr.flushSync=function(e){return su(e)};qr.hydrate=function(e,t,n){if(!by(t))throw Error(q(200));return Ey(null,e,t,!0,n)};qr.hydrateRoot=function(e,t,n){if(!X1(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=NF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=PF(t,null,e,1,n??null,i,!1,s,a),e[Fo]=t.current,Hh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _y(t)};qr.render=function(e,t,n){if(!by(t))throw Error(q(200));return Ey(null,e,t,!1,n)};qr.unmountComponentAtNode=function(e){if(!by(e))throw Error(q(40));return e._reactRootContainer?(su(function(){Ey(null,null,e,!1,function(){e._reactRootContainer=null,e[Fo]=null})}),!0):!1};qr.unstable_batchedUpdates=q1;qr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!by(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Ey(e,t,n,!1,r)};qr.version="18.2.0-next-9e3b772b8-20220608";function OF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OF)}catch(e){console.error(e)}}OF(),PM.exports=qr;var ZK=PM.exports,FN=ZK;qE.createRoot=FN.createRoot,qE.hydrateRoot=FN.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(this,arguments)}var Ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ss||(Ss={}));const UN="popstate";function eG(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return jS("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:LF(i)}return nG(t,n,null,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function DF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tG(){return Math.random().toString(36).substr(2,8)}function $N(e,t){return{usr:e.state,key:e.key,idx:t}}function jS(e,t,n,r){return n===void 0&&(n=null),td({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mc(t):t,{state:n,key:t&&t.key||r||tG()})}function LF(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function nG(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Ss.Pop,c=null,h=d();h==null&&(h=0,a.replaceState(td({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function v(){l=Ss.Pop;let x=d(),S=x==null?null:x-h;h=x,c&&c({action:l,location:b.location,delta:S})}function g(x,S){l=Ss.Push;let T=jS(b.location,x,S);h=d()+1;let C=$N(T,h),k=b.createHref(T);try{a.pushState(C,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(k)}s&&c&&c({action:l,location:b.location,delta:1})}function y(x,S){l=Ss.Replace;let T=jS(b.location,x,S);h=d();let C=$N(T,h),k=b.createHref(T);a.replaceState(C,"",k),s&&c&&c({action:l,location:b.location,delta:0})}function w(x){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof x=="string"?x:LF(x);return T=T.replace(/ $/,"%20"),At(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let b={get action(){return l},get location(){return e(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(UN,v),c=x,()=>{i.removeEventListener(UN,v),c=null}},createHref(x){return t(i,x)},createURL:w,encodeLocation(x){let S=w(x);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(x){return a.go(x)}};return b}var VN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VN||(VN={}));function rG(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Mc(t):t,i=FF(r.pathname||"/",n);if(i==null)return null;let s=MF(e);iG(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=gG(i);a=dG(s[l],c)}return a}function MF(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(At(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ha([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(At(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),MF(s.children,t,d,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:fG(h,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of jF(s.path))i(s,a,c)}),t}function jF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=jF(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hG(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oG=/^:[\w-]+$/,sG=3,aG=2,uG=1,lG=10,cG=-2,BN=e=>e==="*";function fG(e,t){let n=e.split("/"),r=n.length;return n.some(BN)&&(r+=cG),t&&(r+=aG),n.filter(i=>!BN(i)).reduce((i,s)=>i+(oG.test(s)?sG:s===""?uG:lG),r)}function hG(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function dG(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=pG({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!d)return null;Object.assign(r,d.params);let v=l.route;s.push({params:r,pathname:Ha([i,d.pathname]),pathnameBase:_G(Ha([i,d.pathnameBase])),route:v}),d.pathnameBase!=="/"&&(i=Ha([i,d.pathnameBase]))}return s}function pG(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=vG(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,v)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let b=l[v]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const w=l[v];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:e}}function vG(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),DF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function gG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return DF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function FF(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mG(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Mc(e):e;return{pathname:n?n.startsWith("/")?n:yG(n,t):t,search:bG(r),hash:EG(i)}}function yG(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yb(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UF(e,t){let n=wG(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $F(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Mc(e):(i=td({},e),At(!i.pathname||!i.pathname.includes("?"),Yb("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),Yb("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),Yb("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let v=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}l=v>=0?t[v]:"/"}let c=mG(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Ha=e=>e.join("/").replace(/\/\/+/g,"/"),_G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const VF=["post","put","patch","delete"];new Set(VF);const TG=["get",...VF];new Set(TG);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}const J1=$.createContext(null),IG=$.createContext(null),Vd=$.createContext(null),Sy=$.createContext(null),Ys=$.createContext({outlet:null,matches:[],isDataRoute:!1}),BF=$.createContext(null);function Bd(){return $.useContext(Sy)!=null}function Ty(){return Bd()||At(!1),$.useContext(Sy).location}function zF(e){$.useContext(Vd).static||$.useLayoutEffect(e)}function Eu(){let{isDataRoute:e}=$.useContext(Ys);return e?UG():xG()}function xG(){Bd()||At(!1);let e=$.useContext(J1),{basename:t,future:n,navigator:r}=$.useContext(Vd),{matches:i}=$.useContext(Ys),{pathname:s}=Ty(),a=JSON.stringify(UF(i,n.v7_relativeSplatPath)),l=$.useRef(!1);return zF(()=>{l.current=!0}),$.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let v=$F(h,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Ha([t,v.pathname])),(d.replace?r.replace:r.push)(v,d.state,d)},[t,r,a,s,e])}function CG(){let{matches:e}=$.useContext(Ys),t=e[e.length-1];return t?t.params:{}}function kG(e,t){return AG(e,t)}function AG(e,t,n,r){Bd()||At(!1);let{navigator:i}=$.useContext(Vd),{matches:s}=$.useContext(Ys),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Ty(),d;if(t){var v;let x=typeof t=="string"?Mc(t):t;c==="/"||(v=x.pathname)!=null&&v.startsWith(c)||At(!1),d=x}else d=h;let g=d.pathname||"/",y=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=rG(e,{pathname:y}),b=DG(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ha([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ha([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&b?$.createElement(Sy.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ss.Pop}},b):b}function RG(){let e=FG(),t=SG(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:i},n):null,null)}const PG=$.createElement(RG,null);class NG extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?$.createElement(Ys.Provider,{value:this.props.routeContext},$.createElement(BF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OG(e){let{routeContext:t,match:n,children:r}=e,i=$.useContext(J1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(Ys.Provider,{value:t},r)}function DG(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id]));d>=0||At(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let v=a[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=d),v.route.id){let{loaderData:g,errors:y}=n,w=v.route.loader&&g[v.route.id]===void 0&&(!y||y[v.route.id]===void 0);if(v.route.lazy||w){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,v,g)=>{let y,w=!1,b=null,x=null;n&&(y=l&&v.route.id?l[v.route.id]:void 0,b=v.route.errorElement||PG,c&&(h<0&&g===0?(w=!0,x=null):h===g&&(w=!0,x=v.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,g+1)),T=()=>{let C;return y?C=b:w?C=x:v.route.Component?C=$.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=d,$.createElement(OG,{match:v,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:C})};return n&&(v.route.ErrorBoundary||v.route.errorElement||g===0)?$.createElement(NG,{location:n.location,revalidation:n.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var qF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qF||{}),lm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lm||{});function LG(e){let t=$.useContext(J1);return t||At(!1),t}function MG(e){let t=$.useContext(IG);return t||At(!1),t}function jG(e){let t=$.useContext(Ys);return t||At(!1),t}function WF(e){let t=jG(),n=t.matches[t.matches.length-1];return n.route.id||At(!1),n.route.id}function FG(){var e;let t=$.useContext(BF),n=MG(lm.UseRouteError),r=WF(lm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function UG(){let{router:e}=LG(qF.UseNavigateStable),t=WF(lm.UseNavigateStable),n=$.useRef(!1);return zF(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,nd({fromRouteId:t},s)))},[e,t])}function Su(e){let{to:t,replace:n,state:r,relative:i}=e;Bd()||At(!1);let{future:s,static:a}=$.useContext(Vd),{matches:l}=$.useContext(Ys),{pathname:c}=Ty(),h=Eu(),d=$F(t,UF(l,s.v7_relativeSplatPath),c,i==="path"),v=JSON.stringify(d);return $.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:i}),[h,v,i,n,r]),null}function cs(e){At(!1)}function $G(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ss.Pop,navigator:s,static:a=!1,future:l}=e;Bd()&&At(!1);let c=t.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:c,navigator:s,static:a,future:nd({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=Mc(r));let{pathname:d="/",search:v="",hash:g="",state:y=null,key:w="default"}=r,b=$.useMemo(()=>{let x=FF(d,c);return x==null?null:{location:{pathname:x,search:v,hash:g,state:y,key:w},navigationType:i}},[c,d,v,g,y,w,i]);return b==null?null:$.createElement(Vd.Provider,{value:h},$.createElement(Sy.Provider,{children:n,value:b}))}function VG(e){let{children:t,location:n}=e;return kG(FS(t),n)}new Promise(()=>{});function FS(e,t){t===void 0&&(t=[]);let n=[];return $.Children.forEach(e,(r,i)=>{if(!$.isValidElement(r))return;let s=[...t,i];if(r.type===$.Fragment){n.push.apply(n,FS(r.props.children,s));return}r.type!==cs&&At(!1),!r.props.index||!r.props.children||At(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=FS(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const BG="6";try{window.__reactRouterVersion=BG}catch{}const zG="startTransition",zN=zE[zG];function qG(e){let{basename:t,children:n,future:r,window:i}=e,s=$.useRef();s.current==null&&(s.current=eG({window:i,v5Compat:!0}));let a=s.current,[l,c]=$.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=$.useCallback(v=>{h&&zN?zN(()=>c(v)):c(v)},[c,h]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement($G,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var qN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qN||(qN={}));var WN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(WN||(WN={}));var WG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=$;function HG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KG=typeof Object.is=="function"?Object.is:HG,GG=zd.useSyncExternalStore,QG=zd.useRef,YG=zd.useEffect,XG=zd.useMemo,JG=zd.useDebugValue;WG.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=QG(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=XG(function(){function c(y){if(!h){if(h=!0,d=y,y=r(y),i!==void 0&&a.hasValue){var w=a.value;if(i(w,y))return v=w}return v=y}if(w=v,KG(d,y))return w;var b=r(y);return i!==void 0&&i(w,b)?w:(d=y,v=b)}var h=!1,d,v,g=n===void 0?null:n;return[function(){return c(t())},g===null?void 0:function(){return c(g())}]},[t,n,r,i]);var l=GG(e,s[0],s[1]);return YG(function(){a.hasValue=!0,a.value=l},[l]),JG(l),l};var Me="default"in zE?Fs:zE,HN=Symbol.for("react-redux-context"),KN=typeof globalThis<"u"?globalThis:{};function ZG(){if(!Me.createContext)return{};const e=KN[HN]??(KN[HN]=new Map);let t=e.get(Me.createContext);return t||(t=Me.createContext(null),e.set(Me.createContext,t)),t}var HF=ZG(),e2=()=>{throw new Error("uSES not initialized!")},t2=Symbol.for("react.element"),n2=Symbol.for("react.portal"),r2=Symbol.for("react.fragment"),i2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),a2=Symbol.for("react.context"),u2=Symbol.for("react.server_context"),KF=Symbol.for("react.forward_ref"),l2=Symbol.for("react.suspense"),c2=Symbol.for("react.suspense_list"),Z1=Symbol.for("react.memo"),f2=Symbol.for("react.lazy"),h2=KF,d2=Z1;function p2(e){if(typeof e=="object"&&e!==null){const t=e.$$typeof;switch(t){case t2:{const n=e.type;switch(n){case r2:case o2:case i2:case l2:case c2:return n;default:{const r=n&&n.$$typeof;switch(r){case u2:case a2:case KF:case f2:case Z1:case s2:return r;default:return t}}}}case n2:return t}}}function v2(e){return p2(e)===Z1}function g2(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:a}){let l=!1,c,h,d,v,g;function y(T,C){return c=T,h=C,d=e(c,h),v=t(r,h),g=n(d,v,h),l=!0,g}function w(){return d=e(c,h),t.dependsOnOwnProps&&(v=t(r,h)),g=n(d,v,h),g}function b(){return e.dependsOnOwnProps&&(d=e(c,h)),t.dependsOnOwnProps&&(v=t(r,h)),g=n(d,v,h),g}function x(){const T=e(c,h),C=!a(T,d);return d=T,C&&(g=n(d,v,h)),g}function S(T,C){const k=!s(C,h),D=!i(T,c,C,h);return c=T,h=C,k&&D?w():k?b():D?x():g}return function(C,k){return l?S(C,k):y(C,k)}}function m2(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),a=n(e,i),l=r(e,i);return g2(s,a,l,e,i)}function y2(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function US(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function GN(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function GF(e,t){return function(r,{displayName:i}){const s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=GN(e);let h=s(l,c);return typeof h=="function"&&(s.mapToProps=h,s.dependsOnOwnProps=GN(h),h=s(l,c)),h},s}}function eI(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function w2(e){return e&&typeof e=="object"?US(t=>y2(e,t)):e?typeof e=="function"?GF(e):eI(e,"mapDispatchToProps"):US(t=>({dispatch:t}))}function _2(e){return e?typeof e=="function"?GF(e):eI(e,"mapStateToProps"):US(()=>({}))}function b2(e,t,n){return{...n,...e,...t}}function E2(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,a;return function(c,h,d){const v=e(c,h,d);return s?i(v,a)||(a=v):(s=!0,a=v),a}}}function S2(e){return e?typeof e=="function"?E2(e):eI(e,"mergeProps"):()=>b2}function T2(e){e()}function I2(){let e=null,t=null;return{clear(){e=null,t=null},notify(){T2(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var QN={notify(){},get:()=>[]};function QF(e,t){let n,r=QN,i=0,s=!1;function a(b){d();const x=r.subscribe(b);let S=!1;return()=>{S||(S=!0,x(),v())}}function l(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function h(){return s}function d(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=I2())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=QN)}function g(){s||(s=!0,d())}function y(){s&&(s=!1,v())}const w={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return w}var x2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cm=x2?Me.useLayoutEffect:Me.useEffect;function YN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xb(e,t){if(YN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!YN(e[n[i]],t[n[i]]))return!1;return!0}var C2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},k2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},A2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},R2={[h2]:A2,[d2]:YF};function XN(e){return v2(e)?YF:R2[e.$$typeof]||C2}var P2=Object.defineProperty,N2=Object.getOwnPropertyNames,JN=Object.getOwnPropertySymbols,O2=Object.getOwnPropertyDescriptor,D2=Object.getPrototypeOf,ZN=Object.prototype;function $S(e,t){if(typeof t!="string"){if(ZN){const s=D2(t);s&&s!==ZN&&$S(e,s)}let n=N2(t);JN&&(n=n.concat(JN(t)));const r=XN(e),i=XN(t);for(let s=0;s<n.length;++s){const a=n[s];if(!k2[a]&&!(i&&i[a])&&!(r&&r[a])){const l=O2(t,a);try{P2(e,a,l)}catch{}}}}return e}var XF=e2,L2=e=>{XF=e},M2=[null,null];function j2(e,t,n){cm(()=>e(...t),n)}function F2(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function U2(e,t,n,r,i,s,a,l,c,h,d){if(!e)return()=>{};let v=!1,g=null;const y=()=>{if(v||!l.current)return;const b=t.getState();let x,S;try{x=r(b,i.current)}catch(T){S=T,g=T}S||(g=null),x===s.current?a.current||h():(s.current=x,c.current=x,a.current=!0,d())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(v=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function $2(e,t){return e===t}function V2(e,t,n,{pure:r,areStatesEqual:i=$2,areOwnPropsEqual:s=Xb,areStatePropsEqual:a=Xb,areMergedPropsEqual:l=Xb,forwardRef:c=!1,context:h=HF}={}){const d=h,v=_2(e),g=w2(t),y=S2(n),w=!!e;return x=>{const S=x.displayName||x.name||"Component",T=`Connect(${S})`,C={shouldHandleStateChanges:w,displayName:T,wrappedComponentName:S,WrappedComponent:x,initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:l};function k(j){const[L,Y,R]=Me.useMemo(()=>{const{reactReduxForwardedRef:ot,...ia}=j;return[j.context,ot,ia]},[j]),ne=Me.useMemo(()=>{let ot=d;return L!=null&&L.Consumer,ot},[L,d]),Ue=Me.useContext(ne),Bt=!!j.store&&!!j.store.getState&&!!j.store.dispatch,bn=!!Ue&&!!Ue.store,zt=Bt?j.store:Ue.store,rr=bn?Ue.getServerState:zt.getState,ir=Me.useMemo(()=>m2(zt.dispatch,C),[zt]),[H,re]=Me.useMemo(()=>{if(!w)return M2;const ot=QF(zt,Bt?void 0:Ue.subscription),ia=ot.notifyNestedSubs.bind(ot);return[ot,ia]},[zt,Bt,Ue]),ae=Me.useMemo(()=>Bt?Ue:{...Ue,subscription:H},[Bt,Ue,H]),Ce=Me.useRef(),ke=Me.useRef(R),En=Me.useRef(),nn=Me.useRef(!1);Me.useRef(!1);const or=Me.useRef(!1),vt=Me.useRef();cm(()=>(or.current=!0,()=>{or.current=!1}),[]);const Fn=Me.useMemo(()=>()=>En.current&&R===ke.current?En.current:ir(zt.getState(),R),[zt,R]),Le=Me.useMemo(()=>ia=>H?U2(w,zt,H,ir,ke,Ce,nn,or,En,re,ia):()=>{},[H]);j2(F2,[ke,Ce,nn,R,En,re]);let sr;try{sr=XF(Le,Fn,rr?()=>ir(rr(),R):Fn)}catch(ot){throw vt.current&&(ot.message+=`
The error may be correlated with this previous error:
${vt.current.stack}

`),ot}cm(()=>{vt.current=void 0,En.current=void 0,Ce.current=sr});const go=Me.useMemo(()=>Me.createElement(x,{...sr,ref:Y}),[Y,x,sr]);return Me.useMemo(()=>w?Me.createElement(ne.Provider,{value:ae},go):go,[ne,go,ae])}const O=Me.memo(k);if(O.WrappedComponent=x,O.displayName=k.displayName=T,c){const L=Me.forwardRef(function(R,ne){return Me.createElement(O,{...R,reactReduxForwardedRef:ne})});return L.displayName=T,L.WrappedComponent=x,$S(L,x)}return $S(O,x)}}var Hr=V2;function B2({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const a=Me.useMemo(()=>{const h=QF(e);return{store:e,subscription:h,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),l=Me.useMemo(()=>e.getState(),[e]);cm(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==e.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,l]);const c=t||HF;return Me.createElement(c.Provider,{value:a},n)}var z2=B2;L2($.useSyncExternalStore);var mr=function(){return mr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},mr.apply(this,arguments)};function fm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Xe="-ms-",Sh="-moz-",je="-webkit-",JF="comm",Iy="rule",tI="decl",q2="@import",ZF="@keyframes",W2="@layer",eU=Math.abs,nI=String.fromCharCode,VS=Object.assign;function H2(e,t){return Kt(e,0)^45?(((t<<2^Kt(e,0))<<2^Kt(e,1))<<2^Kt(e,2))<<2^Kt(e,3):0}function tU(e){return e.trim()}function Io(e,t){return(e=t.exec(e))?e[0]:e}function ge(e,t,n){return e.replace(t,n)}function Sg(e,t,n){return e.indexOf(t,n)}function Kt(e,t){return e.charCodeAt(t)|0}function tc(e,t,n){return e.slice(t,n)}function Ji(e){return e.length}function nU(e){return e.length}function ch(e,t){return t.push(e),e}function K2(e,t){return e.map(t).join("")}function eO(e,t){return e.filter(function(n){return!Io(n,t)})}var xy=1,nc=1,rU=0,ci=0,xt=0,jc="";function Cy(e,t,n,r,i,s,a,l){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:xy,column:nc,length:a,return:"",siblings:l}}function fs(e,t){return VS(Cy("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function ll(e){for(;e.root;)e=fs(e.root,{children:[e]});ch(e,e.siblings)}function G2(){return xt}function Q2(){return xt=ci>0?Kt(jc,--ci):0,nc--,xt===10&&(nc=1,xy--),xt}function Oi(){return xt=ci<rU?Kt(jc,ci++):0,nc++,xt===10&&(nc=1,xy++),xt}function Ka(){return Kt(jc,ci)}function Tg(){return ci}function ky(e,t){return tc(jc,e,t)}function BS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y2(e){return xy=nc=1,rU=Ji(jc=e),ci=0,[]}function X2(e){return jc="",e}function Jb(e){return tU(ky(ci-1,zS(e===91?e+2:e===40?e+1:e)))}function J2(e){for(;(xt=Ka())&&xt<33;)Oi();return BS(e)>2||BS(xt)>3?"":" "}function Z2(e,t){for(;--t&&Oi()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return ky(e,Tg()+(t<6&&Ka()==32&&Oi()==32))}function zS(e){for(;Oi();)switch(xt){case e:return ci;case 34:case 39:e!==34&&e!==39&&zS(xt);break;case 40:e===41&&zS(e);break;case 92:Oi();break}return ci}function eQ(e,t){for(;Oi()&&e+xt!==57;)if(e+xt===84&&Ka()===47)break;return"/*"+ky(t,ci-1)+"*"+nI(e===47?e:Oi())}function tQ(e){for(;!BS(Ka());)Oi();return ky(e,ci)}function nQ(e){return X2(Ig("",null,null,null,[""],e=Y2(e),0,[0],e))}function Ig(e,t,n,r,i,s,a,l,c){for(var h=0,d=0,v=a,g=0,y=0,w=0,b=1,x=1,S=1,T=0,C="",k=i,D=s,O=r,j=C;x;)switch(w=T,T=Oi()){case 40:if(w!=108&&Kt(j,v-1)==58){Sg(j+=ge(Jb(T),"&","&\f"),"&\f",eU(h?l[h-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:j+=Jb(T);break;case 9:case 10:case 13:case 32:j+=J2(w);break;case 92:j+=Z2(Tg()-1,7);continue;case 47:switch(Ka()){case 42:case 47:ch(rQ(eQ(Oi(),Tg()),t,n,c),c);break;default:j+="/"}break;case 123*b:l[h++]=Ji(j)*S;case 125*b:case 59:case 0:switch(T){case 0:case 125:x=0;case 59+d:S==-1&&(j=ge(j,/\f/g,"")),y>0&&Ji(j)-v&&ch(y>32?nO(j+";",r,n,v-1,c):nO(ge(j," ","")+";",r,n,v-2,c),c);break;case 59:j+=";";default:if(ch(O=tO(j,t,n,h,d,i,l,C,k=[],D=[],v,s),s),T===123)if(d===0)Ig(j,t,O,O,k,s,v,l,D);else switch(g===99&&Kt(j,3)===110?100:g){case 100:case 108:case 109:case 115:Ig(e,O,O,r&&ch(tO(e,O,O,0,0,i,l,C,i,k=[],v,D),D),i,D,v,l,r?k:D);break;default:Ig(j,O,O,O,[""],D,0,l,D)}}h=d=y=0,b=S=1,C=j="",v=a;break;case 58:v=1+Ji(j),y=w;default:if(b<1){if(T==123)--b;else if(T==125&&b++==0&&Q2()==125)continue}switch(j+=nI(T),T*b){case 38:S=d>0?1:(j+="\f",-1);break;case 44:l[h++]=(Ji(j)-1)*S,S=1;break;case 64:Ka()===45&&(j+=Jb(Oi())),g=Ka(),d=v=Ji(C=j+=tQ(Tg())),T++;break;case 45:w===45&&Ji(j)==2&&(b=0)}}return s}function tO(e,t,n,r,i,s,a,l,c,h,d,v){for(var g=i-1,y=i===0?s:[""],w=nU(y),b=0,x=0,S=0;b<r;++b)for(var T=0,C=tc(e,g+1,g=eU(x=a[b])),k=e;T<w;++T)(k=tU(x>0?y[T]+" "+C:ge(C,/&\f/g,y[T])))&&(c[S++]=k);return Cy(e,t,n,i===0?Iy:l,c,h,d,v)}function rQ(e,t,n,r){return Cy(e,t,n,JF,nI(G2()),tc(e,2,-2),0,r)}function nO(e,t,n,r,i){return Cy(e,t,n,tI,tc(e,0,r),tc(e,r+1,-1),r,i)}function iU(e,t,n){switch(H2(e,t)){case 5103:return je+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return je+e+e;case 4789:return Sh+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return je+e+Sh+e+Xe+e+e;case 5936:switch(Kt(e,t+11)){case 114:return je+e+Xe+ge(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return je+e+Xe+ge(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return je+e+Xe+ge(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return je+e+Xe+e+e;case 6165:return je+e+Xe+"flex-"+e+e;case 5187:return je+e+ge(e,/(\w+).+(:[^]+)/,je+"box-$1$2"+Xe+"flex-$1$2")+e;case 5443:return je+e+Xe+"flex-item-"+ge(e,/flex-|-self/g,"")+(Io(e,/flex-|baseline/)?"":Xe+"grid-row-"+ge(e,/flex-|-self/g,""))+e;case 4675:return je+e+Xe+"flex-line-pack"+ge(e,/align-content|flex-|-self/g,"")+e;case 5548:return je+e+Xe+ge(e,"shrink","negative")+e;case 5292:return je+e+Xe+ge(e,"basis","preferred-size")+e;case 6060:return je+"box-"+ge(e,"-grow","")+je+e+Xe+ge(e,"grow","positive")+e;case 4554:return je+ge(e,/([^-])(transform)/g,"$1"+je+"$2")+e;case 6187:return ge(ge(ge(e,/(zoom-|grab)/,je+"$1"),/(image-set)/,je+"$1"),e,"")+e;case 5495:case 3959:return ge(e,/(image-set\([^]*)/,je+"$1$`$1");case 4968:return ge(ge(e,/(.+:)(flex-)?(.*)/,je+"box-pack:$3"+Xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+je+e+e;case 4200:if(!Io(e,/flex-|baseline/))return Xe+"grid-column-align"+tc(e,t)+e;break;case 2592:case 3360:return Xe+ge(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Io(r.props,/grid-\w+-end/)})?~Sg(e+(n=n[t].value),"span",0)?e:Xe+ge(e,"-start","")+e+Xe+"grid-row-span:"+(~Sg(n,"span",0)?Io(n,/\d+/):+Io(n,/\d+/)-+Io(e,/\d+/))+";":Xe+ge(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Io(r.props,/grid-\w+-start/)})?e:Xe+ge(ge(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return ge(e,/(.+)-inline(.+)/,je+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ji(e)-1-t>6)switch(Kt(e,t+1)){case 109:if(Kt(e,t+4)!==45)break;case 102:return ge(e,/(.+:)(.+)-([^]+)/,"$1"+je+"$2-$3$1"+Sh+(Kt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Sg(e,"stretch",0)?iU(ge(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return ge(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,l,c,h){return Xe+i+":"+s+h+(a?Xe+i+"-span:"+(l?c:+c-+s)+h:"")+e});case 4949:if(Kt(e,t+6)===121)return ge(e,":",":"+je)+e;break;case 6444:switch(Kt(e,Kt(e,14)===45?18:11)){case 120:return ge(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+je+(Kt(e,14)===45?"inline-":"")+"box$3$1"+je+"$2$3$1"+Xe+"$2box$3")+e;case 100:return ge(e,":",":"+Xe)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ge(e,"scroll-","scroll-snap-")+e}return e}function hm(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function iQ(e,t,n,r){switch(e.type){case W2:if(e.children.length)break;case q2:case tI:return e.return=e.return||e.value;case JF:return"";case ZF:return e.return=e.value+"{"+hm(e.children,r)+"}";case Iy:if(!Ji(e.value=e.props.join(",")))return""}return Ji(n=hm(e.children,r))?e.return=e.value+"{"+n+"}":""}function oQ(e){var t=nU(e);return function(n,r,i,s){for(var a="",l=0;l<t;l++)a+=e[l](n,r,i,s)||"";return a}}function sQ(e){return function(t){t.root||(t=t.return)&&e(t)}}function aQ(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case tI:e.return=iU(e.value,e.length,n);return;case ZF:return hm([fs(e,{value:ge(e.value,"@","@"+je)})],r);case Iy:if(e.length)return K2(n=e.props,function(i){switch(Io(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ll(fs(e,{props:[ge(i,/:(read-\w+)/,":"+Sh+"$1")]})),ll(fs(e,{props:[i]})),VS(e,{props:eO(n,r)});break;case"::placeholder":ll(fs(e,{props:[ge(i,/:(plac\w+)/,":"+je+"input-$1")]})),ll(fs(e,{props:[ge(i,/:(plac\w+)/,":"+Sh+"$1")]})),ll(fs(e,{props:[ge(i,/:(plac\w+)/,Xe+"input-$1")]})),ll(fs(e,{props:[i]})),VS(e,{props:eO(n,r)});break}return""})}}var uQ={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rr={},rc=typeof process<"u"&&Rr!==void 0&&(Rr.REACT_APP_SC_ATTR||Rr.SC_ATTR)||"data-styled",oU="active",sU="data-styled-version",Ay="6.1.8",rI=`/*!sc*/
`,iI=typeof window<"u"&&"HTMLElement"in window,lQ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Rr!==void 0&&Rr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Rr.REACT_APP_SC_DISABLE_SPEEDY!==""?Rr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Rr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Rr!==void 0&&Rr.SC_DISABLE_SPEEDY!==void 0&&Rr.SC_DISABLE_SPEEDY!==""&&Rr.SC_DISABLE_SPEEDY!=="false"&&Rr.SC_DISABLE_SPEEDY),Ry=Object.freeze([]),ic=Object.freeze({});function cQ(e,t,n){return n===void 0&&(n=ic),e.theme!==n.theme&&e.theme||t||n.theme}var aU=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),fQ=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,hQ=/(^-|-$)/g;function rO(e){return e.replace(fQ,"-").replace(hQ,"")}var dQ=/(a)(d)/gi,qv=52,iO=function(e){return String.fromCharCode(e+(e>25?39:97))};function qS(e){var t,n="";for(t=Math.abs(e);t>qv;t=t/qv|0)n=iO(t%qv)+n;return(iO(t%qv)+n).replace(dQ,"$1-$2")}var Zb,uU=5381,Ll=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},lU=function(e){return Ll(uU,e)};function pQ(e){return qS(lU(e)>>>0)}function vQ(e){return e.displayName||e.name||"Component"}function eE(e){return typeof e=="string"&&!0}var cU=typeof Symbol=="function"&&Symbol.for,fU=cU?Symbol.for("react.memo"):60115,gQ=cU?Symbol.for("react.forward_ref"):60112,mQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wQ=((Zb={})[gQ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zb[fU]=hU,Zb);function oO(e){return("type"in(t=e)&&t.type.$$typeof)===fU?hU:"$$typeof"in e?wQ[e.$$typeof]:mQ;var t}var _Q=Object.defineProperty,bQ=Object.getOwnPropertyNames,sO=Object.getOwnPropertySymbols,EQ=Object.getOwnPropertyDescriptor,SQ=Object.getPrototypeOf,aO=Object.prototype;function dU(e,t,n){if(typeof t!="string"){if(aO){var r=SQ(t);r&&r!==aO&&dU(e,r,n)}var i=bQ(t);sO&&(i=i.concat(sO(t)));for(var s=oO(e),a=oO(t),l=0;l<i.length;++l){var c=i[l];if(!(c in yQ||n&&n[c]||a&&c in a||s&&c in s)){var h=EQ(t,c);try{_Q(e,c,h)}catch{}}}}return e}function oc(e){return typeof e=="function"}function oI(e){return typeof e=="object"&&"styledComponentId"in e}function Ma(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function uO(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function rd(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function WS(e,t,n){if(n===void 0&&(n=!1),!n&&!rd(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=WS(e[r],t[r]);else if(rd(t))for(var r in t)e[r]=WS(e[r],t[r]);return e}function sI(e,t){Object.defineProperty(e,"toString",{value:t})}function qd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var TQ=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;t>=s;)if((s<<=1)<0)throw qd(16,"".concat(t));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),c=(a=0,n.length);a<c;a++)this.tag.insertRule(l,n[a])&&(this.groupSizes[t]++,l++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(rI);return n},e}(),xg=new Map,dm=new Map,Cg=1,Wv=function(e){if(xg.has(e))return xg.get(e);for(;dm.has(Cg);)Cg++;var t=Cg++;return xg.set(e,t),dm.set(t,e),t},IQ=function(e,t){Cg=t+1,xg.set(e,t),dm.set(t,e)},xQ="style[".concat(rc,"][").concat(sU,'="').concat(Ay,'"]'),CQ=new RegExp("^".concat(rc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),kQ=function(e,t,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&e.registerName(t,r)},AQ=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(rI),i=[],s=0,a=r.length;s<a;s++){var l=r[s].trim();if(l){var c=l.match(CQ);if(c){var h=0|parseInt(c[1],10),d=c[2];h!==0&&(IQ(d,h),kQ(e,d,c[3]),e.getTag().insertRules(h,i)),i.length=0}else i.push(l)}}};function RQ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pU=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(l){var c=Array.from(l.querySelectorAll("style[".concat(rc,"]")));return c[c.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(rc,oU),r.setAttribute(sU,Ay);var a=RQ();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},PQ=function(){function e(t){this.element=pU(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw qd(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),NQ=function(){function e(t){this.element=pU(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),OQ=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),lO=iI,DQ={isServer:!iI,useCSSOMInjection:!lQ},vU=function(){function e(t,n,r){t===void 0&&(t=ic),n===void 0&&(n={});var i=this;this.options=mr(mr({},DQ),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&iI&&lO&&(lO=!1,function(s){for(var a=document.querySelectorAll(xQ),l=0,c=a.length;l<c;l++){var h=a[l];h&&h.getAttribute(rc)!==oU&&(AQ(s,h),h.parentNode&&h.parentNode.removeChild(h))}}(this)),sI(this,function(){return function(s){for(var a=s.getTag(),l=a.length,c="",h=function(v){var g=function(S){return dm.get(S)}(v);if(g===void 0)return"continue";var y=s.names.get(g),w=a.getGroup(v);if(y===void 0||w.length===0)return"continue";var b="".concat(rc,".g").concat(v,'[id="').concat(g,'"]'),x="";y!==void 0&&y.forEach(function(S){S.length>0&&(x+="".concat(S,","))}),c+="".concat(w).concat(b,'{content:"').concat(x,'"}').concat(rI)},d=0;d<l;d++)h(d);return c}(i)})}return e.registerId=function(t){return Wv(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(mr(mr({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new OQ(i):r?new PQ(i):new NQ(i)}(this.options),new TQ(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(Wv(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(Wv(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Wv(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),LQ=/&/g,MQ=/^\s*\/\/.*$/gm;function gU(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=gU(n.children,t)),n})}function jQ(e){var t,n,r,i=ic,s=i.options,a=s===void 0?ic:s,l=i.plugins,c=l===void 0?Ry:l,h=function(g,y,w){return w.startsWith(n)&&w.endsWith(n)&&w.replaceAll(n,"").length>0?".".concat(t):g},d=c.slice();d.push(function(g){g.type===Iy&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(LQ,n).replace(r,h))}),a.prefix&&d.push(aQ),d.push(iQ);var v=function(g,y,w,b){y===void 0&&(y=""),w===void 0&&(w=""),b===void 0&&(b="&"),t=b,n=y,r=new RegExp("\\".concat(n,"\\b"),"g");var x=g.replace(MQ,""),S=nQ(w||y?"".concat(w," ").concat(y," { ").concat(x," }"):x);a.namespace&&(S=gU(S,a.namespace));var T=[];return hm(S,oQ(d.concat(sQ(function(C){return T.push(C)})))),T};return v.hash=c.length?c.reduce(function(g,y){return y.name||qd(15),Ll(g,y.name)},uU).toString():"",v}var FQ=new vU,HS=jQ(),mU=Fs.createContext({shouldForwardProp:void 0,styleSheet:FQ,stylis:HS});mU.Consumer;Fs.createContext(void 0);function cO(){return $.useContext(mU)}var UQ=function(){function e(t,n){var r=this;this.inject=function(i,s){s===void 0&&(s=HS);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,sI(this,function(){throw qd(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=HS),this.name+t.hash},e}(),$Q=function(e){return e>="A"&&e<="Z"};function fO(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;$Q(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var yU=function(e){return e==null||e===!1||e===""},wU=function(e){var t,n,r=[];for(var i in e){var s=e[i];e.hasOwnProperty(i)&&!yU(s)&&(Array.isArray(s)&&s.isCss||oc(s)?r.push("".concat(fO(i),":"),s,";"):rd(s)?r.push.apply(r,fm(fm(["".concat(i," {")],wU(s),!1),["}"],!1)):r.push("".concat(fO(i),": ").concat((t=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in uQ||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ga(e,t,n,r){if(yU(e))return[];if(oI(e))return[".".concat(e.styledComponentId)];if(oc(e)){if(!oc(s=e)||s.prototype&&s.prototype.isReactComponent||!t)return[e];var i=e(t);return Ga(i,t,n,r)}var s;return e instanceof UQ?n?(e.inject(n,r),[e.getName(r)]):[e]:rd(e)?wU(e):Array.isArray(e)?Array.prototype.concat.apply(Ry,e.map(function(a){return Ga(a,t,n,r)})):[e.toString()]}function VQ(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(oc(n)&&!oI(n))return!1}return!0}var BQ=lU(Ay),zQ=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&VQ(t),this.componentId=n,this.baseHash=Ll(BQ,n),this.baseStyle=r,vU.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ma(i,this.staticRulesId);else{var s=uO(Ga(this.rules,t,n,r)),a=qS(Ll(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var l=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,l)}i=Ma(i,a),this.staticRulesId=a}else{for(var c=Ll(this.baseHash,r.hash),h="",d=0;d<this.rules.length;d++){var v=this.rules[d];if(typeof v=="string")h+=v;else if(v){var g=uO(Ga(v,t,n,r));c=Ll(c,g+d),h+=g}}if(h){var y=qS(c>>>0);n.hasNameForId(this.componentId,y)||n.insertRules(this.componentId,y,r(h,".".concat(y),void 0,this.componentId)),i=Ma(i,y)}}return i},e}(),_U=Fs.createContext(void 0);_U.Consumer;var tE={};function qQ(e,t,n){var r=oI(e),i=e,s=!eE(e),a=t.attrs,l=a===void 0?Ry:a,c=t.componentId,h=c===void 0?function(k,D){var O=typeof k!="string"?"sc":rO(k);tE[O]=(tE[O]||0)+1;var j="".concat(O,"-").concat(pQ(Ay+O+tE[O]));return D?"".concat(D,"-").concat(j):j}(t.displayName,t.parentComponentId):c,d=t.displayName,v=d===void 0?function(k){return eE(k)?"styled.".concat(k):"Styled(".concat(vQ(k),")")}(e):d,g=t.displayName&&t.componentId?"".concat(rO(t.displayName),"-").concat(t.componentId):t.componentId||h,y=r&&i.attrs?i.attrs.concat(l).filter(Boolean):l,w=t.shouldForwardProp;if(r&&i.shouldForwardProp){var b=i.shouldForwardProp;if(t.shouldForwardProp){var x=t.shouldForwardProp;w=function(k,D){return b(k,D)&&x(k,D)}}else w=b}var S=new zQ(n,g,r?i.componentStyle:void 0);function T(k,D){return function(O,j,L){var Y=O.attrs,R=O.componentStyle,ne=O.defaultProps,Ue=O.foldedComponentIds,Bt=O.styledComponentId,bn=O.target,zt=Fs.useContext(_U),rr=cO(),ir=O.shouldForwardProp||rr.shouldForwardProp,H=cQ(j,zt,ne)||ic,re=function(or,vt,Fn){for(var Le,sr=mr(mr({},vt),{className:void 0,theme:Fn}),go=0;go<or.length;go+=1){var Ui=oc(Le=or[go])?Le(sr):Le;for(var ot in Ui)sr[ot]=ot==="className"?Ma(sr[ot],Ui[ot]):ot==="style"?mr(mr({},sr[ot]),Ui[ot]):Ui[ot]}return vt.className&&(sr.className=Ma(sr.className,vt.className)),sr}(Y,j,H),ae=re.as||bn,Ce={};for(var ke in re)re[ke]===void 0||ke[0]==="$"||ke==="as"||ke==="theme"&&re.theme===H||(ke==="forwardedAs"?Ce.as=re.forwardedAs:ir&&!ir(ke,ae)||(Ce[ke]=re[ke]));var En=function(or,vt){var Fn=cO(),Le=or.generateAndInjectStyles(vt,Fn.styleSheet,Fn.stylis);return Le}(R,re),nn=Ma(Ue,Bt);return En&&(nn+=" "+En),re.className&&(nn+=" "+re.className),Ce[eE(ae)&&!aU.has(ae)?"class":"className"]=nn,Ce.ref=L,$.createElement(ae,Ce)}(C,k,D)}T.displayName=v;var C=Fs.forwardRef(T);return C.attrs=y,C.componentStyle=S,C.displayName=v,C.shouldForwardProp=w,C.foldedComponentIds=r?Ma(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=g,C.target=r?i.target:e,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(D){for(var O=[],j=1;j<arguments.length;j++)O[j-1]=arguments[j];for(var L=0,Y=O;L<Y.length;L++)WS(D,Y[L],!0);return D}({},i.defaultProps,k):k}}),sI(C,function(){return".".concat(C.styledComponentId)}),s&&dU(C,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function hO(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var dO=function(e){return Object.assign(e,{isCss:!0})};function WQ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(oc(e)||rd(e))return dO(Ga(hO(Ry,fm([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?Ga(r):dO(Ga(hO(r,t)))}function KS(e,t,n){if(n===void 0&&(n=ic),!t)throw qd(1,t);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return e(t,n,WQ.apply(void 0,fm([i],s,!1)))};return r.attrs=function(i){return KS(e,t,mr(mr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return KS(e,t,mr(mr({},n),i))},r}var bU=function(e){return KS(qQ,e)},M=bU;aU.forEach(function(e){M[e]=bU(e)});var GS=function(e,t){return GS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},GS(e,t)};function Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");GS(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ue=function(){return ue=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ue.apply(this,arguments)};function N(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{h(r.next(d))}catch(v){a(v)}}function c(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function P(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return c([h,d])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function en(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function me(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EU={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W=function(e,t){if(!e)throw Fc(t)},Fc=function(e){return new Error("Firebase Database ("+EU.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SU=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},HQ=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,d=s>>2,v=(s&3)<<4|l>>4,g=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(SU(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):HQ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var g=s<<2|l>>4;if(r.push(g),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},KQ=function(e){var t=SU(e);return sc.encodeByteArray(t,!0)},pO=function(e){try{return sc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(e){return id(void 0,e)}function id(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!GQ(r)||(e[r]=id(e[r],t[r]));return e}function GQ(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ue({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[sc.encodeString(JSON.stringify(n),!1),sc.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(au())}function xU(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QQ(){return typeof self=="object"&&self.self===self}function uI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function CU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YQ(){return au().indexOf("Electron/")>=0}function XQ(){var e=au();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function JQ(){return au().indexOf("MSAppHost/")>=0}function kU(){return EU.NODE_ADMIN===!0}function ZQ(){return!xU()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wd(){return"indexedDB"in self&&indexedDB!=null}function lI(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function AU(){return!(!navigator||!navigator.cookieEnabled)}function e9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t9="FirebaseError",Uc=function(e){Q(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=t9,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ho.prototype.create),s}return t}(Error),Ho=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?n9(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Uc(s,c,i);return h},e}();function n9(e,t){return e.replace(r9,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var r9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(e){return JSON.parse(e)}function jt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cI=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=od(pO(s[0])||""),n=od(pO(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},i9=function(e){var t=cI(e).claims;return typeof t=="object"&&t.hasOwnProperty("iat")?t.iat:null},o9=function(e){var t=cI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},s9=function(e){var t=cI(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function uu(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function QS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pm(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u9=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),g=1518500249):(v=l^c^h,g=1859775393):i<60?(v=l&c|h&(l|c),g=2400959708):(v=l^c^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function l9(e,t){var n=new c9(e,t);return n.subscribe.bind(n)}var c9=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f9(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=nE),s.error===void 0&&(s.error=nE),s.complete===void 0&&(s.complete=nE);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function f9(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function nE(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Er(e,t){return e+" failed: "+t+" argument "}function Gt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Er(e,t)+"must be a valid function.")}function vO(e,t,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(Er(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h9=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,W(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Py=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d9=1e3,p9=2,v9=4*60*60*1e3,g9=.5;function YS(e,t,n){t===void 0&&(t=d9),n===void 0&&(n=p9);var r=t*Math.pow(n,e),i=Math.round(g9*r*(Math.random()-.5)*2);return Math.min(v9,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e){return e&&e._delegate?e._delegate:e}var Ln=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RU=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Xt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(y9(t))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}try{for(var i=en(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=fn(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService({instanceIdentifier:h});c.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=yl),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(me(me([],fn(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),fn(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=yl),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var c=en(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var d=fn(h.value,2),v=d[0],g=d[1],y=this.normalizeInstanceIdentifier(v);a===y&&g.resolve(l)}}catch(w){n={error:w}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=en(s),l=a.next();!l.done;l=a.next()){var c=l.value;try{c(t,n)}catch{}}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:m9(n),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=yl),this.component?this.component.multipleInstances?t:yl:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function m9(e){return e===yl?void 0:e}function y9(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PU=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new RU(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ii(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xa,fI=[],be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));var NU={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},w9=be.INFO,_9=(xa={},xa[be.DEBUG]="log",xa[be.VERBOSE]="log",xa[be.INFO]="info",xa[be.WARN]="warn",xa[be.ERROR]="error",xa),b9=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=_9[t];if(s)console[s].apply(console,Ii(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Tu=function(){function e(t){this.name=t,this._logLevel=w9,this._logHandler=b9,this._userLogHandler=null,fI.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in be))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?NU[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.DEBUG],t)),this._logHandler.apply(this,Ii([this,be.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.VERBOSE],t)),this._logHandler.apply(this,Ii([this,be.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.INFO],t)),this._logHandler.apply(this,Ii([this,be.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.WARN],t)),this._logHandler.apply(this,Ii([this,be.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ii([this,be.ERROR],t)),this._logHandler.apply(this,Ii([this,be.ERROR],t))},e}();function E9(e){fI.forEach(function(t){t.setLogLevel(e)})}function S9(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=NU[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:be[h].toLowerCase(),message:g,args:d,type:c.name})}},r=0,i=fI;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss,T9=(ss={},ss["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ss["bad-app-name"]="Illegal App name: '{$appName}",ss["duplicate-app"]="Firebase App named '{$appName}' already exists",ss["app-deleted"]="Firebase App named '{$appName}' already deleted",ss["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ss["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ss),wl=new Ho("app","Firebase",T9),OU="@firebase/app",I9="0.6.29",x9="@firebase/analytics",C9="@firebase/app-check",k9="@firebase/auth",A9="@firebase/database",R9="@firebase/functions",P9="@firebase/installations",N9="@firebase/messaging",O9="@firebase/performance",D9="@firebase/remote-config",L9="@firebase/storage",M9="@firebase/firestore",j9="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,vm="[DEFAULT]",F9=(In={},In[OU]="fire-core",In[x9]="fire-analytics",In[C9]="fire-app-check",In[k9]="fire-auth",In[A9]="fire-rtdb",In[R9]="fire-fn",In[P9]="fire-iid",In[N9]="fire-fcm",In[O9]="fire-perf",In[D9]="fire-rc",In[L9]="fire-gcs",In[M9]="fire-fst",In["fire-js"]="fire-js",In[j9]="fire-js-all",In);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=new Tu("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kg=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=TU(t),this.container=new PU(n.name),this._addComponent(new Ln("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=vm),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=vm),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ac.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw wl.create("app-deleted",{appName:this.name_})},e}();kg.prototype.name&&kg.prototype.options||kg.prototype.delete||console.log("dc");var U9="8.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:E9,onLog:d,apps:null,SDK_VERSION:U9,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(g){delete t[g]}function s(g){if(g=g||vm,!Vr(t,g))throw wl.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var b=y;b.name===void 0&&(b.name=vm);var x=b.name;if(typeof x!="string"||!x)throw wl.create("bad-app-name",{appName:String(x)});if(Vr(t,x))throw wl.create("duplicate-app",{appName:x});var S=new e(g,b,r);return t[x]=S,S}function l(){return Object.keys(t).map(function(g){return t[g]})}function c(g){var y=g.name;if(n.has(y))return ac.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var w=function(T){if(T===void 0&&(T=s()),typeof T[y]!="function")throw wl.create("invalid-app-argument",{appName:y});return T[y]()};g.serviceProps!==void 0&&id(w,g.serviceProps),r[y]=w,e.prototype[y]=function(){for(var T=[],C=0;C<arguments.length;C++)T[C]=arguments[C];var k=this._getService.bind(this,y);return k.apply(this,g.multipleInstances?T:[])}}for(var b=0,x=Object.keys(t);b<x.length;b++){var S=x[b];t[S]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,w){var b,x=(b=F9[g])!==null&&b!==void 0?b:g;w&&(x+="-"+w);var S=x.match(/\s|\//),T=y.match(/\s|\//);if(S||T){var C=['Unable to register library "'+x+'" with version "'+y+'":'];S&&C.push('library name "'+x+'" contains illegal characters (whitespace or "/")'),S&&T&&C.push("and"),T&&C.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ac.warn(C.join(" "));return}c(new Ln(x+"-version",function(){return{library:x,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw wl.create("invalid-log-argument");S9(g,y)}function v(g,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(){var e=$9(kg);e.INTERNAL=ue(ue({},e.INTERNAL),{createFirebaseNamespace:DU,extendNamespace:t,createSubscribe:l9,ErrorFactory:Ho,deepExtend:id});function t(n){id(e,n)}return e}var hI=DU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V9=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(B9(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function B9(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(e,t){e.INTERNAL.registerComponent(new Ln("platform-logger",function(n){return new V9(n)},"PRIVATE")),e.registerVersion(OU,I9,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(QQ()&&self.firebase!==void 0){ac.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var gO=self.firebase.SDK_VERSION;gO&&gO.indexOf("LITE")>=0&&ac.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var q9=hI.initializeApp;hI.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xU()&&ac.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),q9.apply(void 0,e)};var X=hI;z9(X);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(I){this.b=0,this.c=void 0,this.a=[];var A=this.f();try{I(A.resolve,A.reject)}catch(U){A.reject(U)}}function f(){this.a=null}function p(I){return I instanceof u?I:new u(function(A){A(I)})}if(o)return o;f.prototype.b=function(I){if(this.a==null){this.a=[];var A=this;this.c(function(){A.g()})}this.a.push(I)};var m=r.setTimeout;f.prototype.c=function(I){m(I,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var I=this.a;this.a=[];for(var A=0;A<I.length;++A){var U=I[A];I[A]=null;try{U()}catch(V){this.f(V)}}}this.a=null},f.prototype.f=function(I){this.c(function(){throw I})},u.prototype.f=function(){function I(V){return function(fe){U||(U=!0,V.call(A,fe))}}var A=this,U=!1;return{resolve:I(this.m),reject:I(this.g)}},u.prototype.m=function(I){if(I===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(I instanceof u)this.s(I);else{e:switch(typeof I){case"object":var A=I!=null;break e;case"function":A=!0;break e;default:A=!1}A?this.v(I):this.h(I)}},u.prototype.v=function(I){var A=void 0;try{A=I.then}catch(U){this.g(U);return}typeof A=="function"?this.u(A,I):this.h(I)},u.prototype.g=function(I){this.i(2,I)},u.prototype.h=function(I){this.i(1,I)},u.prototype.i=function(I,A){if(this.b!=0)throw Error("Cannot settle("+I+", "+A+"): Promise already settled in state"+this.b);this.b=I,this.c=A,this.l()},u.prototype.l=function(){if(this.a!=null){for(var I=0;I<this.a.length;++I)_.b(this.a[I]);this.a=null}};var _=new f;return u.prototype.s=function(I){var A=this.f();I.Ra(A.resolve,A.reject)},u.prototype.u=function(I,A){var U=this.f();try{I.call(A,U.resolve,U.reject)}catch(V){U.reject(V)}},u.prototype.then=function(I,A){function U(Pe,qt){return typeof Pe=="function"?function(Eo){try{V(Pe(Eo))}catch(Eb){fe(Eb)}}:qt}var V,fe,$e=new u(function(Pe,qt){V=Pe,fe=qt});return this.Ra(U(I,V),U(A,fe)),$e},u.prototype.catch=function(I){return this.then(void 0,I)},u.prototype.Ra=function(I,A){function U(){switch(V.b){case 1:I(V.c);break;case 2:A(V.c);break;default:throw Error("Unexpected state: "+V.b)}}var V=this;this.a==null?_.b(U):this.a.push(U)},u.resolve=p,u.reject=function(I){return new u(function(A,U){U(I)})},u.race=function(I){return new u(function(A,U){for(var V=a(I),fe=V.next();!fe.done;fe=V.next())p(fe.value).Ra(A,U)})},u.all=function(I){var A=a(I),U=A.next();return U.done?p([]):new u(function(V,fe){function $e(Eo){return function(Eb){Pe[Eo]=Eb,qt--,qt==0&&V(Pe)}}var Pe=[],qt=0;do Pe.push(void 0),qt++,p(U.value).Ra($e(Pe.length-1),fe),U=A.next();while(!U.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function b(o){return y(o)=="function"}function x(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function S(o){return Object.prototype.hasOwnProperty.call(o,T)&&o[T]||(o[T]=++C)}var T="closure_uid_"+(1e9*Math.random()>>>0),C=0;function k(o,u,f){return o.call.apply(o.bind,arguments)}function D(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=k:O=D,O.apply(null,arguments)}function j(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function L(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Y(o){return o}function R(o,u,f){this.code=Ue+o,this.message=u||Bt[o]||"",this.a=f||null}L(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function ne(o){var u=o&&o.code;return u?new R(u.substring(Ue.length),o.message,o.serverResponse):null}var Ue="auth/",Bt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},bn={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function zt(o){for(var u in bn)if(bn[u].id===o)return o=bn[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var rr;rr=zt("__EID__")?"__EID__":void 0;function ir(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function H(o){if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}L(H,Error),H.prototype.name="CustomError";function re(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");H.call(this,f+o[p])}L(re,H),re.prototype.name="AssertionError";function ae(o,u){throw new re("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Ce(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Ce.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function ke(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function En(){this.b=this.a=null}var nn=new Ce(function(){return new vt},function(o){o.reset()});En.prototype.add=function(o,u){var f=nn.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function or(){var o=vk,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function vt(){this.next=this.b=this.a=null}vt.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},vt.prototype.reset=function(){this.next=this.b=this.a=null};var Fn=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Le=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in m&&u.call(f,m[_],_,o)};function sr(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var go=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,_=typeof o=="string"?o.split(""):o,I=0;I<f;I++)if(I in _){var A=_[I];u.call(void 0,A,I,o)&&(p[m++]=A)}return p},Ui=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in m&&(p[_]=u.call(void 0,m[_],_,o));return p},ot=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function ia(o){e:{for(var u=sq,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function mo(o,u){return 0<=Fn(o,u)}function Ip(o,u){u=Fn(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function pi(o,u){var f=0;sr(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function K0(o){return Array.prototype.concat.apply([],arguments)}function oa(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var qC=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},k5=/&/g,A5=/</g,R5=/>/g,P5=/"/g,N5=/'/g,O5=/\x00/g,D5=/[\x00&<>"']/;function Ke(o,u){return o.indexOf(u)!=-1}function G0(o,u){return o<u?-1:o>u?1:0}var Fu;e:{var WC=c.navigator;if(WC){var HC=WC.userAgent;if(HC){Fu=HC;break e}}Fu=""}function Nt(o){return Ke(Fu,o)}function KC(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function sa(o){for(var u in o)return!1;return!0}function Yo(o){var u={},f;for(f in o)u[f]=o[f];return u}var GC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ar(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var _=0;_<GC.length;_++)f=GC[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function QC(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||c,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(x(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;ae("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function $i(o,u){this.a=o===xp&&u||"",this.b=YC}$i.prototype.ta=!0,$i.prototype.sa=function(){return this.a},$i.prototype.toString=function(){return"Const{"+this.a+"}"};function Q0(o){return o instanceof $i&&o.constructor===$i&&o.b===YC?o.a:(ae("expected object of type Const, got '"+o+"'"),"type_error:Const")}var YC={},xp={},Cp;function XC(){if(Cp===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Y,createScript:Y,createScriptURL:Y})}catch(f){c.console&&c.console.error(f.message)}Cp=o}else Cp=o}return Cp}function Uu(o,u){this.a=u===ZC?o:""}Uu.prototype.ta=!0,Uu.prototype.sa=function(){return this.a.toString()},Uu.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function JC(o){return o instanceof Uu&&o.constructor===Uu?o.a:(ae("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Y0(o,u){var f=Q0(o);if(!M5.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(L5,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof $i?Q0(p):encodeURIComponent(String(p))}),j5(o)}var L5=/%{(\w+)}/g,M5=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ZC={};function j5(o){var u=XC();return o=u?u.createScriptURL(o):o,new Uu(o,ZC)}function ur(o,u){this.a=u===rf?o:""}ur.prototype.ta=!0,ur.prototype.sa=function(){return this.a.toString()},ur.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function kp(o){return o instanceof ur&&o.constructor===ur?o.a:(ae("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var F5=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,U5=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ek=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tk(o){if(o instanceof ur)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),ek.test(o))o=new ur(o,rf);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(U5);o=u&&F5.test(u[1])?new ur(o,rf):null}return o}function nk(o){return o instanceof ur?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),ek.test(o)||(o="about:invalid#zClosurez"),new ur(o,rf))}var rf={},rk=new ur("about:invalid#zClosurez",rf);function $u(o,u,f){this.a=f===ik?o:""}$u.prototype.ta=!0,$u.prototype.sa=function(){return this.a.toString()},$u.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function $5(o){return o instanceof $u&&o.constructor===$u?o.a:(ae("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var ik={};function V5(o,u){QC(o,"HTMLScriptElement"),o.src=JC(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(d===null&&(d=v(c.document)),u=d),u&&o.setAttribute("nonce",u)}function ok(o,u,f,p){return o=o instanceof ur?o:nk(o),u=u||c,f=f instanceof $i?Q0(f):f||"",u.open(kp(o),f,p,void 0)}function sk(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function X0(o){return D5.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(k5,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(A5,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(R5,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(P5,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(N5,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(O5,"&#0;"))),o}function J0(o){return J0[" "](o),o}J0[" "]=g;function B5(o,u){var f=H5;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var z5=Nt("Opera"),vi=Nt("Trident")||Nt("MSIE"),ak=Nt("Edge"),q5=ak||vi,uk=Nt("Gecko")&&!(Ke(Fu.toLowerCase(),"webkit")&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),W5=Ke(Fu.toLowerCase(),"webkit")&&!Nt("Edge");function lk(){var o=c.document;return o?o.documentMode:void 0}var Ap;e:{var Z0="",ew=function(){var o=Fu;if(uk)return/rv:([^\);]+)(\)|;)/.exec(o);if(ak)return/Edge\/([\d\.]+)/.exec(o);if(vi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(W5)return/WebKit\/(\S+)/.exec(o);if(z5)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(ew&&(Z0=ew?ew[1]:""),vi){var tw=lk();if(tw!=null&&tw>parseFloat(Z0)){Ap=String(tw);break e}}Ap=Z0}var H5={};function ck(o){return B5(o,function(){for(var u=0,f=qC(String(Ap)).split("."),p=qC(String(o)).split("."),m=Math.max(f.length,p.length),_=0;u==0&&_<m;_++){var I=f[_]||"",A=p[_]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],I[0].length==0&&A[0].length==0)break;u=G0(I[1].length==0?0:parseInt(I[1],10),A[1].length==0?0:parseInt(A[1],10))||G0(I[2].length==0,A[2].length==0)||G0(I[2],A[2]),I=I[3],A=A[3]}while(u==0)}return 0<=u})}var nw;if(c.document&&vi){var fk=lk();nw=fk||parseInt(Ap,10)||void 0}else nw=void 0;var Xo=nw;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var K5=!vi||9<=Number(Xo);function of(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function hk(o,u){KC(u,function(f,p){f&&typeof f=="object"&&f.ta&&(f=f.sa()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:dk.hasOwnProperty(p)?o.setAttribute(dk[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var dk={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function G5(o,u,f){var p=arguments,m=document,_=String(p[0]),I=p[1];if(!K5&&I&&(I.name||I.type)){if(_=["<",_],I.name&&_.push(' name="',X0(I.name),'"'),I.type){_.push(' type="',X0(I.type),'"');var A={};ar(A,I),delete A.type,I=A}_.push(">"),_=_.join("")}return _=Rp(m,_),I&&(typeof I=="string"?_.className=I:Array.isArray(I)?_.className=I.join(" "):hk(_,I)),2<p.length&&Q5(m,_,p),_}function Q5(o,u,f){function p(A){A&&u.appendChild(typeof A=="string"?o.createTextNode(A):A)}for(var m=2;m<f.length;m++){var _=f[m];if(!w(_)||x(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(x(_)){var I=typeof _.item=="function"||typeof _.item=="string";break e}if(b(_)){I=typeof _.item=="function";break e}}I=!1}Le(I?oa(_):_,p)}}}function Rp(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function pk(o){c.setTimeout(function(){throw o},0)}var rw;function Y5(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Nt("Presto")&&(o=function(){var m=Rp(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var _=m.contentWindow;m=_.document,m.open(),m.close();var I="callImmediate"+Math.random(),A=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;m=O(function(U){(A=="*"||U.origin==A)&&U.data==I&&this.port1.onmessage()},this),_.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(I,A)}}}),typeof o<"u"&&!Nt("Trident")&&!Nt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Hb;f.Hb=null,m()}},function(m){p.next={Hb:m},p=p.next,u.port2.postMessage(0)}}return function(m){c.setTimeout(m,0)}}function Pp(o,u){Np||X5(),iw||(Np(),iw=!0),vk.add(o,u)}var Np;function X5(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Np=function(){o.then(gk)}}else Np=function(){var u=gk;!b(c.setImmediate)||c.Window&&c.Window.prototype&&!Nt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(rw||(rw=Y5()),rw(u)):c.setImmediate(u)}}var iw=!1,vk=new En;function gk(){for(var o;o=or();){try{o.a.call(o.b)}catch(u){pk(u)}ke(nn,o)}iw=!1}function Ee(o,u){if(this.a=aa,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){ua(f,sf,p)},function(p){if(!(p instanceof Vu))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}ua(f,yo,p)})}catch(p){ua(this,yo,p)}}var aa=0,sf=2,yo=3;function mk(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}mk.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var yk=new Ce(function(){return new mk},function(o){o.reset()});function ow(o,u,f){var p=yk.get();return p.g=o,p.b=u,p.f=f,p}function se(o){if(o instanceof Ee)return o;var u=new Ee(g);return ua(u,sf,o),u}function et(o){return new Ee(function(u,f){f(o)})}function wk(o,u,f){Sk(o,u,f,null)||Pp(j(u,o))}function J5(o){return new Ee(function(u,f){var p=o.length,m=[];if(p)for(var _=function(V,fe){p--,m[V]=fe,p==0&&u(m)},I=function(V){f(V)},A=0,U;A<o.length;A++)U=o[A],wk(U,j(_,A),I);else u(m)})}function _k(o){return new Ee(function(u){var f=o.length,p=[];if(f)for(var m=function(A,U,V){f--,p[A]=U?{Qb:!0,value:V}:{Qb:!1,reason:V},f==0&&u(p)},_=0,I;_<o.length;_++)I=o[_],wk(I,j(m,_,!0),j(m,_,!1));else u(p)})}Ee.prototype.then=function(o,u,f){return Ek(this,b(o)?o:null,b(u)?u:null,f)},Ee.prototype.$goog_Thenable=!0,e=Ee.prototype,e.oa=function(o,u){return o=ow(o,o,u),o.c=!0,sw(this,o),this},e.o=function(o,u){return Ek(this,null,o,u)},e.cancel=function(o){if(this.a==aa){var u=new Vu(o);Pp(function(){bk(this,u)},this)}};function bk(o,u){if(o.a==aa)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,_=null,I=f.b;I&&(I.c||(p++,I.a==o&&(m=I),!(m&&1<p)));I=I.next)m||(_=I);m&&(f.a==aa&&p==1?bk(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):Ik(f),xk(f,m,yo,u)))}o.c=null}else ua(o,yo,u)}function sw(o,u){o.b||o.a!=sf&&o.a!=yo||Tk(o),o.f?o.f.next=u:o.b=u,o.f=u}function Ek(o,u,f,p){var m=ow(null,null,null);return m.a=new Ee(function(_,I){m.g=u?function(A){try{var U=u.call(p,A);_(U)}catch(V){I(V)}}:_,m.b=f?function(A){try{var U=f.call(p,A);U===void 0&&A instanceof Vu?I(A):_(U)}catch(V){I(V)}}:I}),m.a.c=o,sw(o,m),m.a}e.$c=function(o){this.a=aa,ua(this,sf,o)},e.ad=function(o){this.a=aa,ua(this,yo,o)};function ua(o,u,f){o.a==aa&&(o===f&&(u=yo,f=new TypeError("Promise cannot resolve to itself")),o.a=1,Sk(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,Tk(o),u!=yo||f instanceof Vu||e6(o,f)))}function Sk(o,u,f,p){if(o instanceof Ee)return sw(o,ow(u||g,f||null,p)),!0;if(ir(o))return o.then(u,f,p),!0;if(x(o))try{var m=o.then;if(b(m))return Z5(o,m,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function Z5(o,u,f,p,m){function _(U){A||(A=!0,p.call(m,U))}function I(U){A||(A=!0,f.call(m,U))}var A=!1;try{u.call(o,I,_)}catch(U){_(U)}}function Tk(o){o.h||(o.h=!0,Pp(o.gc,o))}function Ik(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=Ik(this);)xk(this,o,this.a,this.i);this.h=!1};function xk(o,u,f,p){if(f==yo&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,Ck(u,f,p);else try{u.c?u.g.call(u.f):Ck(u,f,p)}catch(m){kk.call(null,m)}ke(yk,u)}function Ck(o,u,f){u==sf?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function e6(o,u){o.g=!0,Pp(function(){o.g&&kk.call(null,u)})}var kk=pk;function Vu(o){H.call(this,o)}L(Vu,H),Vu.prototype.name="cancel";function Op(){this.ya=this.ya,this.pa=this.pa}var t6=0;Op.prototype.ya=!1;function Ak(o){!o.ya&&(o.ya=!0,o.Da(),t6!=0)&&S(o)}Op.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var n6=Object.freeze||function(o){return o},Rk=!vi||9<=Number(Xo),r6=vi&&!ck("9"),i6=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",g,u),c.removeEventListener("test",g,u)}catch{}return o}();function lr(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}lr.prototype.preventDefault=function(){this.defaultPrevented=!0};function la(o,u){if(lr.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(uk){e:{try{J0(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:o6[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}L(la,lr);var o6=n6({2:"touch",3:"pen",4:"mouse"});la.prototype.preventDefault=function(){la.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,r6)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},la.prototype.g=function(){return this.a};var af="closure_listenable_"+(1e6*Math.random()|0),s6=0;function a6(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Wa=m,this.key=++s6,this.wa=this.Qa=!1}function Dp(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function Lp(o){this.src=o,this.a={},this.b=0}Lp.prototype.add=function(o,u,f,p,m){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var I=uw(o,u,p,m);return-1<I?(u=o[I],f||(u.Qa=!1)):(u=new a6(u,this.src,_,!!p,m),u.Qa=f,o.push(u)),u};function aw(o,u){var f=u.type;f in o.a&&Ip(o.a[f],u)&&(Dp(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function uw(o,u,f,p){for(var m=0;m<o.length;++m){var _=o[m];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==p)return m}return-1}var lw="closure_lm_"+(1e6*Math.random()|0),cw={};function Kr(o,u,f,p,m){if(p&&p.once)fw(o,u,f,p,m);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Kr(o,u[_],f,p,m);else f=dw(f),o&&o[af]?Mk(o,u,f,x(p)?!!p.capture:!!p,m):Pk(o,u,f,!1,p,m)}function Pk(o,u,f,p,m,_){if(!u)throw Error("Invalid event type");var I=x(m)?!!m.capture:!!m,A=Mp(o);if(A||(o[lw]=A=new Lp(o)),f=A.add(u,f,p,I,_),!f.proxy)if(p=u6(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)i6||(m=I),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(Ok(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function u6(){var o=l6,u=Rk?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function fw(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)fw(o,u[_],f,p,m);else f=dw(f),o&&o[af]?pw(o,u,f,x(p)?!!p.capture:!!p,m):Pk(o,u,f,!0,p,m)}function xr(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)xr(o,u[_],f,p,m);else p=x(p)?!!p.capture:!!p,f=dw(f),o&&o[af]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=uw(_,f,p,m),-1<f&&(Dp(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Mp(o))&&(u=o.a[u.toString()],o=-1,u&&(o=uw(u,f,p,m)),(f=-1<o?u[o]:null)&&Nk(f))}function Nk(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[af])aw(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(Ok(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Mp(u))?(aw(f,o),f.b==0&&(f.src=null,u[lw]=null)):Dp(o)}}}function Ok(o){return o in cw?cw[o]:cw[o]="on"+o}function Dk(o,u,f,p){var m=!0;if((o=Mp(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=Lk(_,p),m=m&&_!==!1)}return m}function Lk(o,u){var f=o.listener,p=o.Wa||o.src;return o.Qa&&Nk(o),f.call(p,u)}function l6(o,u){if(o.wa)return!0;if(!Rk){if(!u)e:{u=["window","event"];for(var f=c,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new la(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var _=Dk(p[m],o,!0,u);f=f&&_}for(m=0;m<p.length;m++)u.b=p[m],_=Dk(p[m],o,!1,u),f=f&&_}return f}return Lk(o,new la(u,this))}function Mp(o){return o=o[lw],o instanceof Lp?o:null}var hw="__closure_events_fn_"+(1e9*Math.random()>>>0);function dw(o){return b(o)?o:(o[hw]||(o[hw]=function(u){return o.handleEvent(u)}),o[hw])}function Un(){Op.call(this),this.v=new Lp(this),this.bc=this,this.hb=null}L(Un,Op),Un.prototype[af]=!0,Un.prototype.addEventListener=function(o,u,f,p){Kr(this,o,u,f,p)},Un.prototype.removeEventListener=function(o,u,f,p){xr(this,o,u,f,p)},Un.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var p=o.type||o;if(typeof o=="string")o=new lr(o,f);else if(o instanceof lr)o.target=o.target||f;else{var m=o;o=new lr(p,f),ar(o,m)}if(m=!0,u)for(var _=u.length-1;0<=_;_--){var I=o.b=u[_];m=jp(I,p,!0,o)&&m}if(I=o.b=f,m=jp(I,p,!0,o)&&m,m=jp(I,p,!1,o)&&m,u)for(_=0;_<u.length;_++)I=o.b=u[_],m=jp(I,p,!1,o)&&m;return m},Un.prototype.Da=function(){if(Un.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Dp(f[p]);delete o.a[u],o.b--}}this.hb=null};function Mk(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function pw(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function jp(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,_=0;_<u.length;++_){var I=u[_];if(I&&!I.wa&&I.capture==f){var A=I.listener,U=I.Wa||I.src;I.Qa&&aw(o.v,I),m=A.call(U,p)!==!1&&m}}return m&&!p.defaultPrevented}function vw(o,u,f){if(b(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Bu(o){var u=null;return new Ee(function(f,p){u=vw(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function jk(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function Fk(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function c6(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")Le(o,u,void 0);else for(var f=Fk(o),p=jk(o),m=p.length,_=0;_<m;_++)u.call(void 0,p[_],f&&f[_],o)}function zu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof zu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=zu.prototype,e.X=function(){gw(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return gw(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function gw(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];ca(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],ca(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}e.get=function(o,u){return ca(this.b,o)?this.b[o]:u},e.set=function(o,u){ca(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],_=this.get(m);o.call(u,_,m,this)}};function ca(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var Uk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function f6(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var _=o[f].substring(0,p);m=o[f].substring(p+1)}else _=o[f];u(_,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Jo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Jo?(this.i=u!==void 0?u:o.i,uf(this,o.c),this.l=o.l,this.a=o.a,lf(this,o.g),this.f=o.f,mw(this,zk(o.b)),this.h=o.h):o&&(f=String(o).match(Uk))?(this.i=!!u,uf(this,f[1]||"",!0),this.l=cf(f[2]||""),this.a=cf(f[3]||"",!0),lf(this,f[4]),this.f=cf(f[5]||"",!0),mw(this,f[6]||"",!0),this.h=cf(f[7]||"")):(this.i=!!u,this.b=new fa(null,this.i))}Jo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(ff(u,$k,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(ff(u,$k,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(ff(f,f.charAt(0)=="/"?p6:d6,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",ff(f,g6)),o.join("")},Jo.prototype.resolve=function(o){var u=new Jo(this),f=!!o.c;f?uf(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)lf(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(Ke(m,"./")||Ke(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var _=[],I=0;I<m.length;){var A=m[I++];A=="."?p&&I==m.length&&_.push(""):A==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&I==m.length&&_.push("")):(_.push(A),p=!0)}p=_.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?mw(u,zk(o.b)):f=!!o.h,f&&(u.h=o.h),u};function uf(o,u,f){o.c=f?cf(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function lf(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function mw(o,u,f){u instanceof fa?(o.b=u,m6(o.b,o.i)):(f||(u=ff(u,v6)),o.b=new fa(u,o.i))}function gt(o,u,f){o.b.set(u,f)}function Gr(o,u){return o.b.get(u)}function cr(o){return o instanceof Jo?new Jo(o):new Jo(o,void 0)}function Fp(o,u,f,p){var m=new Jo(null,void 0);return o&&uf(m,o),u&&(m.a=u),f&&lf(m,f),p&&(m.f=p),m}function cf(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ff(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,h6),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function h6(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var $k=/[#\/\?@]/g,d6=/[#\?:]/g,p6=/[#\?]/g,v6=/[#\?@]/g,g6=/#/g;function fa(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Zo(o){o.a||(o.a=new zu,o.b=0,o.c&&f6(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function Vk(o){var u=Fk(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new fa(null,void 0);o=jk(o);for(var p=0;p<u.length;p++){var m=u[p],_=o[p];Array.isArray(_)?Bk(f,m,_):f.add(m,_)}return f}e=fa.prototype,e.add=function(o,u){Zo(this),this.c=null,o=qu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Vi(o,u){Zo(o),u=qu(o,u),ca(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,ca(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&gw(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function yw(o,u){return Zo(o),u=qu(o,u),ca(o.a.b,u)}e.forEach=function(o,u){Zo(this),this.a.forEach(function(f,p){Le(f,function(m){o.call(u,m,p,this)},this)},this)},e.Y=function(){Zo(this);for(var o=this.a.X(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],_=0;_<m.length;_++)f.push(u[p]);return f},e.X=function(o){Zo(this);var u=[];if(typeof o=="string")yw(this,o)&&(u=K0(u,this.a.get(qu(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=K0(u,o[f])}return u},e.set=function(o,u){return Zo(this),this.c=null,o=qu(this,o),yw(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function Bk(o,u,f){Vi(o,u),0<f.length&&(o.c=null,o.a.set(qu(o,u),oa(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var I=m;p[_]!==""&&(I+="="+encodeURIComponent(String(p[_]))),o.push(I)}}return this.c=o.join("&")};function zk(o){var u=new fa;return u.c=o.c,o.a&&(u.a=new zu(o.a),u.b=o.b),u}function qu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function m6(o,u){u&&!o.f&&(Zo(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(Vi(this,p),Bk(this,m,f))},o)),o.f=u}function qk(o){var u=[];return ww(new y6,o,u),u.join("")}function y6(){}function ww(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",_=0;_<u;_++)f.push(m),ww(o,p[_],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(m),Hk(p,f),f.push(":"),ww(o,_,f),m=","));f.push("}");return}}switch(typeof u){case"string":Hk(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Wk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},w6=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Hk(o,u){u.push('"',o.replace(w6,function(f){var p=Wk[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Wk[f]=p),p}),'"')}function _w(){var o=rn();return vi&&!!Xo&&Xo==11||/Edge\/\d+/.test(o)}function hf(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function Kk(o,u){u=u||c.window;var f="about:blank";o&&(f=kp(tk(o)||rk)),u.location.href=f}function Gk(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<Gk(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function _6(){var o=rn();return o=Wu(o)!=Jk?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!vi||!Xo||9<Xo}function Qk(o){return o=(o||rn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function ha(o){o=o||c.window;try{o.close()}catch{}}function Yk(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=rn().toLowerCase(),p&&(u.target=p,Ke(f,"crios/")&&(u.target="_blank")),Wu(rn())==Sw&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof ur?f:tk(typeof f.href<"u"?f.href:String(f))||rk,f=o.target||f.target,m=[];for(I in o)switch(I){case"width":case"height":case"top":case"left":m.push(I+"="+o[I]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(I+"="+(o[I]?1:0))}var I=m.join(",");if((Nt("iPhone")&&!Nt("iPod")&&!Nt("iPad")||Nt("iPad")||Nt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(I=Rp(document,"A"),QC(I,"HTMLAnchorElement"),u=u instanceof ur?u:nk(u),I.href=kp(u),I.setAttribute("target",f),o.noreferrer&&I.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),I.dispatchEvent(o),I={}):o.noreferrer?(I=ok("",p,f,I),o=kp(u),I&&(q5&&Ke(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),I.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+X0(o)+'">',o=(p=XC())?p.createHTML(o):o,o=new $u(o,null,ik),p=I.document)&&(p.write($5(o)),p.close())):(I=ok(u,p,f,I))&&o.noopener&&(I.opener=null),I)try{I.focus()}catch{}return I}function b6(o){return new Ee(function(u){function f(){Bu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var E6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S6=/^[^@]+@[^@]+$/;function Up(){var o=null;return new Ee(function(u){c.document.readyState=="complete"?u():(o=function(){u()},fw(window,"load",o))}).o(function(u){throw xr(window,"load",o),u})}function T6(){return bw(void 0)?Up().then(function(){return new Ee(function(o,u){var f=c.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):et(Error("Cordova must run in an Android or iOS file scheme."))}function bw(o){return o=o||rn(),!(Ku()!=="file:"&&Ku()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ew(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function gi(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Bi(){return X.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":X.INTERNAL.hasOwnProperty("node")?"Node":gi()?"Worker":"Browser"}function Xk(){var o=Bi();return o==="ReactNative"||o==="Node"}function I6(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Sw="Firefox",Jk="Chrome";function Wu(o){var u=o.toLowerCase();if(Ke(u,"opera/")||Ke(u,"opr/")||Ke(u,"opios/"))return"Opera";if(Ke(u,"iemobile"))return"IEMobile";if(Ke(u,"msie")||Ke(u,"trident/"))return"IE";if(Ke(u,"edge/"))return"Edge";if(Ke(u,"firefox/"))return Sw;if(Ke(u,"silk/"))return"Silk";if(Ke(u,"blackberry"))return"Blackberry";if(Ke(u,"webos"))return"Webos";if(!Ke(u,"safari/")||Ke(u,"chrome/")||Ke(u,"crios/")||Ke(u,"android"))if(!Ke(u,"chrome/")&&!Ke(u,"crios/")||Ke(u,"edge/")){if(Ke(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Jk;else return"Safari";return"Other"}var Zk={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Hu(o,u){u=u||[];var f=[],p={},m;for(m in Zk)p[Zk[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]<"u"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Bi(),f==="Browser"?(p=rn(),f=Wu(p)):f==="Worker"&&(p=rn(),f=Wu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function rn(){return c.navigator&&c.navigator.userAgent||""}function tt(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Tw(){try{var o=c.localStorage,u=pa();if(o)return o.setItem(u,"1"),o.removeItem(u),_w()?!!c.indexedDB:!0}catch{return gi()&&!!c.indexedDB}return!1}function da(){return($p()||Ku()==="chrome-extension:"||bw())&&!Xk()&&Tw()&&!gi()}function $p(){return Ku()==="http:"||Ku()==="https:"}function Ku(){return c.location&&c.location.protocol||null}function df(o){return o=o||rn(),!(Qk(o)||Wu(o)==Sw)}function pf(o){return typeof o>"u"?null:qk(o)}function eA(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function Gu(o){if(o!==null)return JSON.parse(o)}function pa(o){return o||Math.floor(1e9*Math.random()).toString()}function tA(o){return o=o||rn(),!(Wu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function nA(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function es(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=rn(),u=Bi(),this.b=Qk(o)||u==="ReactNative"}es.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&($p()||Ku()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Iw(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function x6(){var o=c.document,u=null;return Iw()||!o?se():new Ee(function(f){u=function(){Iw()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function vf(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function rA(){return!(!tt("fireauth.oauthhelper",c)&&!tt("fireauth.iframe",c))}function C6(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function k6(){var o=c.navigator;return o&&o.serviceWorker?se().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):se(null)}var iA={};function xw(o){iA[o]||(iA[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Cw;try{var kw={};Object.defineProperty(kw,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(kw,"abcd",{configurable:!0,enumerable:!0,value:2}),Cw=kw.abcd==2}catch{Cw=!1}function te(o,u,f){Cw?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function $n(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&te(o,f,u[f])}function zi(o){var u={};return $n(u,o),u}function A6(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function R6(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function Aw(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)te(u,f,Aw(o[f]))}return u}function Rw(o){var u=o&&(o[Dw]?"phone":null);if(u&&o&&o[Ow]){te(this,"uid",o[Ow]),te(this,"displayName",o[oA]||null);var f=null;o[Nw]&&(f=new Date(o[Nw]).toUTCString()),te(this,"enrollmentTime",f),te(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}Rw.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Pw(o){try{var u=new gf(o)}catch{u=null}return u}var oA="displayName",Nw="enrolledAt",Ow="mfaEnrollmentId",Dw="phoneInfo";function gf(o){Rw.call(this,o),te(this,"phoneNumber",o[Dw])}L(gf,Rw),gf.prototype.w=function(){var o=gf.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function P6(o){var u={},f=o[N6],p=o[D6],m=o[L6];if(o=Pw(o[O6]),!m||m!=Vp&&m!=mf&&!f||m==mf&&!p||m==Lw&&!o)throw Error("Invalid checkActionCode response!");m==mf?(u[aA]=f||null,u[uA]=f||null,u[sA]=p):(u[aA]=p||null,u[uA]=p||null,u[sA]=f||null),u[M6]=o||null,te(this,F6,m),te(this,j6,Aw(u))}var Lw="REVERT_SECOND_FACTOR_ADDITION",Vp="EMAIL_SIGNIN",mf="VERIFY_AND_CHANGE_EMAIL",N6="email",O6="mfaInfo",D6="newEmail",L6="requestType",sA="email",aA="fromEmail",M6="multiFactorInfo",uA="previousEmail",j6="data",F6="operation";function Mw(o){o=cr(o);var u=Gr(o,lA)||null,f=Gr(o,cA)||null,p=Gr(o,fA)||null;if(p=p&&B6[p]||null,!u||!f||!p)throw new R("argument-error",lA+", "+cA+"and "+fA+" are required in a valid action code URL.");$n(this,{apiKey:u,operation:p,code:f,continueUrl:Gr(o,U6)||null,languageCode:Gr(o,$6)||null,tenantId:Gr(o,V6)||null})}var lA="apiKey",cA="oobCode",U6="continueUrl",$6="languageCode",fA="mode",V6="tenantId",B6={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Lw,signIn:Vp,verifyAndChangeEmail:mf,verifyEmail:"VERIFY_EMAIL"};function hA(o){try{return new Mw(o)}catch{return null}}function Bp(o){var u=o[z6];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[dA];if(f&&typeof f=="object"){u=f[yA];var p=f[gA];if(f=f[mA],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new R("argument-error",gA+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",mA+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",yA+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",dA+" property must be a non null object when specified.");if(this.f=null,(u=o[vA])&&typeof u=="object"){if(u=u[wA],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",wA+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",vA+" property must be a non null object when specified.");if(u=o[jw],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",jw+" property must be a boolean when specified.");if(this.c=!!u,o=o[pA],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",pA+" property must be a non empty string when specified.");this.i=o||null}var dA="android",pA="dynamicLinkDomain",jw="handleCodeInApp",vA="iOS",z6="url",gA="installApp",mA="minimumVersion",yA="packageName",wA="bundleId";function zp(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function q6(o){return Ui(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var yf=null;function W6(o){var u=[];return H6(o,function(f){u.push(f)}),u}function H6(o,u){function f(U){for(;p<o.length;){var V=o.charAt(p++),fe=yf[V];if(fe!=null)return fe;if(!/^[\s\xa0]*$/.test(V))throw Error("Unknown base64 encoding at char: "+V)}return U}K6();for(var p=0;;){var m=f(-1),_=f(0),I=f(64),A=f(64);if(A===64&&m===-1)break;u(m<<2|_>>4),I!=64&&(u(_<<4&240|I>>2),A!=64&&u(I<<6&192|A))}}function K6(){if(!yf){yf={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var _=p[m];yf[_]===void 0&&(yf[_]=m)}}}function qp(o){var u=_A(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}qp.prototype.T=function(){return this.f},qp.prototype.l=function(){return this.c},qp.prototype.toString=function(){return this.h};function Wp(o){try{return new qp(o)}catch{return null}}function _A(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=W6(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var _=p[u++];o[f++]=String.fromCharCode((m&31)<<6|_&63)}else if(239<m&&365>m){_=p[u++];var I=p[u++],A=p[u++],U=((m&7)<<18|(_&63)<<12|(I&63)<<6|A&63)-65536;o[f++]=String.fromCharCode(55296+(U>>10)),o[f++]=String.fromCharCode(56320+(U&1023))}else _=p[u++],I=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(_&63)<<6|I&63)}return JSON.parse(o.join(""))}catch{}return null}var bA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hp=["client_id","response_type","scope","redirect_uri","state"],Fw={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hp},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hp},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hp},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:bA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Uw(o){for(var u in Fw)if(Fw[u].fa==o)return Fw[u];return null}function EA(o){var u={};u["facebook.com"]=TA,u["google.com"]=xA,u["github.com"]=IA,u["twitter.com"]=CA;var f=o&&o[SA];try{if(f)return u[f]?new u[f](o):new qi(o);if(typeof o[$w]<"u")return new Vw(o)}catch{}return null}var $w="idToken",SA="providerId";function Vw(o){var u=o[SA];if(!u&&o[$w]){var f=Wp(o[$w]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),te(this,"providerId",u),te(this,"isNewUser",f)}function qi(o){Vw.call(this,o),o=Gu(o.rawUserInfo||"{}"),te(this,"profile",Aw(o||{}))}L(qi,Vw);function TA(o){if(qi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}L(TA,qi);function IA(o){if(qi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");te(this,"username",this.profile&&this.profile.login||null)}L(IA,qi);function xA(o){if(qi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}L(xA,qi);function CA(o){if(qi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");te(this,"username",o.screenName||null)}L(CA,qi);function kA(o){var u=cr(o),f=Gr(u,"link"),p=Gr(cr(f),"link");return u=Gr(u,"deep_link_id"),Gr(cr(u),"link")||u||p||f||o}function Kp(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?wf:Gp}var wf="enroll",Gp="signin";Kp.prototype.Ha=function(){return this.a?se(this.a):se(this.b)},Kp.prototype.w=function(){return this.type==wf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Qu(){}Qu.prototype.ka=function(){},Qu.prototype.b=function(){},Qu.prototype.c=function(){},Qu.prototype.w=function(){};function Yu(o,u){return o.then(function(f){if(f[wi]){var p=Wp(f[wi]);if(!p||u!=p.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Ue+"user-not-found"?new R("user-mismatch"):f})}function va(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");te(this,"providerId",o),te(this,"signInMethod",o)}va.prototype.ka=function(o){return f_(o,Bw(this))},va.prototype.b=function(o,u){var f=Bw(this);return f.idToken=u,h_(o,f)},va.prototype.c=function(o,u){return Yu(d_(o,Bw(this)),u)};function Bw(o){return{pendingToken:o.a,requestUri:"http://localhost"}}va.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function G6(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new va(o.providerId,o.pendingToken)}catch{}return null}function wo(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&te(this,"idToken",u.idToken),u.accessToken&&te(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&te(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)te(this,"accessToken",u.oauthToken),te(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");te(this,"providerId",o),te(this,"signInMethod",f)}wo.prototype.ka=function(o){return f_(o,zw(this))},wo.prototype.b=function(o,u){var f=zw(this);return f.idToken=u,h_(o,f)},wo.prototype.c=function(o,u){var f=zw(this);return Yu(d_(o,f),u)};function zw(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:Vk(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}wo.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function Q6(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new wo(o.providerId,u,o.signInMethod)}catch{}}return null}function ga(o,u){this.Qc=u||[],$n(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(Uw(o)||{}).Ja||null,this.pb=null}ga.prototype.Ka=function(o){return this.Jb=Yo(o),this};function AA(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');ga.call(this,o,[])}L(AA,ga);function Cr(o){ga.call(this,o,Hp),this.a=[]}L(Cr,ga),Cr.prototype.Ca=function(o){return mo(this.a,o)||this.a.push(o),this},Cr.prototype.Rb=function(){return oa(this.a)},Cr.prototype.credential=function(o,u){var f;if(x(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new wo(this.providerId,f,this.providerId)};function ma(){Cr.call(this,"facebook.com")}L(ma,Cr),te(ma,"PROVIDER_ID","facebook.com"),te(ma,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function RA(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return x(o)&&(u=o.accessToken),new ma().credential({accessToken:u})}function ya(){Cr.call(this,"github.com")}L(ya,Cr),te(ya,"PROVIDER_ID","github.com"),te(ya,"GITHUB_SIGN_IN_METHOD","github.com");function PA(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return x(o)&&(u=o.accessToken),new ya().credential({accessToken:u})}function wa(){Cr.call(this,"google.com"),this.Ca("profile")}L(wa,Cr),te(wa,"PROVIDER_ID","google.com"),te(wa,"GOOGLE_SIGN_IN_METHOD","google.com");function NA(o,u){var f=o;return x(o)&&(f=o.idToken,u=o.accessToken),new wa().credential({idToken:f,accessToken:u})}function Xu(){ga.call(this,"twitter.com",bA)}L(Xu,ga),te(Xu,"PROVIDER_ID","twitter.com"),te(Xu,"TWITTER_SIGN_IN_METHOD","twitter.com");function OA(o,u){var f=o;if(x(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wo("twitter.com",f,"twitter.com")}function ts(o,u,f){this.a=o,this.f=u,te(this,"providerId","password"),te(this,"signInMethod",f===Qr.EMAIL_LINK_SIGN_IN_METHOD?Qr.EMAIL_LINK_SIGN_IN_METHOD:Qr.EMAIL_PASSWORD_SIGN_IN_METHOD)}ts.prototype.ka=function(o){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?Se(o,Oq,{email:this.a,oobCode:this.f}):Se(o,aR,{email:this.a,password:this.f})},ts.prototype.b=function(o,u){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?Se(o,Dq,{idToken:u,email:this.a,oobCode:this.f}):Se(o,sR,{idToken:u,email:this.a,password:this.f})},ts.prototype.c=function(o,u){return Yu(this.ka(o),u)},ts.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Y6(o){return o&&o.email&&o.password?new ts(o.email,o.password,o.signInMethod):null}function Qr(){$n(this,{providerId:"password",isOAuthProvider:!1})}function DA(o,u){if(u=qw(u),!u)throw new R("argument-error","Invalid email link!");return new ts(o,u.code,Qr.EMAIL_LINK_SIGN_IN_METHOD)}function qw(o){return o=kA(o),(o=hA(o))&&o.operation===Vp?o:null}$n(Qr,{PROVIDER_ID:"password"}),$n(Qr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$n(Qr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ns(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new R("internal-error");this.a=o,te(this,"providerId","phone"),this.fa="phone",te(this,"signInMethod","phone")}ns.prototype.ka=function(o){return o.gb(_f(this))},ns.prototype.b=function(o,u){var f=_f(this);return f.idToken=u,Se(o,eW,f)},ns.prototype.c=function(o,u){var f=_f(this);return f.operation="REAUTH",o=Se(o,tW,f),Yu(o,u)},ns.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function X6(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Le(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new ns(u)}return null}function _f(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function _o(o){try{this.a=o||X.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$n(this,{providerId:"phone",isOAuthProvider:!1})}_o.prototype.gb=function(o,u){var f=this.a.a;return se(u.verify()).then(function(p){if(typeof p!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=x(o)?o.session:null,_=x(o)?o.phoneNumber:o,I;return m&&m.type==wf?I=m.Ha().then(function(A){return Tq(f,{idToken:A,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):m&&m.type==Gp?I=m.Ha().then(function(A){return Iq(f,{mfaPendingCredential:A,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):I=Sq(f,{phoneNumber:_,recaptchaToken:p}),I.then(function(A){return typeof u.reset=="function"&&u.reset(),A},function(A){throw typeof u.reset=="function"&&u.reset(),A});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function LA(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new ns({fb:o,eb:u})}$n(_o,{PROVIDER_ID:"phone"}),$n(_o,{PHONE_SIGN_IN_METHOD:"phone"});function Ww(o){if(o.temporaryProof&&o.phoneNumber)return new ns({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,_=o&&o.oauthIdToken,I=o&&o.pendingToken;try{switch(u){case"google.com":return NA(_,f);case"facebook.com":return RA(f);case"github.com":return PA(f);case"twitter.com":return OA(f,p);default:return f||p||_||I?I?u.indexOf("saml.")==0?new va(u,I):new wo(u,{pendingToken:I,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Cr(u).credential({idToken:_,accessToken:f,rawNonce:m}):null}}catch{return null}}function Hw(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function mi(o,u,f,p,m,_,I){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=I||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}mi.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},mi.prototype.T=function(){return this.h},mi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function MA(o){return o=o||{},o.type?new mi(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&ne(o.error),o.postBody,o.tenantId):null}function J6(){this.b=null,this.a=[]}var Kw=null;function Z6(o){var u=Kw;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=tt("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Gw(o){var u="unauthorized-domain",f=void 0,p=cr(o);o=p.a,p=p.c,p=="chrome-extension"?f=sk("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=sk("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}L(Gw,R);function bf(o,u,f){R.call(this,o,f),o=u||{},o.Kb&&te(this,"email",o.Kb),o.ea&&te(this,"phoneNumber",o.ea),o.credential&&te(this,"credential",o.credential),o.$b&&te(this,"tenantId",o.$b)}L(bf,R),bf.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&ar(o,u),o},bf.prototype.toJSON=function(){return this.w()};function Qp(o){if(o.code){var u=o.code||"";u.indexOf(Ue)==0&&(u=u.substring(Ue.length));var f={credential:Ww(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new bf(u,f,o.message)}return null}function Ef(){}Ef.prototype.c=null;function jA(o){return o.c||(o.c=o.b())}var Qw;function Yp(){}L(Yp,Ef),Yp.prototype.a=function(){var o=FA(this);return o?new ActiveXObject(o):new XMLHttpRequest},Yp.prototype.b=function(){var o={};return FA(this)&&(o[0]=!0,o[1]=!0),o};function FA(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Qw=new Yp;function Xp(){}L(Xp,Ef),Xp.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new UA;throw Error("Unsupported browser")},Xp.prototype.b=function(){return{}};function UA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=UA.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yw(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Yw(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Yw(this,1)};function Yw(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Xw(o,u,f){this.reset(o,u,f,void 0,void 0)}Xw.prototype.a=null,Xw.prototype.reset=function(o,u,f,p,m){delete this.a};function Jw(o){this.f=o,this.b=this.c=this.a=null}function Sf(o,u){this.name=o,this.value=u}Sf.prototype.toString=function(){return this.name};var $A=new Sf("SEVERE",1e3),Zw=new Sf("WARNING",900),eq=new Sf("CONFIG",700),tq=new Sf("FINE",500);function VA(o){return o.c?o.c:o.a?VA(o.a):(ae("Root logger has no level set."),null)}Jw.prototype.log=function(o,u,f){if(o.value>=VA(this).value)for(b(u)&&(u=u()),o=new Xw(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var e_={},Jp=null;function t_(o){Jp||(Jp=new Jw(""),e_[""]=Jp,Jp.c=eq);var u;if(!(u=e_[o])){u=new Jw(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=t_(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,e_[o]=u}return u}function Yr(o,u){o&&o.log(tq,u,void 0)}function Zp(o){this.f=o}L(Zp,Ef),Zp.prototype.a=function(){return new ev(this.f)},Zp.prototype.b=function(o){return function(){return o}}({});function ev(o){Un.call(this),this.u=o,this.h=void 0,this.readyState=n_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=t_("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}L(ev,Un);var n_=0;e=ev.prototype,e.open=function(o,u){if(this.readyState!=n_)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,If(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Tf(this)),this.readyState=n_},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,If(this)),this.a&&(this.readyState=3,If(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,BA(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function BA(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Tf(this):If(this),this.readyState==3&&BA(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Tf(this))},e.sc=function(o){this.a&&(this.response=o,Tf(this))},e.Va=function(o){var u=this.i;u&&u.log(Zw,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Tf(this)};function Tf(o){o.readyState=4,o.g=null,o.c=null,o.m=null,If(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Zw,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Zw,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function If(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ev.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function xf(o){Un.call(this),this.headers=new zu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=zA,this.u=this.S=!1}L(xf,Un);var zA="";xf.prototype.b=t_("goog.net.XhrIo");var nq=/^https?$/i,rq=["POST","PUT"];function iq(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Qw.a(),o.C=o.D?jA(o.D):jA(Qw),o.a.onreadystatechange=O(o.Wb,o);try{Yr(o.b,bo(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(I){Yr(o.b,bo(o,"Error opening Xhr: "+I.message)),qA(o,I);return}u=p||"";var _=new zu(o.headers);m&&c6(m,function(I,A){_.set(A,I)}),m=ia(_.Y()),p=c.FormData&&u instanceof c.FormData,!mo(rq,f)||m||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(I,A){this.a.setRequestHeader(A,I)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{KA(o),0<o.g&&(o.u=oq(o.a),Yr(o.b,bo(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=vw(o.Ma,o.g,o)),Yr(o.b,bo(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(I){Yr(o.b,bo(o,"Send error: "+I.message)),qA(o,I)}}function oq(o){return vi&&ck(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function sq(o){return o.toLowerCase()=="content-type"}e=xf.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Yr(this.b,bo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function qA(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,WA(o),tv(o)}function WA(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Yr(this.b,bo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),tv(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),tv(this,!0)),xf.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?HA(this):this.Jc())},e.Jc=function(){HA(this)};function HA(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Cf(o)==4&&nv(o)==2)Yr(o.b,bo(o,"Local request error detected and ignored"));else if(o.i&&Cf(o)==4)vw(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Cf(o)==4){Yr(o.b,bo(o,"Request complete")),o.c=!1;try{var u=nv(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var _=String(o.l).match(Uk)[1]||null;if(!_&&c.self&&c.self.location){var I=c.self.location.protocol;_=I.substr(0,I.length-1)}m=!nq.test(_?_.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var A=2<Cf(o)?o.a.statusText:""}catch(U){Yr(o.b,"Can not get status: "+U.message),A=""}o.h=A+" ["+nv(o)+"]",WA(o)}}finally{tv(o)}}}}function tv(o,u){if(o.a){KA(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log($A,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function KA(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Cf(o){return o.a?o.a.readyState:0}function nv(o){try{return 2<Cf(o)?o.a.status:-1}catch{return-1}}function aq(o){try{return o.a?o.a.responseText:""}catch(u){return Yr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case zA:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log($A,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Yr(this.b,"Can not get response: "+u.message),null}};function bo(o,u){return u+" ["+o.P+" "+o.l+" "+nv(o)+"]"}function _a(o){var u=cq;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}_a.prototype.cancel=function(o){if(this.a)this.c instanceof _a&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Af,rv(this),kf(this,!1,o))}},_a.prototype.m=function(o,u){this.i=!1,kf(this,o,u)};function kf(o,u,f){o.a=!0,o.c=f,o.f=!u,QA(o)}function rv(o){if(o.a){if(!o.v)throw new iv;o.v=!1}}function uq(o,u){r_(o,null,u,void 0)}function r_(o,u,f,p){o.g.push([u,f,p]),o.a&&QA(o)}_a.prototype.then=function(o,u,f){var p,m,_=new Ee(function(I,A){p=I,m=A});return r_(this,p,function(I){I instanceof Af?_.cancel():m(I)}),_.then(o,u,f)},_a.prototype.$goog_Thenable=!0;function GA(o){return ot(o.g,function(u){return b(u[1])})}function QA(o){if(o.h&&o.a&&GA(o)){var u=o.h,f=ov[u];f&&(c.clearTimeout(f.a),delete ov[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),_=m[0],I=m[1];if(m=m[2],_=o.f?I:_)try{var A=_.call(m||o.s,u);A!==void 0&&(o.f=o.f&&(A==u||A instanceof Error),o.c=u=A),(ir(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(p=!0,o.i=!0)}catch(U){u=U,o.f=!0,GA(o)||(f=!0)}}o.c=u,p&&(A=O(o.m,o,!0),p=O(o.m,o,!1),u instanceof _a?(r_(u,A,p),u.C=!0):u.then(A,p)),f&&(u=new YA(u),ov[u.a]=u,o.h=u.a)}function iv(){H.call(this)}L(iv,H),iv.prototype.message="Deferred has already fired",iv.prototype.name="AlreadyCalledError";function Af(){H.call(this)}L(Af,H),Af.prototype.message="Deferred was canceled",Af.prototype.name="CanceledError";function YA(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}YA.prototype.c=function(){throw delete ov[this.a],this.b};var ov={};function i_(o){var u={},f=u.document||document,p=JC(o).toString(),m=Rp(document,"SCRIPT"),_={Xb:m,Ma:void 0},I=new _a(_),A=null,U=u.timeout!=null?u.timeout:5e3;return 0<U&&(A=window.setTimeout(function(){sv(m,!0);var V=new o_(hq,"Timeout reached for loading script "+p);rv(I),kf(I,!1,V)},U),_.Ma=A),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(sv(m,u.xd||!1,A),rv(I),kf(I,!0,null))},m.onerror=function(){sv(m,!0,A);var V=new o_(fq,"Error while loading script "+p);rv(I),kf(I,!1,V)},_=u.attributes||{},ar(_,{type:"text/javascript",charset:"UTF-8"}),hk(m,_),V5(m,o),lq(f).appendChild(m),I}function lq(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function cq(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&sv(o,!0,this.Ma)}}function sv(o,u,f){f!=null&&c.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var fq=0,hq=1;function o_(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),H.call(this,f),this.code=o}L(o_,H);function av(o){this.f=o}L(av,Ef),av.prototype.a=function(){return new this.f},av.prototype.b=function(){return{}};function yi(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||dq,this.g=Yo(o.secureTokenHeaders||pq),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||vq,this.a=Yo(o.firebaseHeaders||gq),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Bi()=="Node",f=c.XMLHttpRequest||f&&X.INTERNAL.node&&X.INTERNAL.node.XMLHttpRequest,!f&&!gi())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gi()?this.f=new Zp(self):Xk()?this.f=new av(f):this.f=new Xp,this.b=null}var s_,wi="idToken",dq=new es(3e4,6e4),pq={"Content-Type":"application/x-www-form-urlencoded"},vq=new es(3e4,6e4),gq={"Content-Type":"application/json"};function XA(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function uv(o,u){u&&(o.l=a_("https://securetoken.googleapis.com/v1/token",u),o.h=a_("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=a_("https://identitytoolkit.googleapis.com/v2/",u))}function a_(o,u){return o=cr(o),u=cr(u.url),o.f=o.a+o.f,uf(o,u.c),o.a=u.a,lf(o,u.g),o.toString()}function JA(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}yi.prototype.T=function(){return this.b};function ZA(o,u,f,p,m,_,I){_6()||gi()?o=O(o.u,o):(s_||(s_=new Ee(function(A,U){yq(A,U)})),o=O(o.s,o)),o(u,f,p,m,_,I)}yi.prototype.u=function(o,u,f,p,m,_){if(gi()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var I=new xf(this.f);if(_){I.g=Math.max(0,_);var A=setTimeout(function(){I.dispatchEvent("timeout")},_)}Mk(I,"complete",function(){A&&clearTimeout(A);var U=null;try{U=JSON.parse(aq(this))||null}catch{U=null}u&&u(U)}),pw(I,"ready",function(){A&&clearTimeout(A),Ak(this)}),pw(I,"timeout",function(){A&&clearTimeout(A),Ak(this),u&&u(null)}),iq(I,o,f,p,m)};var mq=new $i(xp,"https://apis.google.com/js/client.js?onload=%{onload}"),eR="__fcb"+Math.floor(1e6*Math.random()).toString();function yq(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[eR]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Y0(mq,{onload:eR});uq(i_(f),function(){u(Error("CORS_UNSUPPORTED"))})}}yi.prototype.s=function(o,u,f,p,m){var _=this;s_.then(function(){window.gapi.client.setApiKey(_.c);var I=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(A){window.gapi.auth.setToken(I),u&&u(A)}})}).o(function(I){u&&u({error:{message:I&&I.message||"CORS_UNSUPPORTED"}})})};function wq(o,u){return new Ee(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?ZA(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(v_(m)):m.access_token&&m.refresh_token?f(m):p(new R("internal-error")):p(new R("network-request-failed"))},"POST",Vk(u).toString(),o.g,o.m.get()):p(new R("internal-error"))})}function tR(o,u,f,p,m,_,I){var A=cr(u+f);gt(A,"key",o.c),I&&gt(A,"cb",Date.now().toString());var U=p=="GET";if(U)for(var V in m)m.hasOwnProperty(V)&&gt(A,V,m[V]);return new Ee(function(fe,$e){ZA(o,A.toString(),function(Pe){Pe?Pe.error?$e(v_(Pe,_||{})):fe(Pe):$e(new R("network-request-failed"))},p,U?void 0:qk(eA(m)),o.a,o.v.get())})}function ba(o){if(o=o.email,typeof o!="string"||!S6.test(o))throw new R("invalid-email")}function nR(o){"email"in o&&ba(o)}function _q(o,u){return Se(o,Rq,{identifier:u,continueUri:$p()?hf():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function bq(o){return Se(o,Bq,{}).then(function(u){return u.authorizedDomains||[]})}function fr(o){if(!o[wi])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,Yo(o)):new R("internal-error")}function u_(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}yi.prototype.Ab=function(){return Se(this,Hq,{})},yi.prototype.Cb=function(o,u){return Se(this,oR,{idToken:o,email:u})},yi.prototype.Db=function(o,u){return Se(this,sR,{idToken:o,password:u})};var Eq={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=yi.prototype,e.Eb=function(o,u){var f={idToken:o},p=[];return KC(Eq,function(m,_){var I=u[_];I===null?p.push(m):_ in u&&(f[_]=I)}),p.length&&(f.deleteAttribute=p),Se(this,oR,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},ar(o,u),Se(this,Vq,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},ar(o,u),Se(this,Fq,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},ar(o,u),Se(this,Uq,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},ar(o,f),Se(this,$q,o)};function Sq(o,u){return Se(o,Wq,u)}e.gb=function(o){return Se(this,Zq,o)};function Tq(o,u){return Se(o,Kq,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function rR(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function Iq(o,u){return Se(o,Gq,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function xq(o,u,f){return Se(o,Nq,{idToken:u,deleteProvider:f})}function l_(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function c_(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new fa(o.postBody),yw(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function iR(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Qp(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Qp(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Qp(o)):o.errorMessage&&(u=uR(o.errorMessage)),u)throw u;fr(o)}function f_(o,u){return u.returnIdpCredential=!0,Se(o,Qq,u)}function h_(o,u){return u.returnIdpCredential=!0,Se(o,Xq,u)}function d_(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Se(o,Yq,u)}function p_(o){if(!o.oobCode)throw new R("invalid-action-code")}e.ob=function(o,u){return Se(this,qq,{oobCode:o,newPassword:u})},e.Sa=function(o){return Se(this,kq,{oobCode:o})},e.kb=function(o){return Se(this,Cq,{oobCode:o})};var Cq={endpoint:"setAccountInfo",A:p_,Z:"email",B:!0},kq={endpoint:"resetPassword",A:p_,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},Aq={endpoint:"signupNewUser",A:function(o){if(ba(o),!o.password)throw new R("weak-password")},G:fr,V:!0,B:!0},Rq={endpoint:"createAuthUri",B:!0},Pq={endpoint:"deleteAccount",O:["idToken"]},Nq={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},Oq={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ba,G:fr,V:!0,B:!0},Dq={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ba,G:fr,V:!0},Lq={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:rR,G:fr,B:!0,Na:!0},Mq={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:rR,G:fr,B:!0,Na:!0},jq={endpoint:"getAccountInfo"},Fq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");ba(o)},Z:"email",B:!0},Uq={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},$q={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},Vq={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");ba(o)},Z:"email",B:!0},Bq={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},zq={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},qq={endpoint:"resetPassword",A:p_,Z:"email",B:!0},Wq={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},oR={endpoint:"setAccountInfo",O:["idToken"],A:nR,V:!0},sR={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(nR(o),!o.password)throw new R("weak-password")},G:fr,V:!0},Hq={endpoint:"signupNewUser",G:fr,V:!0,B:!0},Kq={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Gq={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},Qq={endpoint:"verifyAssertion",A:l_,Za:c_,G:iR,V:!0,B:!0},Yq={endpoint:"verifyAssertion",A:l_,Za:c_,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw uR(o.errorMessage);fr(o)},V:!0,B:!0},Xq={endpoint:"verifyAssertion",A:function(o){if(l_(o),!o.idToken)throw new R("internal-error")},Za:c_,G:iR,V:!0},Jq={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:fr,V:!0,B:!0},aR={endpoint:"verifyPassword",A:function(o){if(ba(o),!o.password)throw new R("wrong-password")},G:fr,V:!0,B:!0},Zq={endpoint:"verifyPhoneNumber",A:u_,G:fr,B:!0},eW={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");u_(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Qp(o);fr(o)}},tW={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:u_,G:fr,B:!0},nW={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[wi]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function Se(o,u,f){if(!R6(f,u.O))return et(new R("internal-error"));var p=!!u.Na,m=u.Vb||"POST",_;return se(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?tR(o,o.i,u.endpoint,m,f,u.Ib,u.mb||!1):tR(o,o.h,u.endpoint,m,f,u.Ib,u.mb||!1)}).then(function(I){return _=I,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function uR(o){return v_({error:{errors:[{message:o}],code:400,message:o}})}function v_(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new R(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},ar(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new R(p[m],u);return!u&&o&&(u=pf(o)),new R("internal-error",u)}function rW(o){this.b=o,this.a=null,this.sb=iW(this)}function iW(o){return cW().then(function(){return new Ee(function(u,f){tt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},lW.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function oW(o,u){return o.sb.then(function(){return new Ee(function(f){o.a.send(u.type,u,f,tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function sW(o,u){o.sb.then(function(){o.a.register("authEvent",u,tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var aW=new $i(xp,"https://apis.google.com/js/api.js?onload=%{onload}"),uW=new es(3e4,6e4),lW=new es(5e3,15e3),lv=null;function cW(){return lv||(lv=new Ee(function(o,u){function f(){nA(),tt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){nA(),u(Error("Network Error"))},timeout:uW.get()})}if(tt("gapi.iframes.Iframe"))o();else if(tt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[p]=function(){tt("gapi.load")?f():u(Error("Network Error"))},p=Y0(aW,{onload:p}),se(i_(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw lv=null,o}))}function lR(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=cr(this.g.url),o=Fp(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Fp("https",this.l,null,"/__/auth/iframe"),this.a=o,gt(this.a,"apiKey",this.h),gt(this.a,"appName",this.i),this.b=null,this.c=[]}lR.prototype.toString=function(){return this.f?gt(this.a,"v",this.f):Vi(this.a.b,"v"),this.b?gt(this.a,"eid",this.b):Vi(this.a.b,"eid"),this.c.length?gt(this.a,"fw",this.c.join(",")):Vi(this.a.b,"fw"),this.a.toString()};function g_(o,u,f,p,m,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}g_.prototype.zb=function(o){return this.h=o,this},g_.prototype.toString=function(){if(this.v){var o=cr(this.v.url);o=Fp(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Fp("https",this.u,null,"/__/auth/handler");if(gt(o,"apiKey",this.s),gt(o,"appName",this.c),gt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=X.app(this.c).auth().la()}catch{f=null}u.pb=f,gt(o,"providerId",this.a.providerId),f=this.a,u=eA(f.Jb);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=Yo(u);for(var m=0;m<p.length;m++){var _=p[m];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),sa(u)||gt(o,"customParameters",pf(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&gt(o,"scopes",f.join(","))),this.l?gt(o,"redirectUrl",this.l):Vi(o.b,"redirectUrl"),this.g?gt(o,"eventId",this.g):Vi(o.b,"eventId"),this.i?gt(o,"v",this.i):Vi(o.b,"v"),this.b)for(var I in this.b)this.b.hasOwnProperty(I)&&!Gr(o,I)&&gt(o,I,this.b[I]);return this.h?gt(o,"tid",this.h):Vi(o.b,"tid"),this.f?gt(o,"eid",this.f):Vi(o.b,"eid"),I=m_(this.c),I.length&&gt(o,"fw",I.join(",")),o.toString()};function m_(o){try{return X.app(o).auth().Ga()}catch{return[]}}function cR(o,u,f,p,m,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fR(o){var u=hf();return bq(o).then(function(f){e:{var p=cr(u),m=p.c;p=p.a;for(var _=0;_<f.length;_++){var I=f[_],A=p,U=m;if(I.indexOf("chrome-extension://")==0?A=cr(I).a==A&&U=="chrome-extension":U!="http"&&U!="https"?A=!1:E6.test(I)?A=A==I:(I=I.split(".").join("\\."),A=new RegExp("^(.+\\."+I+"|"+I+")$","i").test(A)),A){f=!0;break e}}f=!1}if(!f)throw new Gw(hf())})}function hR(o){return o.m||(o.m=Up().then(function(){if(!o.u){var u=o.c,f=o.i,p=m_(o.b),m=new lR(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=oa(p||[]),o.u=m.toString()}o.v=new rW(o.u),fW(o)})),o.m}e=cR.prototype,e.Pb=function(o,u,f){var p=new R("popup-closed-by-user"),m=new R("web-storage-unsupported"),_=this,I=!1;return this.ma().then(function(){hW(_).then(function(A){A||(o&&ha(o),u(m),I=!0)})}).o(function(){}).then(function(){if(!I)return b6(o)}).then(function(){if(!I)return Bu(f).then(function(){u(p)})})},e.Yb=function(){var o=rn();return!df(o)&&!tA(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,p,m,_,I,A){if(!o)return et(new R("popup-blocked"));if(I&&!df())return this.ma().o(function(V){ha(o),m(V)}),p(),se();this.a||(this.a=fR(dR(this)));var U=this;return this.a.then(function(){var V=U.ma().o(function(fe){throw ha(o),m(fe),fe});return p(),V}).then(function(){if(Hw(f),!I){var V=Rf(U.s,U.g,U.b,u,f,null,_,U.c,void 0,U.i,A,U.f);Kk(V,o)}}).o(function(V){throw V.code=="auth/network-request-failed"&&(U.a=null),V})};function dR(o){return o.l||(o.C=o.c?Hu(o.c,m_(o.b)):null,o.l=new yi(o.g,zt(o.i),o.C),o.f&&uv(o.l,o.f)),o.l}e.Ob=function(o,u,f,p){this.a||(this.a=fR(dR(this)));var m=this;return this.a.then(function(){Hw(u);var _=Rf(m.s,m.g,m.b,o,u,hf(),f,m.c,void 0,m.i,p,m.f);Kk(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(m.a=null),_})},e.ma=function(){var o=this;return hR(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.ac=function(){return!0};function Rf(o,u,f,p,m,_,I,A,U,V,fe,$e){return o=new g_(o,u,f,p,m,$e),o.l=_,o.g=I,o.i=A,o.b=Yo(U||null),o.f=V,o.zb(fe).toString()}function fW(o){if(!o.v)throw Error("IfcHandler must be initialized!");sW(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=MA(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",se(f)}return f.status="ERROR",se(f)})}function hW(o){var u={type:"webStorageSupport"};return hR(o).then(function(){return oW(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){pi(this.h,function(u){return u==o})};function pR(o){if(this.a=o||X.INTERNAL.reactNative&&X.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=pR.prototype,e.get=function(o){return se(this.a.getItem(o)).then(function(u){return u&&Gu(u)})},e.set=function(o,u){return se(this.a.setItem(o,pf(u)))},e.U=function(o){return se(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function vR(o){this.b=o,this.a={},this.f=O(this.c,this)}var gR=[];function dW(){var o=gi()?self:null;if(Le(gR,function(f){f.b==o&&(u=f)}),!u){var u=new vR(o);gR.push(u)}return u}vR.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];Le(p,function(_){m.push(se().then(function(){return _(o.origin,o.data.data)}))}),_k(m).then(function(_){var I=[];Le(_,function(A){I.push({fulfilled:A.Qb,value:A.value,reason:A.reason?A.reason.message:void 0})}),Le(I,function(A){for(var U in A)typeof A[U]>"u"&&delete A[U]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:I})})}};function mR(o,u,f){sa(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function yR(o){this.a=o}yR.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function wR(o){this.c=o,this.b=!1,this.a=[]}function _R(o,u,f,p){var m,_=f||{},I,A,U,V=null;if(o.b)return et(Error("connection_unavailable"));var fe=p?800:50,$e=typeof MessageChannel<"u"?new MessageChannel:null;return new Ee(function(Pe,qt){$e?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),$e.port1.start(),A=setTimeout(function(){qt(Error("unsupported_event"))},fe),I=function(Eo){Eo.data.eventId===m&&(Eo.data.status==="ack"?(clearTimeout(A),U=setTimeout(function(){qt(Error("timeout"))},3e3)):Eo.data.status==="done"?(clearTimeout(U),typeof Eo.data.response<"u"?Pe(Eo.data.response):qt(Error("unknown_error"))):(clearTimeout(A),clearTimeout(U),qt(Error("invalid_response"))))},V={messageChannel:$e,onMessage:I},o.a.push(V),$e.port1.addEventListener("message",I),o.c.postMessage({eventType:u,eventId:m,data:_},[$e.port2])):qt(Error("connection_unavailable"))}).then(function(Pe){return y_(o,V),Pe}).o(function(Pe){throw y_(o,V),Pe})}function y_(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),pi(o.a,function(m){return m==u})}}wR.prototype.close=function(){for(;0<this.a.length;)y_(this,this.a[0]);this.b=!0};function bR(){if(!b_())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;gi()&&self?(this.v=dW(),mR(this.v,"keyChanged",function(u,f){return TR(o).then(function(p){return 0<p.length&&Le(o.a,function(m){m(p)}),{keyProcessed:mo(p,f.key)}})}),mR(this.v,"ping",function(){return se(["keyChanged"])})):k6().then(function(u){(o.h=u)&&(o.g=new wR(new yR(u)),_R(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&mo(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var w_;function pW(o){return new Ee(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function ER(o){return new Ee(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):pW(o).then(function(){return ER(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function __(o){return o.i||(o.i=ER(o)),o.i}function cv(o,u){function f(m,_){__(o).then(u).then(m).o(function(I){if(3<++p)_(I);else return __(o).then(function(A){return A.close(),o.i=void 0,f(m,_)}).o(function(A){_(A)})})}var p=0;return new Ee(f)}function b_(){try{return!!c.indexedDB}catch{return!1}}function Pf(o){return o.objectStore("firebaseLocalStorage")}function Nf(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ju(o){return new Ee(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=bR.prototype,e.set=function(o,u){var f=this,p=!1;return cv(this,function(m){return m=Pf(Nf(m,!0)),Ju(m.get(o))}).then(function(m){return cv(f,function(_){if(_=Pf(Nf(_,!0)),m)return m.value=u,Ju(_.put(m));f.b++,p=!0;var I={};return I.fbase_key=o,I.value=u,Ju(_.add(I))})}).then(function(){return f.c[o]=u,SR(f,o)}).oa(function(){p&&f.b--})};function SR(o,u){return o.g&&o.h&&C6()===o.h?_R(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):se()}e.get=function(o){return cv(this,function(u){return Ju(Pf(Nf(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return cv(this,function(p){return f=!0,u.b++,Ju(Pf(Nf(p,!0)).delete(o))}).then(function(){return delete u.c[o],SR(u,o)}).oa(function(){f&&u.b--})};function TR(o){return __(o).then(function(u){var f=Pf(Nf(u,!1));return f.getAll?Ju(f.getAll()):new Ee(function(p,m){var _=[],I=f.openCursor();I.onsuccess=function(A){(A=A.target.result)?(_.push(A.value),A.continue()):p(_)},I.onerror=function(A){m(A.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=Gk(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&vW(this),this.a.push(o)},e.ia=function(o){pi(this.a,function(u){return u==o}),this.a.length==0&&IR(this)};function vW(o){function u(){o.f=setTimeout(function(){o.l=TR(o).then(function(f){0<f.length&&Le(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}IR(o),u()}function IR(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function xR(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=se().then(function(){if(b_()){var p=pa(),m="__sak"+p;return w_||(w_=new bR),f=w_,f.set(m,p).then(function(){return f.get(m)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){Le(u.a,function(_){_(m)})}),p})}e=xR.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){pi(this.a,function(u){return u==o})};function Of(){this.a={},this.type="inMemory"}e=Of.prototype,e.get=function(o){return se(this.a[o])},e.set=function(o,u){return this.a[o]=u,se()},e.U=function(o){return delete this.a[o],se()},e.ca=function(){},e.ia=function(){};function fv(){if(!gW())throw Bi()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=CR()||X.INTERNAL.node.localStorage,this.type="localStorage"}function CR(){try{var o=c.localStorage,u=pa();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function gW(){var o=Bi()=="Node";if(o=CR()||o&&X.INTERNAL.node&&X.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=fv.prototype,e.get=function(o){var u=this;return se().then(function(){var f=u.a.getItem(o);return Gu(f)})},e.set=function(o,u){var f=this;return se().then(function(){var p=pf(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return se().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&Kr(c.window,"storage",o)},e.ia=function(o){c.window&&xr(c.window,"storage",o)};function E_(){this.type="nullStorage"}e=E_.prototype,e.get=function(){return se(null)},e.set=function(){return se()},e.U=function(){return se()},e.ca=function(){},e.ia=function(){};function S_(){if(!mW())throw Bi()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=kR()||X.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function kR(){try{var o=c.sessionStorage,u=pa();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function mW(){var o=Bi()=="Node";if(o=kR()||o&&X.INTERNAL.node&&X.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=S_.prototype,e.get=function(o){var u=this;return se().then(function(){var f=u.a.getItem(o);return Gu(f)})},e.set=function(o,u){var f=this;return se().then(function(){var p=pf(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return se().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function yW(){var o={};o.Browser=wW,o.Node=_W,o.ReactNative=bW,o.Worker=EW,this.a=o[Bi()]}var T_,wW={F:fv,cb:S_},_W={F:fv,cb:S_},bW={F:pR,cb:E_},EW={F:fv,cb:E_},Zu={rd:"local",NONE:"none",td:"session"};function SW(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(p in Zu)if(Zu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Bi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!b_()&&o!=="none")throw f;break;default:if(!Tw()&&o!=="none")throw f}}function AR(){var o=!!(!tA(rn())&&Ew()),u=df(),f=Tw();this.m=o,this.h=u,this.l=f,this.a={},T_||(T_=new yW),o=T_;try{this.g=!_w()&&rA()||!c.indexedDB?new o.a.F:new xR(gi()?new Of:new o.a.F)}catch{this.g=new Of,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Of}this.v=new Of,this.f=O(this.Zb,this),this.b={}}var I_;function Df(){return I_||(I_=new AR),I_}function Ea(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function el(o,u){return"firebase:"+o.name+(u?":"+u:"")}function TW(o,u,f){var p=el(u,f),m=Ea(o,u.F);return o.get(u,f).then(function(_){var I=null;try{I=Gu(c.localStorage.getItem(p))}catch{}if(I&&!_)return c.localStorage.removeItem(p),o.set(u,I,f);I&&_&&m.type!="localStorage"&&c.localStorage.removeItem(p)})}e=AR.prototype,e.get=function(o,u){return Ea(this,o.F).get(el(o,u))};function tl(o,u,f){return f=el(u,f),u.F=="local"&&(o.b[f]=null),Ea(o,u.F).U(f)}e.set=function(o,u,f){var p=el(o,f),m=this,_=Ea(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(I){o.F=="local"&&(m.b[p]=I)})},e.addListener=function(o,u,f){o=el(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),sa(this.a)&&(Ea(this,"local").ca(this.f),this.h||(_w()||!rA())&&c.indexedDB||!this.l||IW(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=el(o,u),this.a[o]&&(pi(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),sa(this.a)&&(Ea(this,"local").ia(this.f),x_(this))};function IW(o){x_(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new la({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Zb(f))}},1e3)}function x_(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var m=c.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ea(this,"local").ia(this.f):x_(this),this.m){if(f=c.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?c.localStorage.setItem(u,p):c.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==c.localStorage.getItem(u))&&(_.b[u]=c.localStorage.getItem(u),_.nb(u))},vi&&Xo&&Xo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Le(o,O(this.nb,this))},e.nb=function(o){this.a[o]&&Le(this.a[o],function(u){u()})};function xW(o){this.a=o,this.b=Df()}var C_={name:"authEvent",F:"local"};function CW(o){return o.b.get(C_,o.a).then(function(u){return MA(u)})}function kW(){this.a=Df()}function AW(){this.b=-1}function hv(o,u){this.b=RR,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),dv===void 0&&(c.Int32Array?dv=new Int32Array(OR):dv=OR),this.reset()}var dv;L(hv,AW);for(var RR=64,RW=RR-1,PR=[],k_=0;k_<RW;k_++)PR[k_]=0;var NR=K0(128,PR);hv.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):oa(this.h)};function A_(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,I=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+I|0}p=o.a[0]|0,m=o.a[1]|0;var A=o.a[2]|0,U=o.a[3]|0,V=o.a[4]|0,fe=o.a[5]|0,$e=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Pe=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&A^m&A)|0;I=V&fe^~V&$e,_=_+((V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7))|0,I=I+(dv[u]|0)|0,I=_+(I+(f[u]|0)|0)|0,_=$e,$e=fe,fe=V,V=U+I|0,U=A,A=m,m=p,p=I+Pe|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+A|0,o.a[3]=o.a[3]+U|0,o.a[4]=o.a[4]+V|0,o.a[5]=o.a[5]+fe|0,o.a[6]=o.a[6]+$e|0,o.a[7]=o.a[7]+_|0}function R_(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(A_(o),m=0);else if(w(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[m++]=_,m==o.b&&(A_(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var OR=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function DR(){hv.call(this,8,PW)}L(DR,hv);var PW=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function LR(o,u,f,p,m,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=_,this.h=u+":"+f,this.C=new kW,this.g=new xW(this.h),this.f=null,this.b=[],this.a=this.c=null}function pv(o){return new R("invalid-cordova-configuration",o)}e=LR.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=T6().then(function(){if(typeof tt("universalLinks.subscribe",c)!="function")throw pv("cordova-universal-links-plugin-fix is not installed");if(typeof tt("BuildInfo.packageName",c)>"u")throw pv("cordova-plugin-buildinfo is not installed");if(typeof tt("cordova.plugins.browsertab.openUrl",c)!="function")throw pv("cordova-plugin-browsertab is not installed");if(typeof tt("cordova.InAppBrowser.open",c)!="function")throw pv("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function NW(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function OW(o){var u=new DR;R_(u,o),o=[];var f=8*u.g;56>u.c?R_(u,NR,56-u.c):R_(u,NR,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(A_(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return q6(o)}e.Pb=function(o,u){return u(new R("operation-not-supported-in-this-environment")),se()},e.Nb=function(){return et(new R("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,p){if(this.c)return et(new R("redirect-operation-pending"));var m=this,_=c.document,I=null,A=null,U=null,V=null;return this.c=se().then(function(){return Hw(u),jR(m)}).then(function(){return DW(m,o,u,f,p)}).then(function(){return new Ee(function(fe,$e){A=function(){var Pe=tt("cordova.plugins.browsertab.close",c);return fe(),typeof Pe=="function"&&Pe(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(A),U=function(){I||(I=Bu(2e3).then(function(){$e(new R("redirect-cancelled-by-user"))}))},V=function(){Iw()&&U()},_.addEventListener("resume",U,!1),rn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",V,!1)}).o(function(fe){return P_(m).then(function(){throw fe})})}).oa(function(){U&&_.removeEventListener("resume",U,!1),V&&_.removeEventListener("visibilitychange",V,!1),I&&I.cancel(),A&&m.Ta(A),m.c=null})};function DW(o,u,f,p,m){var _=NW(),I=new mi(u,p,null,_,new R("no-auth-event"),null,m),A=tt("BuildInfo.packageName",c);if(typeof A!="string")throw new R("invalid-cordova-configuration");var U=tt("BuildInfo.displayName",c),V={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))V.ibi=A;else if(rn().toLowerCase().match(/android/))V.apn=A;else return et(new R("operation-not-supported-in-this-environment"));U&&(V.appDisplayName=U),_=OW(_),V.sessionId=_;var fe=Rf(o.v,o.i,o.l,u,f,null,p,o.m,V,o.u,m,o.s);return o.ma().then(function(){var $e=o.h;return o.C.a.set(C_,I.w(),$e)}).then(function(){var $e=tt("cordova.plugins.browsertab.isAvailable",c);if(typeof $e!="function")throw new R("invalid-cordova-configuration");var Pe=null;$e(function(qt){if(qt){if(Pe=tt("cordova.plugins.browsertab.openUrl",c),typeof Pe!="function")throw new R("invalid-cordova-configuration");Pe(fe)}else{if(Pe=tt("cordova.InAppBrowser.open",c),typeof Pe!="function")throw new R("invalid-cordova-configuration");qt=rn(),o.a=Pe(fe,qt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||qt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function MR(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function jR(o){return o.f||(o.f=o.ma().then(function(){return new Ee(function(u){function f(p){return u(p),o.Ta(f),!1}o.Ea(f),LW(o)})})),o.f}function P_(o){var u=null;return CW(o.g).then(function(f){return u=f,f=o.g,tl(f.b,C_,f.a)}).then(function(){return u})}function LW(o){function u(I){p=!0,m&&m.cancel(),P_(o).then(function(A){var U=f;if(A&&I&&I.url){var V=null;U=kA(I.url),U.indexOf("/__/auth/callback")!=-1&&(V=cr(U),V=Gu(Gr(V,"firebaseError")||null),V=(V=typeof V=="object"?ne(V):null)?new mi(A.c,A.b,null,null,V,null,A.T()):new mi(A.c,A.b,U,A.f,null,null,A.T())),U=V||f}MR(o,U)})}var f=new mi("unknown",null,null,null,new R("no-auth-event")),p=!1,m=Bu(500).then(function(){return P_(o).then(function(){p||MR(o,f)})}),_=c.handleOpenURL;c.handleOpenURL=function(I){if(I.toLowerCase().indexOf(tt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:I}),typeof _=="function")try{_(I)}catch(A){console.error(A)}},Kw||(Kw=new J6),Z6(u)}e.Ea=function(o){this.b.push(o),jR(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new mi("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Ta=function(o){pi(this.b,function(u){return u==o})};function MW(o){this.a=o,this.b=Df()}var N_={name:"pendingRedirect",F:"session"};function jW(o){return o.b.set(N_,"pending",o.a)}function O_(o){return tl(o.b,N_,o.a)}function FW(o){return o.b.get(N_,o.a).then(function(u){return u=="pending"})}function vv(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new mv,this.C=new KR,this.g=new MW(qR(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=FR(this.D,this.v,this.m,rr,this.J)}function FR(o,u,f,p,m){var _=X.SDK_VERSION||null;return bw()?new LR(o,u,f,_,p,m):new cR(o,u,f,_,p,m)}vv.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=FR(this.D,this.v,this.m,null,this.J),this.i={}};function UR(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function $R(o){o.a.Yb()&&UR(o).o(function(u){var f=new mi("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));L_(u)&&o.s(f)}),o.a.Ub()||WR(o.b)}function gv(o,u){mo(o.h,u)||o.h.push(u),o.f||FW(o.g).then(function(f){f?O_(o.g).then(function(){UR(o).o(function(p){var m=new mi("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));L_(p)&&o.s(m)})}):$R(o)}).o(function(){$R(o)})}function D_(o,u){pi(o.h,function(f){return f==u})}vv.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return WR(this.b),u};var UW=new es(2e3,1e4),$W=new es(3e4,6e4);vv.prototype.ra=function(){return this.b.ra()};function VR(o,u,f,p,m,_,I){return o.a.Nb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,_,I)}function L_(o){return!!(o&&o.code=="auth/cordova-not-ready")}function BR(o,u,f,p,m){var _;return jW(o.g).then(function(){return o.a.Ob(u,f,p,m).o(function(I){if(L_(I))throw new R("operation-not-supported-in-this-environment");return _=I,O_(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new Ee(function(){}):O_(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function zR(o,u,f,p,m){return o.a.Pb(p,function(_){u.na(f,null,_,m)},UW.get())}var M_={};function qR(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function j_(o,u,f,p){var m=qR(u,f,p);return M_[m]||(M_[m]=new vv(o,u,f,p)),M_[m]}function mv(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}mv.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},mv.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!_),f!="unknown"||m||_?o.a?(Sa(this,!0,null,o.a),se()):u.Fa(f,p)?VW(this,o,u):et(new R("invalid-auth-event")):(Sa(this,!1,null,null),se())}else et(new R("invalid-auth-event"))};function WR(o){o.g||(o.g=!0,Sa(o,!1,null,null))}function yv(o){o.g&&!o.i&&Sa(o,!1,null,null)}function VW(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,_=u.i,I=u.T(),A=!!u.c.match(/Redirect$/);f(p,m,I,_).then(function(U){Sa(o,A,U,null)}).o(function(U){Sa(o,A,null,U)})}function BW(o,u){if(o.b=function(){return et(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function HR(o,u){if(o.b=function(){return se(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Sa(o,u,f,p){u?p?BW(o,p):HR(o,f):HR(o,{user:null}),o.f=[],o.c=[]}mv.prototype.ra=function(){var o=this;return new Ee(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),zW(o))})};function zW(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Bu($W.get()).then(function(){o.b||(o.g=!0,Sa(o,!0,null,u))})}function KR(){}KR.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),se()):u.Fa(f,p)?qW(o,u):et(new R("invalid-auth-event"))}else et(new R("invalid-auth-event"))};function qW(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function GR(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function F_(o,u){this.a=u,te(this,"verificationId",o)}F_.prototype.confirm=function(o){return o=LA(this.verificationId,o),this.a(o)};function U_(o,u,f,p){return new _o(o).gb(u,f).then(function(m){return new F_(m,p)})}function WW(o){var u=_A(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$n(this,{token:o,expirationTime:vf(1e3*u.exp),authTime:vf(1e3*u.auth_time),issuedAtTime:vf(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function $_(o,u,f){var p=u&&u[YR];if(!p)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Yo(u),this.g=f,this.c=new Kp(null,p),this.b=[];var m=this;Le(u[QR]||[],function(_){(_=Pw(_))&&m.b.push(_)}),te(this,"auth",this.a),te(this,"session",this.c),te(this,"hints",this.b)}var QR="mfaInfo",YR="mfaPendingCredential";$_.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var p=Yo(u.f);return delete p[QR],delete p[YR],ar(p,f),u.g(p)})};function V_(o,u,f,p){R.call(this,"multi-factor-auth-required",p,u),this.b=new $_(o,u,f),te(this,"resolver",this.b)}L(V_,R);function XR(o,u,f){if(o&&x(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new V_(u,o.serverResponse,f,o.message)}catch{}return null}function JR(){}JR.prototype.tb=function(o,u,f){return u.type==wf?HW(this,o,u,f):KW(this,o,u)};function HW(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p<"u"&&(m.displayName=p),ar(m,{phoneVerificationInfo:_f(o.a)}),Se(u,Lq,m)})}function KW(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},ar(p,{phoneVerificationInfo:_f(o.a)}),Se(u,Mq,p)})}function B_(o){te(this,"factorId",o.fa),this.a=o}L(B_,JR);function ZR(o){if(B_.call(this,o),this.a.fa!=_o.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}L(ZR,B_);function nl(o,u){lr.call(this,o);for(var f in u)this[f]=u[f]}L(nl,lr);function z_(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),Kr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Le(u.multiFactor.enrolledFactors,function(p){var m=null,_={};if(p){p.uid&&(_[Ow]=p.uid),p.displayName&&(_[oA]=p.displayName),p.enrollmentTime&&(_[Nw]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[Dw]=p.phoneNumber);try{m=new gf(_)}catch{}p=m}else p=null;p&&f.push(p)}),wv(this,f)}function GW(o){var u=[];return Le(o.mfaInfo||[],function(f){(f=Pw(f))&&u.push(f)}),u}e=z_.prototype,e.yc=function(o){wv(this,GW(o.hd))};function wv(o,u){o.b=u,te(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new Kp(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Sb().then(function(m){return o.tb(p,m,u)}).then(function(m){return Wi(f.a,m),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return Se(p,nW,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var _=go(u.b,function(I){return I.uid!=f});return wv(u,_),Wi(u.a,m),u.a.reload().o(function(I){if(I.code!="auth/user-token-expired")throw I})})},e.w=function(){return{multiFactor:{enrolledFactors:Ui(this.b,function(o){return o.w()})}}};function q_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}q_.prototype.start=function(){this.a=this.c,W_(this,!0)};function QW(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function W_(o,u){o.stop(),o.b=Bu(QW(o,u)).then(function(){return x6()}).then(function(){return o.h()}).then(function(){W_(o,!0)}).o(function(f){o.i(f)&&W_(o,!1)})}q_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function H_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}H_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function eP(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function tP(o,u){o.b=Wp(u[wi]||""),o.a=u.refreshToken,u=u.expiresIn,eP(o,typeof u<"u"?Number(u):void 0)}function YW(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function XW(o,u){return wq(o.f,u).then(function(f){return o.b=Wp(f.access_token),o.a=f.refresh_token,eP(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}H_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?et(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?XW(this,{grant_type:"refresh_token",refresh_token:this.a}):se(null):se({accessToken:this.b.toString(),refreshToken:this.a})};function _v(o,u){this.a=o||null,this.b=u||null,$n(this,{lastSignInTime:vf(u||null),creationTime:vf(o||null)})}function JW(o){return new _v(o.a,o.b)}_v.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function ZW(o,u,f,p,m,_){$n(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:_||null,providerId:u})}function kr(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=X.SDK_VERSION?Hu(X.SDK_VERSION):null;this.a=new yi(this.l,zt(rr),p),(this.u=o.emulatorConfig||null)&&uv(this.a,this.u),this.h=new H_(this.a),Z_(this,u[wi]),tP(this.h,u),te(this,"refreshToken",this.h.a),rP(this,f||{}),Un.call(this),this.P=!1,this.s&&da()&&(this.b=j_(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=eH(this),this.ba=O(this.ib,this);var m=this;this.za=null,this.Pa=function(_){m.xa(_.h)},this.qa=null,this.Ba=function(_){K_(m,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Lf(m,_.f)},this.ja=null,this.S=new z_(this,f),te(this,"multiFactor",this.S)}L(kr,Un),kr.prototype.xa=function(o){this.za=o,XA(this.a,o)};function K_(o,u){o.u=u,uv(o.a,u),o.b&&(u=o.b,o.b=j_(o.s,o.l,o.m,o.u),o.P&&(D_(u,o),gv(o.b,o)))}kr.prototype.la=function(){return this.za};function G_(o,u){o.qa&&xr(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&Kr(u,"languageCodeChanged",o.Pa)}function Q_(o,u){o.$&&xr(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&Kr(u,"emulatorConfigChanged",o.Ba)}function Lf(o,u){o.aa=u,JA(o.a,X.SDK_VERSION?Hu(X.SDK_VERSION,o.aa):null)}kr.prototype.Ga=function(){return oa(this.aa)};function Y_(o,u){o.ja&&xr(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&Kr(u,"frameworkChanged",o.Oa)}kr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function X_(o){try{return X.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function eH(o){return new q_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function nP(o){o.J||o.D.b||(o.D.start(),xr(o,"tokenChanged",o.ba),Kr(o,"tokenChanged",o.ba))}function J_(o){xr(o,"tokenChanged",o.ba),o.D.stop()}function Z_(o,u){o.Aa=u,te(o,"_lat",u)}function tH(o,u){pi(o.W,function(f){return f==u})}function Ta(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return _k(u).then(function(){return o})}function Mf(o){o.b&&!o.P&&(o.P=!0,gv(o.b,o))}function rP(o,u){$n(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new _v(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}te(kr.prototype,"providerId","firebase");function iP(){}function eb(o){return se().then(function(){if(o.J)throw new R("app-deleted")})}function tb(o){return Ui(o.providerData,function(u){return u.providerId})}function nb(o,u){u&&(oP(o,u.providerId),o.providerData.push(u))}function oP(o,u){pi(o.providerData,function(f){return f.providerId==u})}function rs(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&te(o,u,f)}function bv(o,u){o!=u&&($n(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?te(o,"metadata",JW(u.metadata)):te(o,"metadata",new _v),Le(u.providerData,function(f){nb(o,f)}),YW(o.h,u.h),te(o,"refreshToken",o.h.a),wv(o.S,u.S.b))}e=kr.prototype,e.reload=function(){var o=this;return Ot(this,eb(this).then(function(){return rb(o).then(function(){return Ta(o)}).then(iP)}))};function rb(o){return o.I().then(function(u){var f=o.isAnonymous;return nH(o,u).then(function(){return f||rs(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new WW(u)})},e.I=function(o){var u=this;return Ot(this,eb(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.Aa&&(Z_(u,f.accessToken),u.dispatchEvent(new nl("tokenChanged"))),rs(u,"refreshToken",f.refreshToken),f.accessToken}))};function Wi(o,u){u[wi]&&o.Aa!=u[wi]&&(tP(o.h,u),o.dispatchEvent(new nl("tokenChanged")),Z_(o,u[wi]),rs(o,"refreshToken",o.h.a))}function nH(o,u){return Se(o.a,jq,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],rP(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=rH(o),f=0;f<u.length;f++)nb(this,u[f]);rs(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new nl("userReloaded",{hd:o}))};function rH(o){return(o=o.providerUserInfo)&&o.length?Ui(o,function(u){return new ZW(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return xw("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return Ot(this,o.c(this.a,this.uid).then(function(p){return Wi(u,p),f=jf(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function Ev(o,u){return rb(o).then(function(){if(mo(tb(o),u))return Ta(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return xw("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return Ot(this,Ev(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=jf(u,p,"link"),sP(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Ot(this,Ev(this,"phone").then(function(){return U_(X_(f),o,u,O(f.rb,f))}))},e.Mc=function(o,u){var f=this;return Ot(this,se().then(function(){return U_(X_(f),o,u,O(f.ub,f))}),!0)};function jf(o,u,f){var p=Ww(u);return u=EA(u),zi({user:o,credential:p,additionalUserInfo:u,operationType:f})}function sP(o,u){return Wi(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return Ot(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Wi(u,f),u.reload()}))},e.ed=function(o){var u=this;return Ot(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Wi(u,f),u.reload()}))},e.Db=function(o){var u=this;return Ot(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return Wi(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return eb(this);var u=this;return Ot(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Wi(u,f),rs(u,"displayName",f.displayName||null),rs(u,"photoURL",f.photoUrl||null),Le(u.providerData,function(p){p.providerId==="password"&&(te(p,"displayName",u.displayName),te(p,"photoURL",u.photoURL))}),Ta(u)}).then(iP))},e.cd=function(o){var u=this;return Ot(this,rb(this).then(function(f){return mo(tb(u),o)?xq(u.a,f,[o]).then(function(p){var m={};return Le(p.providerUserInfo||[],function(_){m[_.providerId]=!0}),Le(tb(u),function(_){m[_]||oP(u,_)}),m[_o.PROVIDER_ID]||te(u,"phoneNumber",null),Ta(u)}):Ta(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return Ot(this,this.I().then(function(u){return Se(o.a,Pq,{idToken:u})}).then(function(){o.dispatchEvent(new nl("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");G_(o,null),Q_(o,null),Y_(o,null),o.N=[],o.J=!0,J_(o),te(o,"refreshToken",null),o.b&&D_(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(o){var u=this;return aP(this,"linkViaPopup",o,function(){return Ev(u,o.providerId).then(function(){return Ta(u)})},!1)},e.Nc=function(o){return aP(this,"reauthViaPopup",o,function(){return se()},!0)};function aP(o,u,f,p,m){if(!da())return et(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return et(o.i);var _=Uw(f.providerId),I=pa(o.uid+":::"),A=null;(!df()||Ew())&&o.s&&f.isOAuthProvider&&(A=Rf(o.s,o.l,o.m,u,f,null,I,X.SDK_VERSION||null,null,null,o.tenantId,o.u));var U=Yk(A,_&&_.va,_&&_.ua);return p=p().then(function(){if(lP(o),!m)return o.I().then(function(){})}).then(function(){return VR(o.b,U,u,f,I,!!A,o.tenantId)}).then(function(){return new Ee(function(V,fe){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=V,o.C=fe,o.g=I,o.c=zR(o.b,o,u,U,I)})}).then(function(V){return U&&ha(U),V?zi(V):null}).o(function(V){throw U&&ha(U),V}),Ot(o,p,m)}e.Fc=function(o){var u=this;return uP(this,"linkViaRedirect",o,function(){return Ev(u,o.providerId)},!1)},e.Oc=function(o){return uP(this,"reauthViaRedirect",o,function(){return se()},!0)};function uP(o,u,f,p,m){if(!da())return et(new R("operation-not-supported-in-this-environment"));if(o.i&&!m)return et(o.i);var _=null,I=pa(o.uid+":::");return p=p().then(function(){if(lP(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=I,Ta(o)}).then(function(A){return o.ha&&(A=o.ha,A=A.b.set(ib,o.w(),A.a)),A}).then(function(){return BR(o.b,u,f,I,o.tenantId)}).o(function(A){if(_=A,o.ha)return fP(o.ha);throw _}).then(function(){if(_)throw _}),Ot(o,p,m)}function lP(o){if(!o.b||!o.P)throw o.b&&!o.P?new R("internal-error"):new R("auth-domain-config-required")}e.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(I){return h_(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:I})}).then(function(I){return _=jf(m,I,"link"),sP(m,I)}).then(function(){return _}),Ot(this,f)},e.Mb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null,I=se().then(function(){return Yu(d_(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(A){return _=jf(m,A,"reauthenticate"),Wi(m,A),m.i=null,m.reload()}).then(function(){return _});return Ot(this,I,!0)},e.vb=function(o){var u=this,f=null;return Ot(this,this.I().then(function(p){return f=p,typeof o>"u"||sa(o)?{}:zp(new Bp(o))}).then(function(p){return u.a.vb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,p=null;return Ot(this,this.I().then(function(m){return p=m,typeof u>"u"||sa(u)?{}:zp(new Bp(u))}).then(function(m){return f.a.Fb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function Ot(o,u,f){var p=iH(o,u,f);return o.N.push(p),p.oa(function(){Ip(o.N,p)}),p.o(function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=XR(m.w(),X_(o),O(o.jc,o))),_||m})}e.jc=function(o){var u=null,f=this;return o=Yu(se(o),f.uid).then(function(p){return u=jf(f,p,"reauthenticate"),Wi(f,p),f.i=null,f.reload()}).then(function(){return u}),Ot(this,o,!0)};function iH(o,u,f){return o.i&&!f?(u.cancel(),et(o.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new nl("userInvalidated")),o.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ar(o,this.metadata.w()),Le(this.providerData,function(u){o.providerData.push(A6(u))}),ar(o,this.S.w()),o};function cP(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[wi]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new kr(u,f,o);return o.providerData&&Le(o.providerData,function(_){_&&nb(m,zi(_))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function oH(o,u,f,p){var m=new kr(o,u);return f&&(m.ha=f),p&&Lf(m,p),m.reload().then(function(){return m})}function sH(o,u,f,p){var m=o.h,_={};return _[wi]=m.b&&m.b.toString(),_.refreshToken=m.a,u=new kr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Lf(u,p),bv(u,o),u}function aH(o){this.a=o,this.b=Df()}var ib={name:"redirectUser",F:"session"};function fP(o){return tl(o.b,ib,o.a)}function uH(o,u){return o.b.get(ib,o.a).then(function(f){return f&&u&&(f.authDomain=u),cP(f||{})})}function ob(o){this.a=o,this.b=Df(),this.c=null,this.f=lH(this),this.b.addListener(Hi("local"),this.a,O(this.g,this))}ob.prototype.g=function(){var o=this,u=Hi("local");rl(this,function(){return se().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return sb(o,"local").then(function(){o.c=u})})})};function sb(o,u){var f=[],p;for(p in Zu)Zu[p]!==u&&f.push(tl(o.b,Hi(Zu[p]),o.a));return f.push(tl(o.b,ab,o.a)),J5(f)}function lH(o){var u=Hi("local"),f=Hi("session"),p=Hi("none");return TW(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(I){return I?u:o.b.get(ab,o.a).then(function(A){return A?Hi(A):u})})})}).then(function(m){return o.c=m,sb(o,m.F)}).o(function(){o.c||(o.c=u)})}var ab={name:"persistence",F:"session"};function Hi(o){return{name:"authUser",F:o}}ob.prototype.yb=function(o){var u=null,f=this;return SW(o),rl(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,sb(f,o)}).then(function(){if(f.c=Hi(o),u)return f.b.set(f.c,u,f.a)}):se()})};function cH(o){return rl(o,function(){return o.b.set(ab,o.c.F,o.a)})}function hP(o,u){return rl(o,function(){return o.b.set(o.c,u.w(),o.a)})}function dP(o){return rl(o,function(){return tl(o.b,o.c,o.a)})}function pP(o,u,f){return rl(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),cP(p||{})})})}function rl(o,u){return o.f=o.f.then(u,u),o.f}function _i(o){if(this.l=!1,te(this,"settings",new GR),te(this,"app",o),qe(this).options&&qe(this).options.apiKey)o=X.SDK_VERSION?Hu(X.SDK_VERSION):null,this.a=new yi(qe(this).options&&qe(this).options.apiKey,zt(rr),o);else throw new R("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=X.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=X.INTERNAL.createSubscribe(O(this.Ac,this)),il(this,null),this.i=new ob(qe(this).options.apiKey+":"+qe(this).name),this.D=new aH(qe(this).options.apiKey+":"+qe(this).name),this.$=ht(this,gH(this)),this.h=ht(this,mH(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,dH(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,Un.call(this),hH(this),this.J=[],this.R=null}L(_i,Un);function vP(o){lr.call(this,"languageCodeChanged"),this.h=o}L(vP,lr);function gP(o){lr.call(this,"emulatorConfigChanged"),this.c=o}L(gP,lr);function mP(o){lr.call(this,"frameworkChanged"),this.f=o}L(mP,lr),e=_i.prototype,e.yb=function(o){return o=this.i.yb(o),ht(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,XA(this.a,this.aa),this.dispatchEvent(new vP(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,fH(u),this.R={url:o,ec:u},this.settings.jb=!0,uv(this.a,this.R),this.dispatchEvent(new gP(this.R))}};function fH(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&Up().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),JA(this.a,X.SDK_VERSION?Hu(X.SDK_VERSION,this.J):null),this.dispatchEvent(new mP(this.J))},e.Ga=function(){return oa(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function hH(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=cr(this.R.url);u=zi({protocol:u.c,host:u.a,port:u.g,options:zi({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:qe(this).options.apiKey,authDomain:qe(this).options.authDomain,appName:qe(this).name,currentUser:pe(this)&&pe(this).w()}};function ub(o){return o.Oa||et(new R("auth-domain-config-required"))}function dH(o){var u=qe(o).options.authDomain,f=qe(o).options.apiKey;u&&da()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=j_(u,f,qe(o).name,o.R),gv(o.b,o),pe(o)&&Mf(pe(o)),o.m){Mf(o.m);var p=o.m;p.xa(o.la()),G_(p,o),p=o.m,Lf(p,o.J),Y_(p,o),p=o.m,K_(p,o.R),Q_(p,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,p){var m=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Ia(m,f_(m.a,_))})},e.Xc=function(o){if(!da())return et(new R("operation-not-supported-in-this-environment"));var u=this,f=Uw(o.providerId),p=pa(),m=null;(!df()||Ew())&&qe(this).options.authDomain&&o.isOAuthProvider&&(m=Rf(qe(this).options.authDomain,qe(this).options.apiKey,qe(this).name,"signInViaPopup",o,null,p,X.SDK_VERSION||null,null,null,this.T(),this.R));var _=Yk(m,f&&f.va,f&&f.ua);return f=ub(this).then(function(I){return VR(I,_,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new Ee(function(I,A){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=I,u.C=A,u.g=p,u.c=zR(u.b,u,"signInViaPopup",_,p)})}).then(function(I){return _&&ha(_),I?zi(I):null}).o(function(I){throw _&&ha(_),I}),ht(this,f)},e.Yc=function(o){if(!da())return et(new R("operation-not-supported-in-this-environment"));var u=this,f=ub(this).then(function(){return cH(u.i)}).then(function(){return BR(u.b,"signInViaRedirect",o,void 0,u.T())});return ht(this,f)};function yP(o){if(!da())return et(new R("operation-not-supported-in-this-environment"));var u=ub(o).then(function(){return o.b.ra()}).then(function(f){return f?zi(f):null});return ht(o,u)}e.ra=function(){var o=this;return yP(this).then(function(u){return o.b&&yv(o.b.b),u}).o(function(u){throw o.b&&yv(o.b.b),u})},e.dd=function(o){if(!o)return et(new R("null-user"));if(this.S!=o.tenantId)return et(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=qe(this).options.apiKey,f.authDomain=qe(this).options.authDomain,f.appName=qe(this).name;var p=sH(o,f,u.D,u.Ga());return ht(this,this.h.then(function(){if(qe(u).options.apiKey!=o.l)return p.reload()}).then(function(){return pe(u)&&o.uid==pe(u).uid?(bv(pe(u),o),u.da(o)):(il(u,p),Mf(p),u.da(p))}).then(function(){Ff(u)}))};function pH(o,u){var f={};return f.apiKey=qe(o).options.apiKey,f.authDomain=qe(o).options.authDomain,f.appName=qe(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return oH(f,u,o.D,o.Ga())}).then(function(p){return pe(o)&&p.uid==pe(o).uid?(bv(pe(o),p),o.da(p)):(il(o,p),Mf(p),o.da(p))}).then(function(){Ff(o)})}function il(o,u){pe(o)&&(tH(pe(o),o.Ba),xr(pe(o),"tokenChanged",o.qa),xr(pe(o),"userDeleted",o.za),xr(pe(o),"userInvalidated",o.Aa),J_(pe(o))),u&&(u.W.push(o.Ba),Kr(u,"tokenChanged",o.qa),Kr(u,"userDeleted",o.za),Kr(u,"userInvalidated",o.Aa),0<o.u&&nP(u)),te(o,"currentUser",u),u&&(u.xa(o.la()),G_(u,o),Lf(u,o.J),Y_(u,o),K_(u,o.R),Q_(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&yv(o.b.b),pe(o)?(il(o,null),dP(o.i).then(function(){Ff(o)})):se()});return ht(this,u)};function vH(o){var u=uH(o.D,qe(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),fP(o.D)});return ht(o,u)}function gH(o){var u=qe(o).options.authDomain,f=vH(o).then(function(){return pP(o.i,u,o.R)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return hP(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:dP(o.i)})):null}).then(function(p){il(o,p||null)});return ht(o,f)}function mH(o){return o.$.then(function(){return yP(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Hi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return pP(this.i,qe(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=pe(o)&&u){f=pe(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return bv(pe(o),u),pe(o).I();(pe(o)||u)&&(il(o,u),u&&(Mf(u),u.ha=o.D),o.b&&gv(o.b,o),Ff(o))}})},e.da=function(o){return hP(this.i,o)},e.mc=function(){Ff(this),this.da(pe(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ia(o,u){var f=null,p=null;return ht(o,u.then(function(m){return f=Ww(m),p=EA(m),pH(o,m)},function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=XR(m.w(),o,O(o.kc,o))),_||m}).then(function(){return zi({user:pe(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ia(u,se(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(pe(u))})},e.Ac=function(o){var u=this;yH(this,function(){o.next(pe(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(pe(p)):typeof o.next=="function"&&o.next(pe(p))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof o=="function"?o(pe(p)):typeof o.next=="function"&&o.next(pe(p))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return pe(u)?pe(u).I(o).then(function(p){return{accessToken:p}}):null});return ht(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ia(u,Se(u.a,Jq,{token:o}))}).then(function(f){var p=f.user;return rs(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ia(f,Se(f.a,aR,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ia(f,Se(f.a,Aq,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Ia(u,o.ka(u.a))})},e.Sc=function(o){return xw("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=pe(o);if(u&&u.isAnonymous){var f=zi({providerId:null,isNewUser:!1});return zi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ia(o,o.a.Ab()).then(function(p){var m=p.user;return rs(m,"isAnonymous",!0),o.da(m),p})})};function qe(o){return o.app}function pe(o){return o.currentUser}e.getUid=function(){return pe(this)&&pe(this).uid||null};function Sv(o){return pe(o)&&pe(o)._lat||null}function Ff(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Sv(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Sv(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&pe(this)&&nP(pe(this))},e.Pc=function(o){var u=this;Le(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&pe(this)&&J_(pe(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),ht(this,this.h.then(function(){u.l||mo(u.s,o)&&o(Sv(u))}))},e.removeAuthTokenListener=function(o){pi(this.s,function(u){return u==o})};function yH(o,u){o.N.push(u),ht(o,o.h.then(function(){!o.l&&mo(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Sv(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(Hi("local"),o.a,this.ja)),this.b&&(D_(this.b,this),yv(this.b.b)),Promise.resolve()};function ht(o,u){return o.P.push(u),u.oa(function(){Ip(o.P,u)}),u}e.hc=function(o){return ht(this,_q(this.a,o))},e.Bc=function(o){return!!qw(o)},e.xb=function(o,u){var f=this;return ht(this,se().then(function(){var p=new Bp(u);if(!p.c)throw new R("argument-error",jw+" must be true when sending sign in link to email");return zp(p)}).then(function(p){return f.a.xb(o,p)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return ht(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return ht(this,this.a.Sa(o).then(function(u){return new P6(u)}))},e.kb=function(o){return ht(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return ht(this,se().then(function(){return typeof u>"u"||sa(u)?{}:zp(new Bp(u))}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.Wc=function(o,u){return ht(this,U_(this,o,u,O(this.ab,this)))},e.Vc=function(o,u){var f=this;return ht(this,se().then(function(){var p=u||hf(),m=DA(o,p);if(p=qw(p),!p)throw new R("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.ab(m)}))};function Uf(){}Uf.prototype.render=function(){},Uf.prototype.reset=function(){},Uf.prototype.getResponse=function(){},Uf.prototype.execute=function(){};function ol(){this.a={},this.b=1e12}var lb=null;ol.prototype.render=function(o,u){return this.a[this.b.toString()]=new Tv(o,u),this.b++},ol.prototype.reset=function(o){var u=cb(this,o);o=wP(o),u&&o&&(u.delete(),delete this.a[o])},ol.prototype.getResponse=function(o){return(o=cb(this,o))?o.getResponse():null},ol.prototype.execute=function(o){(o=cb(this,o))&&o.execute()};function cb(o,u){return(u=wP(u))&&o.a[u]||null}function wP(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Tv(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=of(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Kr(this.f,"click",this.i)}Tv.prototype.getResponse=function(){return fb(this),this.b},Tv.prototype.execute=function(){fb(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=I6();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Tv.prototype.delete=function(){fb(this),this.g=!0,clearTimeout(this.a),this.a=null,xr(this.f,"click",this.i)};function fb(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function hb(){}te(hb,"FACTOR_ID","phone");function db(){}db.prototype.g=function(){return lb||(lb=new ol),se(lb)},db.prototype.c=function(){};var pb=null;function vb(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wH=new $i(xp,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),_H=new es(3e4,6e4);vb.prototype.g=function(o){var u=this;return new Ee(function(f,p){var m=setTimeout(function(){p(new R("network-request-failed"))},_H.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var I=c.grecaptcha.render;c.grecaptcha.render=function(A,U){return A=I(A,U),u.b++,A},clearTimeout(m),f(c.grecaptcha)}else clearTimeout(m),p(new R("internal-error"));delete c[u.a]};var _=Y0(wH,{onload:u.a,hl:o||""});se(i_(_)).o(function(){clearTimeout(m),p(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(c.grecaptcha)})},vb.prototype.c=function(){this.b--};var gb=null;function mb(o,u,f,p,m,_,I){if(te(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,I?(pb||(pb=new db),I=pb):(gb||(gb=new vb),I=gb),this.m=I,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[EP])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[bH]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!of(u)||!this.i&&of(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new yi(o,_||null,m||null),this.u=p||function(){return null};var A=this;this.l=[];var U=this.a[_P];this.a[_P]=function(fe){if(SP(A,fe),typeof U=="function")U(fe);else if(typeof U=="string"){var $e=tt(U,c);typeof $e=="function"&&$e(fe)}};var V=this.a[bP];this.a[bP]=function(){if(SP(A,null),typeof V=="function")V();else if(typeof V=="string"){var fe=tt(V,c);typeof fe=="function"&&fe()}}}var _P="callback",bP="expired-callback",EP="sitekey",bH="size";function SP(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function EH(o,u){pi(o.l,function(f){return f==u})}function yb(o,u){return o.h.push(u),u.oa(function(){Ip(o.h,u)}),u}e=mb.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=yb(this,se().then(function(){if($p()&&!gi())return Up();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Se(o.s,zq,{})}).then(function(u){o.a[EP]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Iv(this);var o=this;return yb(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=of(u);u=G5("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Iv(this);var o=this;return yb(this,this.render().then(function(u){return new Ee(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(_){_&&(EH(o,m),f(_))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Iv(this),this.c!==null&&this.g.reset(this.c)};function Iv(o){if(o.J)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Iv(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=of(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function wb(o,u,f){var p=!1;try{this.b=f||X.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var m=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=X.SDK_VERSION?Hu(X.SDK_VERSION,_):null,mb.call(this,f,o,u,function(){try{var I=m.b.auth().la()}catch{I=null}return I},_,zt(rr),p)}L(wb,mb);function TP(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,_=!1,I=0;I<u.length;I++)if(u[I].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(_=u.length,f.length<m||_<f.length)p="Expected "+(m==_?m==1?"1 argument":m+" arguments":m+"-"+_+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(_=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!_){if(u=u[m],0>m||m>=IP.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=IP[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new R("argument-error",o+" failed: "+p)}var IP="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ee(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function _b(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function St(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:x}}function sl(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Ki(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function SH(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function TH(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof _i)}}}function IH(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof X.app.App)}}}function is(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function xP(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function al(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function bb(o,u){return x(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function CP(o){return x(o)&&typeof o.uid=="string"}function xv(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function mt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function st(o,u){for(var f in u){var p=u[f].name;o[p]=AP(p,o[f],u[f].j)}}function kP(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:j(function(m){return this[m]},f),set:j(function(m,_,I,A){TP(m,[I],[A],!0),this[_]=A},p,f,u[f].lb),enumerable:!0})}}function yt(o,u,f,p){o[u]=AP(u,f,p)}function AP(o,u,f){function p(){var I=Array.prototype.slice.call(arguments);return TP(m,f,I),u.apply(this,I)}if(!f)return u;var m=xH(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function xH(o){return o=o.split("."),o[o.length-1]}st(_i.prototype,{kb:{name:"applyActionCode",j:[ee("code")]},Sa:{name:"checkActionCode",j:[ee("code")]},ob:{name:"confirmPasswordReset",j:[ee("code"),ee("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ee("email"),ee("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ee("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ee("emailLink")]},Hc:{name:"onAuthStateChanged",j:[mt(St(),sl(),"nextOrObserver"),sl("opt_error",!0),sl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[mt(St(),sl(),"nextOrObserver"),sl("opt_error",!0),sl("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ee("email"),mt(St("opt_actionCodeSettings",!0),Ki(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ee("email"),St("actionCodeSettings")]},yb:{name:"setPersistence",j:[ee("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[is()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[is()]},Tc:{name:"signInWithCustomToken",j:[ee("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ee("email"),ee("password")]},Vc:{name:"signInWithEmailLink",j:[ee("email"),ee("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ee("phoneNumber"),xv()]},Xc:{name:"signInWithPopup",j:[al()]},Yc:{name:"signInWithRedirect",j:[al()]},dd:{name:"updateCurrentUser",j:[mt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof kr)}}}(),Ki(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ee(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ee("url"),St("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ee("code")]}}),kP(_i.prototype,{lc:{name:"languageCode",lb:mt(ee(),Ki(),"languageCode")},ti:{name:"tenantId",lb:mt(ee(),Ki(),"tenantId")}}),_i.Persistence=Zu,_i.Persistence.LOCAL="local",_i.Persistence.SESSION="session",_i.Persistence.NONE="none",st(kr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[_b("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[_b("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[is()]},rb:{name:"linkWithCredential",j:[is()]},Dc:{name:"linkWithPhoneNumber",j:[ee("phoneNumber"),xv()]},Ec:{name:"linkWithPopup",j:[al()]},Fc:{name:"linkWithRedirect",j:[al()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[is()]},ub:{name:"reauthenticateWithCredential",j:[is()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ee("phoneNumber"),xv()]},Nc:{name:"reauthenticateWithPopup",j:[al()]},Oc:{name:"reauthenticateWithRedirect",j:[al()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[mt(St("opt_actionCodeSettings",!0),Ki(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ee(null,!0)]},cd:{name:"unlink",j:[ee("provider")]},Cb:{name:"updateEmail",j:[ee("email")]},Db:{name:"updatePassword",j:[ee("password")]},ed:{name:"updatePhoneNumber",j:[is("phone")]},Eb:{name:"updateProfile",j:[St("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ee("email"),mt(St("opt_actionCodeSettings",!0),Ki(null,!0),"opt_actionCodeSettings",!0)]}}),st(ol.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),st(Uf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),st(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),kP(GR.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:_b("appVerificationDisabledForTesting")}}),st(F_.prototype,{confirm:{name:"confirm",j:[ee("verificationCode")]}}),yt(Qu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[Q6,Y6,X6,G6],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[mt(ee(),St(),"json")]),yt(Qr,"credential",function(o,u){return new ts(o,u)},[ee("email"),ee("password")]),st(ts.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),st(ma.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),yt(ma,"credential",RA,[mt(ee(),St(),"token")]),yt(Qr,"credentialWithLink",DA,[ee("email"),ee("emailLink")]),st(ya.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),yt(ya,"credential",PA,[mt(ee(),St(),"token")]),st(wa.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),yt(wa,"credential",NA,[mt(ee(),mt(St(),Ki()),"idToken"),mt(ee(),Ki(),"accessToken",!0)]),st(Xu.prototype,{Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),yt(Xu,"credential",OA,[mt(ee(),St(),"token"),ee("secret",!0)]),st(Cr.prototype,{Ca:{name:"addScope",j:[ee("scope")]},credential:{name:"credential",j:[mt(ee(),mt(St(),Ki()),"optionsOrIdToken"),mt(ee(),Ki(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[St("customOAuthParameters")]}}),st(wo.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),st(va.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),yt(_o,"credential",LA,[ee("verificationId"),ee("verificationCode")]),st(_o.prototype,{gb:{name:"verifyPhoneNumber",j:[mt(ee(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?bb(f.session,wf)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?bb(f.session,Gp)&&CP(f.multiFactorHint):f.session&&f.multiFactorUid?bb(f.session,Gp)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),xv()]}}),st(ns.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),st(R.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),st(bf.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),st(Gw.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),st(V_.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),st($_.prototype,{Rc:{name:"resolveSignIn",j:[xP()]}}),st(z_.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[xP(),ee("displayName",!0)]},bd:{name:"unenroll",j:[mt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:CP},ee(),"multiFactorInfoIdentifier")]}}),st(wb.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),yt(Mw,"parseLink",hA,[ee("link")]),yt(hb,"assertion",function(o){return new ZR(o)},[is("phone")]),function(){if(typeof X<"u"&&X.INTERNAL&&X.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Lw,VERIFY_AND_CHANGE_EMAIL:mf,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_i,AuthCredential:Qu,Error:R};yt(o,"EmailAuthProvider",Qr,[]),yt(o,"FacebookAuthProvider",ma,[]),yt(o,"GithubAuthProvider",ya,[]),yt(o,"GoogleAuthProvider",wa,[]),yt(o,"TwitterAuthProvider",Xu,[]),yt(o,"OAuthProvider",Cr,[ee("providerId")]),yt(o,"SAMLAuthProvider",AA,[ee("providerId")]),yt(o,"PhoneAuthProvider",_o,[TH()]),yt(o,"RecaptchaVerifier",wb,[mt(ee(),SH(),"recaptchaContainer"),St("recaptchaParameters",!0),IH()]),yt(o,"ActionCodeURL",Mw,[]),yt(o,"PhoneMultiFactorGenerator",hb,[]),X.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new _i(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),X.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),X.registerVersion("@firebase/auth","0.16.8"),X.INTERNAL.extendNamespace({User:kr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var W9={},H9="@firebase/database",K9="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LU="";function MU(e){LU=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G9=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),jt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:od(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q9=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Vr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jU=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new G9(t)}}catch{}return new Q9},ja=jU("localStorage"),XS=jU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql=new Tu("@firebase/database"),FU=function(){var e=1;return function(){return e++}}(),UU=function(e){var t=h9(e),n=new u9;n.update(t);var r=n.digest();return sc.encodeByteArray(r)},Hd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Hd.apply(null,i):typeof i=="object"?n+=jt(i):n+=i,n+=" "}return n},Qa=null,mO=!0,$U=function(e,t){W(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ql.logLevel=be.VERBOSE,Qa=ql.log.bind(ql),t&&XS.set("logging_enabled",!0)):typeof e=="function"?Qa=e:(Qa=null,XS.remove("logging_enabled"))},Qt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(mO===!0&&(mO=!1,Qa===null&&XS.get("logging_enabled")===!0&&$U(!0)),Qa){var n=Hd.apply(null,e);Qa(n)}},Kd=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Qt.apply(void 0,me([e],fn(t)))}},JS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Hd.apply(void 0,me([],fn(e)));ql.error(n)},uo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Hd.apply(void 0,me([],fn(e)));throw ql.error(n),new Error(n)},vn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Hd.apply(void 0,me([],fn(e)));ql.warn(n)},Y9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ny=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},X9=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vo="[MIN_NAME]",lo="[MAX_NAME]",Iu=function(e,t){if(e===t)return 0;if(e===Vo||t===lo)return-1;if(t===Vo||e===lo)return 1;var n=gm(e),r=gm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},J9=function(e,t){return e===t?0:e<t?-1:1},Gf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+jt(t))},dI=function(e){if(typeof e!="object"||e===null)return jt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=jt(t[i]),r+=":",r+=dI(e[t[i]]);return r+="}",r},VU=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Vt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var BU=function(e){W(!Ny(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(c=0;c<64;c+=8){var g=parseInt(d.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},Z9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},e7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function t7(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var n7=new RegExp("^-?(0*)\\d{1,10}$"),zU=-2147483648,pI=2147483647,gm=function(e){if(n7.test(e)){var t=Number(e);if(t>=zU&&t<=pI)return t}return null},$c=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw vn("Exception was thrown by user callback.",n),t},Math.floor(0))}},r7=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Th=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i7=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){vn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o7=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(Qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vn(t)},e}(),Ih=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vI="5",qU="v",WU="s",HU="r",KU="f",GU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,QU="ls",s7="p",ZS="ac",YU="websocket",XU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gI=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ja.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ja.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function a7(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function JU(e,t,n){W(typeof t=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");var r;if(t===YU)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===XU)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);a7(e)&&(n.ns=e.namespace);var i=[];return Vt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u7=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Vr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return TU(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rE={},iE={};function mI(e){var t=e.toString();return rE[t]||(rE[t]=new u7),rE[t]}function l7(e,t){var n=e.toString();return iE[n]||(iE[n]=t()),iE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c7=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(d){l[d]&&$c(function(){r.onMessage_(l[d])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yO="start",f7="close",h7="pLPCommand",d7="pRTLPCB",ZU="id",e$="pw",t$="ser",p7="cb",v7="seg",g7="ts",m7="d",y7="dframe",n$=1870,r$=30,w7=n$-r$,_7=25e3,b7=3e4,yI=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kd(t),this.stats_=mI(n),this.urlFn=function(h){return c.appCheckToken&&(h[ZS]=c.appCheckToken),JU(n,XU,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new c7(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(b7)),X9(function(){if(!r.isClosed_){r.scriptTagHolder=new E7(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=fn(a,5),h=c[0],d=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===yO)r.id=d,r.password=v;else if(h===f7)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=fn(a,2),h=c[0],d=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[yO]="t",i[t$]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[p7]=r.scriptTagHolder.uniqueCallbackIdentifier),i[qU]=vI,r.transportSessionId&&(i[WU]=r.transportSessionId),r.lastSessionId&&(i[QU]=r.lastSessionId),r.applicationId&&(i[s7]=r.applicationId),r.appCheckToken&&(i[ZS]=r.appCheckToken),typeof location<"u"&&location.hostname&&GU.test(location.hostname)&&(i[HU]=KU);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Z9()&&!e7()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=KQ(n),i=VU(r,w7),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[y7]="t",r[ZU]=t,r[e$]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=jt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),E7=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=FU(),window[h7+this.uniqueCallbackIdentifier]=t,window[d7+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Qt("frame writing exception"),c.stack&&Qt(c.stack),Qt(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||Qt("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[ZU]=this.myID,t[e$]=this.myPW,t[t$]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+r$+r.length<=n$){var a=this.pendingSegs.shift();r=r+"&"+v7+i+"="+a.seg+"&"+g7+i+"="+a.ts+"&"+m7+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(_7)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Qt("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S7=16384,T7=45e3,mm=null;typeof MozWebSocket<"u"?mm=MozWebSocket:typeof WebSocket<"u"&&(mm=WebSocket);var Pa=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kd(this.connId),this.stats_=mI(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[qU]=vI,typeof location<"u"&&location.hostname&&GU.test(location.hostname)&&(s[HU]=KU),n&&(s[WU]=n),r&&(s[QU]=r),i&&(s[ZS]=i),JU(t,YU,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ja.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!kU()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new mm(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&mm!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ja.isInMemoryStorage||ja.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ja.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=od(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(W(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=VU(n,S7);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(T7))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I7=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[yI,Pa]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Pa&&Pa.isAvailable(),s=i&&!Pa.previouslyFailed();if(t.webSocketOnly&&(i||vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Pa];else{var a=this.transports_=[];try{for(var l=en(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x7=6e4,C7=5e3,k7=10*1024,A7=100*1024,oE="t",wO="d",R7="s",_O="r",P7="e",bO="o",EO="a",SO="n",TO="p",N7="h",i$=function(){function e(t,n,r,i,s,a,l,c,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kd("c:"+this.id+":"),this.transportManager_=new I7(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=Th(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>A7?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>k7?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(oE in t){var n=t[oE];n===EO?this.upgradeIfSecondaryHealthy_():n===_O?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bO&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Gf("t",t),r=Gf("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:TO,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:EO,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SO,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Gf("t",t),r=Gf("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Gf(oE,t);if(wO in t){var r=t[wO];if(n===N7)this.onHandshake_(r);else if(n===SO){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===R7?this.onConnectionShutdown_(r):n===_O?this.onReset_(r):n===P7?JS("Server Error: "+r):n===bO?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):JS("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vI!==r&&vn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Th(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(x7))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Th(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(C7))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:TO,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o$=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s$=function(){function e(t){this.allowedEvents_=t,this.listeners_={},W(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=me([],fn(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){W(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IO=function(e){Q(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!aI()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return W(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(s$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xO=32,CO=768,Fe=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Oe(){return new Fe("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Vs(e){return e.pieces_.length-e.pieceNum_}function He(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Fe(e.pieces_,t)}function wI(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function O7(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function sd(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function a$(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Fe(t,0)}function it(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Fe)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Fe(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function Yn(e,t){var n=ye(e),r=ye(t);if(n===null)return t;if(n===r)return Yn(He(e),He(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function D7(e,t){for(var n=sd(e,0),r=sd(t,0),i=0;i<n.length&&i<r.length;i++){var s=Iu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function _I(e,t){if(Vs(e)!==Vs(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ei(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Vs(e)>Vs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var L7=function(){function e(t,n){this.errorPrefix_=n,this.parts_=sd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Py(this.parts_[r]);u$(this)}return e}();function M7(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Py(t),u$(e)}function j7(e){var t=e.parts_.pop();e.byteLength_-=Py(t),e.parts_.length>0&&(e.byteLength_-=1)}function u$(e){if(e.byteLength_>CO)throw new Error(e.errorPrefix_+"has a key path longer than "+CO+" bytes ("+e.byteLength_+").");if(e.parts_.length>xO)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xO+") or object contains a cycle "+Aa(e))}function Aa(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F7=function(e){Q(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return W(n==="visible","Unknown event type: "+n),[this.visible_]},t}(s$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qf=1e3,U7=60*5*1e3,$7=3*1e3,kO=30*1e3,V7=1.3,B7=3e4,z7="server_kill",AO=3,Ya=function(e){Q(t,e);function t(n,r,i,s,a,l,c,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=l,d.appCheckTokenProvider_=c,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=Kd("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Qf,d.maxReconnectDelay_=U7,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!kU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return F7.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&IO.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(jt(a)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new Xt,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},$7),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),W(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Vr(n,"w")){var i=uu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();vn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||s9(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kO)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=o9(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),W(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+jt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):JS("Unrecognized action received from server: "+jt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qf,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Qf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>B7&&(this.reconnectDelay_=Qf),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*V7)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,g,y,w,b,x=this;return P(this,function(S){switch(S.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},d=function(T){W(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(T)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=fn.apply(void 0,[S.sent(),2]),y=g[0],w=g[1],l?Qt("getToken() completed but was canceled"):(Qt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=w&&w.token,c=new i$(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(T){vn(T+" ("+x.repoInfo_.toString()+")"),x.interrupt(z7)},a)),[3,4];case 3:return b=S.sent(),this.log_("Failed to get token: "+b),l||(this.repoInfo_.nodeAdmin&&vn(b),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){Qt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){Qt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],QS(this.interruptReasons_)&&(this.reconnectDelay_=Qf,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return dI(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Fe(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){Qt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AO&&(this.reconnectDelay_=kO,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){Qt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AO&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=en(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,en(c.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+LU.replace(/\./g,"-")]=1,aI()?n["framework.cordova"]=1:CU()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=IO.getInstance().currentlyOnline();return QS(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(o$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oy=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ie(Vo,t),i=new Ie(Vo,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ie.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv,l$=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Hv},set:function(n){Hv=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Iu(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Fc("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(lo,Hv)},t.prototype.makePost=function(n,r){return W(typeof n=="string","KeyIndex indexValue must always be a string."),new Ie(n,Hv)},t.prototype.toString=function(){return".key"},t}(Oy),ro=new l$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Ci=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Ro.EMPTY_NODE,this.right=s??Ro.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ro.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ro.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),q7=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Ci(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ro=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ci.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ci.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Kv(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Kv(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Kv(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Kv(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new q7,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(e,t){return Iu(e.name,t.name)}function bI(e,t){return Iu(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eT;function H7(e){eT=e}var c$=function(e){return typeof e=="number"?"number:"+BU(e):"string:"+e},f$=function(e){if(e.isLeafNode()){var t=e.val();W(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Vr(t,".sv"),"Priority must be a string or number.")}else W(e===eT||e.isEmpty(),"priority of unexpected type.");W(e===eT||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RO,uc=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),f$(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return RO},set:function(t){RO=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return we(t)?this:ye(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(W(r!==".priority"||Vs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+c$(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=BU(this.value_):t+=this.value_,this.lazyHash_=UU(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(W(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return W(i>=0,"Unknown leaf type: "+n),W(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h$,d$;function K7(e){h$=e}function G7(e){d$=e}var Q7=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Iu(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(lo,new uc("[PRIORITY-POST]",d$))},t.prototype.makePost=function(n,r){var i=h$(n);return new Ie(r,new uc("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Oy),Qe=new Q7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y7=Math.log(2),X7=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/Y7,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),ym=function(e,t,n,r){e.sort(t);var i=function(c,h){var d=h-c,v,g;if(d===0)return null;if(d===1)return v=e[c],g=n?n(v):v,new Ci(g,v.node,Ci.BLACK,null,null);var y=parseInt(d/2,10)+c,w=i(c,y),b=i(y+1,h);return v=e[y],g=n?n(v):v,new Ci(g,v.node,Ci.BLACK,w,b)},s=function(c){for(var h=null,d=null,v=e.length,g=function(S,T){var C=v-S,k=v;v-=S;var D=i(C+1,k),O=e[C],j=n?n(O):O;y(new Ci(j,O.node,T,null,D))},y=function(S){h?(h.left=S,h=S):(d=S,h=S)},w=0;w<c.count;++w){var b=c.nextBitIsOne(),x=Math.pow(2,c.count-(w+1));b?g(x,Ci.BLACK):(g(x,Ci.BLACK),g(x,Ci.RED))}return d},a=new X7(e.length),l=s(a);return new Ro(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sE,cl={},wm=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return W(cl&&Qe,"ChildrenNode.ts has not been loaded"),sE=sE||new e({".priority":cl},{".priority":Qe}),sE},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=uu(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ro?n:null},e.prototype.hasIndex=function(t){return Vr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){W(t!==ro,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ie.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=ym(r,t.getCompare()):l=cl;var c=t.toString(),h=ue({},this.indexSet_);h[c]=t;var d=ue({},this.indexes_);return d[c]=l,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=pm(this.indexes_,function(s,a){var l=uu(r.indexSet_,a);if(W(l,"Missing index implementation for "+a),s===cl)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Ie.Wrap),d=h.getNext();d;)d.name!==t.name&&c.push(d),d=h.getNext();return c.push(t),ym(c,l.getCompare())}else return cl;else{var v=n.get(t.name),g=s;return v&&(g=g.remove(new Ie(t.name,v))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=pm(this.indexes_,function(i){if(i===cl)return i;var s=n.get(t.name);return s?i.remove(new Ie(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yf,de=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&f$(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Yf||(Yf=new e(new Ro(bI),null,wm.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Yf},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Yf:n},e.prototype.getChild=function(t){var n=ye(t);return n===null?this:this.getImmediateChild(n).getChild(He(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(W(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ie(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Yf:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ye(t);if(r===null)return n;W(ye(t)!==".priority"||Vs(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(He(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Qe,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+c$(this.getPriority().val())+":"),this.forEachChild(Qe,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":UU(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ie(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ie(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ie(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ie.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gd?-1:0},e.prototype.withIndex=function(t){if(t===ro||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===ro||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Qe),i=n.getIterator(Qe),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===ro?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),J7=function(e){Q(t,e);function t(){return e.call(this,new Ro(bI),de.EMPTY_NODE,wm.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return de.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(de),Gd=new J7;Object.defineProperties(Ie,{MIN:{value:new Ie(Vo,de.EMPTY_NODE)},MAX:{value:new Ie(lo,Gd)}});l$.__EMPTY_NODE=de.EMPTY_NODE;uc.__childrenNodeConstructor=de;H7(Gd);G7(Gd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z7=!0;function lt(e,t){if(t===void 0&&(t=null),e===null)return de.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),W(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new uc(n,lt(t))}if(!(e instanceof Array)&&Z7){var r=[],i=!1,s=e;if(Vt(s,function(h,d){if(h.substring(0,1)!=="."){var v=lt(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ie(h,v)))}}),r.length===0)return de.EMPTY_NODE;var a=ym(r,W7,function(h){return h.name},bI);if(i){var l=ym(r,Qe.getCompare());return new de(a,lt(t),new wm({".priority":l},{".priority":Qe}))}else return new de(a,lt(t),wm.Default)}else{var c=de.EMPTY_NODE;return Vt(e,function(h,d){if(Vr(e,h)&&h.substring(0,1)!=="."){var v=lt(d);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(lt(t))}}K7(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EI=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,W(!we(n)&&ye(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Iu(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=lt(n),s=de.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ie(r,s)},t.prototype.maxPost=function(){var n=de.EMPTY_NODE.updateChild(this.indexPath_,Gd);return new Ie(lo,n)},t.prototype.toString=function(){return sd(this.indexPath_,0).join("/")},t}(Oy);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eY=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Iu(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(n,r){var i=lt(n);return new Ie(r,i)},t.prototype.toString=function(){return".value"},t}(Oy),SI=new eY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tT="-",p$="z",v$=786,tY=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=lc.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=lc.charAt(t[i]);return W(a.length===20,"nextPushId: Length should be 20."),a}}(),PO=function(e){if(e===""+pI)return tT;var t=gm(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<v$)return n.push(tT),n.join("");for(var i=n.length-1;i>=0&&n[i]===p$;)i--;if(i===-1)return lo;var s=n[i],a=lc.charAt(lc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},NO=function(e){if(e===""+zU)return Vo;var t=gm(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===tT?n.length===1?""+pI:(delete n[n.length-1],n.join("")):(n[n.length-1]=lc.charAt(lc.indexOf(n[n.length-1])-1),n.join("")+p$.repeat(v$-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(e){return{type:"value",snapshotNode:e}}function cc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ad(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ud(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function nY(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TI=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){W(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(ad(n,l)):W(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(cc(n,r)):a.trackChildChange(ud(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Qe,function(i,s){n.hasChild(i)||r.trackChildChange(ad(i,s))}),n.isLeafNode()||n.forEachChild(Qe,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(ud(i,s,a))}else r.trackChildChange(cc(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?de.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m$=function(){function e(t){this.indexedFilter_=new TI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ie(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(de.EMPTY_NODE);var s=this;return n.forEachChild(Qe,function(a,l){s.matches(new Ie(a,l))||(i=i.updateImmediateChild(a,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rY=function(){function e(t){this.rangedFilter_=new m$(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ie(n,r))||(r=de.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=de.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(de.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(x,S){return g(S,x)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,d)<=0;c?a++:i=i.updateImmediateChild(l.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(T,C){return l(C,T)}}else a=this.index_.getCompare();var c=t;W(c.numChildren()===this.limit_,"");var h=new Ie(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),b=v&&!r.isEmpty()&&w>=0;if(b)return s!=null&&s.trackChildChange(ud(n,r,g)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(ad(n,g));var x=c.updateImmediateChild(n,de.EMPTY_NODE),S=y!=null&&this.rangedFilter_.matches(y);return S?(s!=null&&s.trackChildChange(cc(y.name,y.node)),x.updateImmediateChild(y.name,y.node)):x}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(ad(d.name,d.node)),s.trackChildChange(cc(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,de.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y$=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lo},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Qe},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function iY(e){return e.loadsAllData()?new TI(e.getIndex()):e.hasLimit()?new rY(e):new m$(e)}function oY(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function sY(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function nT(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function aY(e,t,n){var r;if(e.index_===ro)typeof t=="string"&&(t=PO(t)),r=nT(e,t,n);else{var i=void 0;n==null?i=lo:i=PO(n),r=nT(e,t,i)}return r.startAfterSet_=!0,r}function rT(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function uY(e,t,n){var r,i;return e.index_===ro?(typeof t=="string"&&(t=NO(t)),i=rT(e,t,n)):(n==null?r=Vo:r=NO(n),i=rT(e,t,r)),i.endBeforeSet_=!0,i}function Dy(e,t){var n=e.copy();return n.index_=t,n}function OO(e){var t={};if(e.isDefault())return t;var n;return e.index_===Qe?n="$priority":e.index_===SI?n="$value":e.index_===ro?n="$key":(W(e.index_ instanceof EI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=jt(n),e.startSet_&&(t.startAt=jt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+jt(e.indexStartName_))),e.endSet_&&(t.endAt=jt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+jt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function DO(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lY=function(e){Q(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Kd("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(W(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var d=OO(n._queryParams);this.restRequest_(l+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),uu(a.listens_,c)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=OO(n._queryParams),s=n._path.toString(),a=new Xt;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=fn(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+a9(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=od(v.responseText)}catch{vn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&vn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(o$);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cY=function(){function e(){this.rootNode_=de.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){return{value:null,children:new Map}}function Vc(e,t,n){if(we(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,_m());var i=e.children.get(r);t=He(t),Vc(i,t,n)}}function iT(e,t){if(we(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Qe,function(s,a){Vc(e,new Fe(s),a)}),iT(e,t)}else if(e.children.size>0){var r=ye(t);if(t=He(t),e.children.has(r)){var i=iT(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function oT(e,t,n){e.value!==null?n(t,e.value):fY(e,function(r,i){var s=new Fe(t.toString()+"/"+r);oT(i,s,n)})}function fY(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w$=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=ue({},t);return this.last_&&Vt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO=10*1e3,hY=30*1e3,dY=5*60*1e3,pY=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new w$(t);var r=LO+(hY-LO)*Math.random();Th(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Vt(n,function(s,a){a>0&&Vr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),Th(this.reportStats_.bind(this),Math.floor(Math.random()*2*dY))},e}();function vY(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ri||(Ri={}));function II(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function CI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gY=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ri.ACK_USER_WRITE,this.source=II()}return e.prototype.operationForChild=function(t){if(we(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Fe(t));return new e(Oe(),n,this.revert)}else return W(ye(this.path)===t,"operationForChild called for unrelated child."),new e(He(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$=function(){function e(t,n){this.source=t,this.path=n,this.type=Ri.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,Oe()):new e(this.source,He(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ly=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ri.OVERWRITE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,Oe(),this.snap.getImmediateChild(t)):new e(this.source,He(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kI=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ri.MERGE}return e.prototype.operationForChild=function(t){if(we(this.path)){var n=this.children.subtree(new Fe(t));return n.isEmpty()?null:n.value?new Ly(this.source,Oe(),n.value):new e(this.source,Oe(),n)}else return W(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,He(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(we(t))return this.isFullyInitialized()&&!this.filtered_;var n=ye(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mY=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function yY(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(nY(a.childName,a.snapshotNode))}),Xf(e,i,"child_removed",t,r,n),Xf(e,i,"child_added",t,r,n),Xf(e,i,"child_moved",s,r,n),Xf(e,i,"child_changed",t,r,n),Xf(e,i,"value",t,r,n),i}function Xf(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return _Y(e,l,c)}),a.forEach(function(l){var c=wY(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function wY(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function _Y(e,t,n){if(t.childName==null||n.childName==null)throw Fc("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(e,t){return{eventCache:e,serverCache:t}}function xh(e,t,n,r){return My(new Bs(t,n,r),e.serverCache)}function b$(e,t,n,r){return My(e.eventCache,new Bs(t,n,r))}function bm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function lu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE,bY=function(){return aE||(aE=new Ro(J9)),aE},Br=function(){function e(t,n){n===void 0&&(n=bY()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Vt(t,function(r,i){n=n.set(new Fe(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Oe(),value:this.value};if(we(t))return null;var r=ye(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(He(t),n);if(s!=null){var a=it(new Fe(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(we(t))return this;var n=ye(t),r=this.children.get(n);return r!==null?r.subtree(He(t)):new e(null)},e.prototype.set=function(t,n){if(we(t))return new e(n,this.children);var r=ye(t),i=this.children.get(r)||new e(null),s=i.set(He(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(we(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var i=r.remove(He(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(we(t))return this.value;var n=ye(t),r=this.children.get(n);return r?r.get(He(t)):null},e.prototype.setTree=function(t,n){if(we(t))return n;var r=ye(t),i=this.children.get(r)||new e(null),s=i.setTree(He(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Oe(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(it(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Oe(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(we(t))return null;var s=ye(t),a=this.children.get(s);return a?a.findOnPath_(He(t),it(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Oe(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(we(t))return this;this.value&&r(n,this.value);var i=ye(t),s=this.children.get(i);return s?s.foreachOnPath_(He(t),it(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Oe(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(it(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Br(null))},e}();function Ch(e,t,n){if(we(t))return new Do(new Br(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Yn(i,t);return s=s.updateChild(a,n),new Do(e.writeTree_.set(i,s))}else{var l=new Br(n),c=e.writeTree_.setTree(t,l);return new Do(c)}}function sT(e,t,n){var r=e;return Vt(n,function(i,s){r=Ch(r,it(t,i),s)}),r}function MO(e,t){if(we(t))return Do.empty();var n=e.writeTree_.setTree(t,new Br(null));return new Do(n)}function aT(e,t){return xu(e,t)!=null}function xu(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Yn(n.path,t)):null}function jO(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,function(r,i){t.push(new Ie(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ie(r,i.value))}),t}function Os(e,t){if(we(t))return e;var n=xu(e,t);return n!=null?new Do(new Br(n)):new Do(e.writeTree_.subtree(t))}function uT(e){return e.writeTree_.isEmpty()}function fc(e,t){return E$(Oe(),e.writeTree_,t)}function E$(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(W(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=E$(it(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(it(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(e,t){return x$(t,e)}function EY(e,t,n,r,i){W(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ch(e.visibleWrites,t,n)),e.lastWriteId=r}function SY(e,t,n,r){W(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=sT(e.visibleWrites,t,n),e.lastWriteId=r}function TY(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function IY(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});W(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&xY(l,r.path)?i=!1:ei(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return CY(e),!0;if(r.snap)e.visibleWrites=MO(e.visibleWrites,r.path);else{var c=r.children;Vt(c,function(h){e.visibleWrites=MO(e.visibleWrites,it(r.path,h))})}return!0}else return!1}function xY(e,t){if(e.snap)return ei(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ei(it(e.path,n),t))return!0;return!1}function CY(e){e.visibleWrites=S$(e.allWrites,kY,Oe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function kY(e){return e.visible}function S$(e,t,n){for(var r=Do.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)ei(n,a)?(l=Yn(n,a),r=Ch(r,l,s.snap)):ei(a,n)&&(l=Yn(a,n),r=Ch(r,Oe(),s.snap.getChild(l)));else if(s.children){if(ei(n,a))l=Yn(n,a),r=sT(r,l,s.children);else if(ei(a,n))if(l=Yn(a,n),we(l))r=sT(r,Oe(),s.children);else{var c=uu(s.children,ye(l));if(c){var h=c.getChild(He(l));r=Ch(r,Oe(),h)}}}else throw Fc("WriteRecord should have .snap or .children")}}return r}function T$(e,t,n,r,i){if(!r&&!i){var s=xu(e.visibleWrites,t);if(s!=null)return s;var a=Os(e.visibleWrites,t);if(uT(a))return n;if(n==null&&!aT(a,Oe()))return null;var l=n||de.EMPTY_NODE;return fc(a,l)}else{var c=Os(e.visibleWrites,t);if(!i&&uT(c))return n;if(!i&&n==null&&!aT(c,Oe()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(ei(g.path,t)||ei(t,g.path))},d=S$(e.allWrites,h,t),l=n||de.EMPTY_NODE;return fc(d,l)}}function AY(e,t,n){var r=de.EMPTY_NODE,i=xu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Qe,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=Os(e.visibleWrites,t);return n.forEachChild(Qe,function(l,c){var h=fc(Os(s,new Fe(l)),c);r=r.updateImmediateChild(l,h)}),jO(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=Os(e.visibleWrites,t);return jO(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function RY(e,t,n,r,i){W(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=it(t,n);if(aT(e.visibleWrites,s))return null;var a=Os(e.visibleWrites,s);return uT(a)?i.getChild(n):fc(a,i.getChild(n))}function PY(e,t,n,r){var i=it(t,n),s=xu(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Os(e.visibleWrites,i);return fc(a,r.getNode().getImmediateChild(n))}else return null}function NY(e,t){return xu(e.visibleWrites,t)}function OY(e,t,n,r,i,s,a){var l,c=Os(e.visibleWrites,t),h=xu(c,Oe());if(h!=null)l=h;else if(n!=null)l=fc(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]}function DY(){return{visibleWrites:Do.empty(),allWrites:[],lastWriteId:-1}}function Em(e,t,n,r){return T$(e.writeTree,e.treePath,t,n,r)}function AI(e,t){return AY(e.writeTree,e.treePath,t)}function FO(e,t,n,r){return RY(e.writeTree,e.treePath,t,n,r)}function Sm(e,t){return NY(e.writeTree,it(e.treePath,t))}function LY(e,t,n,r,i,s){return OY(e.writeTree,e.treePath,t,n,r,i,s)}function RI(e,t,n){return PY(e.writeTree,e.treePath,t,n)}function I$(e,t){return x$(it(e.treePath,t),e.writeTree)}function x$(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ud(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ad(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,cc(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ud(r,t.snapshotNode,i.oldSnap));else throw Fc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jY=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),C$=new jY,PI=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RI(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:lu(this.viewCache_),s=LY(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(e){return{filter:e}}function UY(e,t){W(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),W(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function $Y(e,t,n,r,i){var s=new MY,a,l;if(n.type===Ri.OVERWRITE){var c=n;c.source.fromUser?a=lT(e,t,c.path,c.snap,r,i,s):(W(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=Tm(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===Ri.MERGE){var h=n;h.source.fromUser?a=BY(e,t,h.path,h.children,r,i,s):(W(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=cT(e,t,h.path,h.children,r,i,l,s))}else if(n.type===Ri.ACK_USER_WRITE){var d=n;d.revert?a=WY(e,t,d.path,r,i,s):a=zY(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===Ri.LISTEN_COMPLETE)a=qY(e,t,n.path,r,s);else throw Fc("Unknown operation type: "+n.type);var v=s.getChanges();return VY(t,a,v),{viewCache:a,changes:v}}function VY(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=bm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(g$(bm(t)))}}function k$(e,t,n,r,i,s){var a=t.eventCache;if(Sm(r,n)!=null)return t;var l=void 0,c=void 0;if(we(n))if(W(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=lu(t),d=h instanceof de?h:de.EMPTY_NODE,v=AI(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var g=Em(r,lu(t));l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var y=ye(n);if(y===".priority"){W(Vs(n)===1,"Can't have a priority with additional path components");var w=a.getNode();c=t.serverCache.getNode();var b=FO(r,n,w,c);b!=null?l=e.filter.updatePriority(w,b):l=a.getNode()}else{var x=He(n),S=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var T=FO(r,n,a.getNode(),c);T!=null?S=a.getNode().getImmediateChild(y).updateChild(x,T):S=a.getNode().getImmediateChild(y)}else S=RI(r,y,t.serverCache);S!=null?l=e.filter.updateChild(a.getNode(),y,S,x,i,s):l=a.getNode()}}return xh(t,l,a.isFullyInitialized()||we(n),e.filter.filtersNodes())}function Tm(e,t,n,r,i,s,a,l){var c=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(we(n))h=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=d.updateFullNode(c.getNode(),v,null)}else{var g=ye(n);if(!c.isCompleteForPath(n)&&Vs(n)>1)return t;var y=He(n),w=c.getNode().getImmediateChild(g),b=w.updateChild(y,r);g===".priority"?h=d.updatePriority(c.getNode(),b):h=d.updateChild(c.getNode(),g,b,y,C$,null)}var x=b$(t,h,c.isFullyInitialized()||we(n),d.filtersNodes()),S=new PI(i,x,s);return k$(e,x,n,i,S,l)}function lT(e,t,n,r,i,s,a){var l=t.eventCache,c,h,d=new PI(i,t,s);if(we(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=xh(t,h,!0,e.filter.filtersNodes());else{var v=ye(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=xh(t,h,l.isFullyInitialized(),l.isFiltered());else{var g=He(n),y=l.getNode().getImmediateChild(v),w=void 0;if(we(g))w=r;else{var b=d.getCompleteChild(v);b!=null?wI(g)===".priority"&&b.getChild(a$(g)).isEmpty()?w=b:w=b.updateChild(g,r):w=de.EMPTY_NODE}if(y.equals(w))c=t;else{var x=e.filter.updateChild(l.getNode(),v,w,g,d,a);c=xh(t,x,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function UO(e,t){return e.eventCache.isCompleteForChild(t)}function BY(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var d=it(n,c);UO(t,ye(d))&&(l=lT(e,l,d,h,i,s,a))}),r.foreach(function(c,h){var d=it(n,c);UO(t,ye(d))||(l=lT(e,l,d,h,i,s,a))}),l}function $O(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function cT(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;we(n)?h=r:h=new Br(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),w=$O(e,y,g);c=Tm(e,c,new Fe(v),w,i,s,a,l)}}),h.children.inorderTraversal(function(v,g){var y=!t.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!d.hasChild(v)&&!y){var w=t.serverCache.getNode().getImmediateChild(v),b=$O(e,w,g);c=Tm(e,c,new Fe(v),b,i,s,a,l)}}),c}function zY(e,t,n,r,i,s,a){if(Sm(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(we(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Tm(e,t,n,c.getNode().getChild(n),i,s,l,a);if(we(n)){var h=new Br(null);return c.getNode().forEachChild(ro,function(v,g){h=h.set(new Fe(v),g)}),cT(e,t,n,h,i,s,l,a)}else return t}else{var d=new Br(null);return r.foreach(function(v,g){var y=it(n,v);c.isCompleteForPath(y)&&(d=d.set(v,c.getNode().getChild(y)))}),cT(e,t,n,d,i,s,l,a)}}function qY(e,t,n,r,i){var s=t.serverCache,a=b$(t,s.getNode(),s.isFullyInitialized()||we(n),s.isFiltered());return k$(e,a,n,r,C$,i)}function WY(e,t,n,r,i,s){var a;if(Sm(r,n)!=null)return t;var l=new PI(r,t,i),c=t.eventCache.getNode(),h=void 0;if(we(n)||ye(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=Em(r,lu(t));else{var v=t.serverCache.getNode();W(v instanceof de,"serverChildren would be complete if leaf node"),d=AI(r,v)}d=d,h=e.filter.updateFullNode(c,d,s)}else{var g=ye(n),y=RI(r,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=c.getImmediateChild(g)),y!=null?h=e.filter.updateChild(c,g,y,He(n),l,s):t.eventCache.getNode().hasChild(g)?h=e.filter.updateChild(c,g,de.EMPTY_NODE,He(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Em(r,lu(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Sm(r,Oe())!=null,xh(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HY=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new TI(r.getIndex()),s=iY(r);this.processor_=FY(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(de.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(de.EMPTY_NODE,l.getNode(),null),d=new Bs(c,a.isFullyInitialized(),i.filtersNodes()),v=new Bs(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=My(v,d),this.eventGenerator_=new mY(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function KY(e){return e.viewCache_.serverCache.getNode()}function GY(e){return bm(e.viewCache_)}function QY(e,t){var n=lu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!we(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function VO(e){return e.eventRegistrations_.length===0}function YY(e,t){e.eventRegistrations_.push(t)}function BO(e,t,n){var r=[];if(n){W(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function zO(e,t,n,r){t.type===Ri.MERGE&&t.source.queryId!==null&&(W(lu(e.viewCache_),"We should always have a full cache before handling merges"),W(bm(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=$Y(e.processor_,i,t,n,r);return UY(e.processor_,s.viewCache),W(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,A$(e,s.changes,s.viewCache.eventCache.getNode(),null)}function XY(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Qe,function(s,a){r.push(cc(s,a))})}return n.isFullyInitialized()&&r.push(g$(n.getNode())),A$(e,r,n.getNode(),t)}function A$(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return yY(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im,R$=function(){function e(){this.views=new Map}return e}();function JY(e){W(!Im,"__referenceConstructor has already been defined"),Im=e}function ZY(){return W(Im,"Reference.ts has not been loaded"),Im}function eX(e){return e.views.size===0}function NI(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return W(l!=null,"SyncTree gave us an op for an invalid query."),zO(l,t,n,r)}else{var c=[];try{for(var h=en(e.views.values()),d=h.next();!d.done;d=h.next()){var l=d.value;c=c.concat(zO(l,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function P$(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Em(n,i?r:null),c=!1;l?c=!0:r instanceof de?(l=AI(n,r),c=!1):(l=de.EMPTY_NODE,c=!1);var h=My(new Bs(l,c,!1),new Bs(r,i,!1));return new HY(t,h)}return a}function tX(e,t,n,r,i,s){var a=P$(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),YY(a,n),XY(a,n)}function nX(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=zs(e);if(a==="default")try{for(var d=en(e.views.entries()),v=d.next();!v.done;v=d.next()){var g=fn(v.value,2),y=g[0],w=g[1];c=c.concat(BO(w,n,r)),VO(w)&&(e.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query))}}catch(b){i={error:b}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var w=e.views.get(a);w&&(c=c.concat(BO(w,n,r)),VO(w)&&(e.views.delete(a),w.query._queryParams.loadsAllData()||l.push(w.query)))}return h&&!zs(e)&&l.push(new(ZY())(t._repo,t._path)),{removed:l,events:c}}function N$(e){var t,n,r=[];try{for(var i=en(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ds(e,t){var n,r,i=null;try{for(var s=en(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||QY(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function O$(e,t){var n=t._queryParams;if(n.loadsAllData())return Fy(e);var r=t._queryIdentifier;return e.views.get(r)}function D$(e,t){return O$(e,t)!=null}function zs(e){return Fy(e)!=null}function Fy(e){var t,n;try{for(var r=en(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xm;function rX(e){W(!xm,"__referenceConstructor has already been defined"),xm=e}function iX(){return W(xm,"Reference.ts has not been loaded"),xm}var oX=1,qO=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Br(null),this.pendingWriteTree_=DY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function OI(e,t,n,r,i){return EY(e.pendingWriteTree_,t,n,r,i),i?Bc(e,new Ly(II(),t,n)):[]}function sX(e,t,n,r){SY(e.pendingWriteTree_,t,n,r);var i=Br.fromObject(n);return Bc(e,new kI(II(),t,i))}function Ts(e,t,n){n===void 0&&(n=!1);var r=TY(e.pendingWriteTree_,t),i=IY(e.pendingWriteTree_,t);if(i){var s=new Br(null);return r.snap!=null?s=s.set(Oe(),!0):Vt(r.children,function(a){s=s.set(new Fe(a),!0)}),Bc(e,new gY(r.path,s,n))}else return[]}function Qd(e,t,n){return Bc(e,new Ly(xI(),t,n))}function aX(e,t,n){var r=Br.fromObject(n);return Bc(e,new kI(xI(),t,r))}function uX(e,t){return Bc(e,new _$(xI(),t))}function lX(e,t,n){var r=DI(e,n);if(r){var i=LI(r),s=i.path,a=i.queryId,l=Yn(s,t),c=new _$(CI(a),l);return MI(e,s,c)}else return[]}function fT(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||D$(s,t))){var l=nX(s,t,n,r);eX(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(T){return T._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(T,C){return zs(C)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=dX(v),y=0;y<g.length;++y){var w=g[y],b=w.query,x=j$(e,w);e.listenProvider_.startListening(kh(b),Cm(e,b),x.hashFn,x.onComplete)}}if(!d&&c.length>0&&!r)if(h){var S=null;e.listenProvider_.stopListening(kh(t),S)}else c.forEach(function(T){var C=e.queryToTagMap.get($y(T));e.listenProvider_.stopListening(kh(T),C)});pX(e,c)}return a}function cX(e,t,n,r){var i=DI(e,r);if(i!=null){var s=LI(i),a=s.path,l=s.queryId,c=Yn(a,t),h=new Ly(CI(l),c,n);return MI(e,a,h)}else return[]}function fX(e,t,n,r){var i=DI(e,r);if(i){var s=LI(i),a=s.path,l=s.queryId,c=Yn(a,t),h=Br.fromObject(n),d=new kI(CI(l),c,h);return MI(e,a,d)}else return[]}function WO(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(b,x){var S=Yn(b,r);i=i||Ds(x,S),s=s||zs(x)});var a=e.syncPointTree_.get(r);a?(s=s||zs(a),i=i||Ds(a,Oe())):(a=new R$,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=de.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(b,x){var S=Ds(x,Oe());S&&(i=i.updateImmediateChild(b,S))})}var h=D$(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=$y(t);W(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=vX();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var g=jy(e.pendingWriteTree_,r),y=tX(a,t,n,g,i,l);if(!h&&!s){var w=O$(a,t);y=y.concat(gX(e,t,w))}return y}function Uy(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Yn(a,t),h=Ds(l,c);if(h)return h});return T$(i,t,s,n,r)}function hX(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Yn(h,n);r=r||Ds(d,v)});var i=e.syncPointTree_.get(n);i?r=r||Ds(i,Oe()):(i=new R$,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Bs(r,!0,!1):null,l=jy(e.pendingWriteTree_,t._path),c=P$(i,t,l,s?a.getNode():de.EMPTY_NODE,s);return GY(c)}function Bc(e,t){return L$(t,e.syncPointTree_,null,jy(e.pendingWriteTree_,Oe()))}function L$(e,t,n,r){if(we(e.path))return M$(e,t,n,r);var i=t.get(Oe());n==null&&i!=null&&(n=Ds(i,Oe()));var s=[],a=ye(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,d=I$(r,a);s=s.concat(L$(l,c,h,d))}return i&&(s=s.concat(NI(i,e,r,n))),s}function M$(e,t,n,r){var i=t.get(Oe());n==null&&i!=null&&(n=Ds(i,Oe()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=I$(r,a),d=e.operationForChild(a);d&&(s=s.concat(M$(d,l,c,h)))}),i&&(s=s.concat(NI(i,e,r,n))),s}function j$(e,t){var n=t.query,r=Cm(e,n);return{hashFn:function(){var i=KY(t)||de.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?lX(e,n._path,r):uX(e,n._path);var s=t7(i,n);return fT(e,n,null,s)}}}function Cm(e,t){var n=$y(t);return e.queryToTagMap.get(n)}function $y(e){return e._path.toString()+"$"+e._queryIdentifier}function DI(e,t){return e.tagToQueryMap.get(t)}function LI(e){var t=e.indexOf("$");return W(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Fe(e.substr(0,t))}}function MI(e,t,n){var r=e.syncPointTree_.get(t);W(r,"Missing sync point for query tag that we're tracking");var i=jy(e.pendingWriteTree_,t);return NI(r,n,i,null)}function dX(e){return e.fold(function(t,n,r){if(n&&zs(n)){var i=Fy(n);return[i]}else{var s=[];return n&&(s=N$(n)),Vt(r,function(a,l){s=s.concat(l)}),s}})}function kh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(iX())(e._repo,e._path):e}function pX(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=$y(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function vX(){return oX++}function gX(e,t,n){var r=t._path,i=Cm(e,t),s=j$(e,n),a=e.listenProvider_.startListening(kh(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)W(!zs(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,g,y){if(!we(v)&&g&&zs(g))return[Fy(g).query];var w=[];return g&&(w=w.concat(N$(g).map(function(b){return b.query}))),Vt(y,function(b,x){w=w.concat(x)}),w}),h=0;h<c.length;++h){var d=c[h];e.listenProvider_.stopListening(kh(d),Cm(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),yX=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=it(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Uy(this.syncTree_,this.path_)},e}(),wX=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},HO=function(e,t,n){if(!e||typeof e!="object")return e;if(W(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return _X(e[".sv"],t,n);if(typeof e[".sv"]=="object")return bX(e[".sv"],t);W(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},_X=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+e)}},bX=function(e,t,n){e.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&W(!1,"Unexpected increment value: "+r);var i=t.node();if(W(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},F$=function(e,t,n,r){return FI(t,new yX(n,e),r)},jI=function(e,t,n){return FI(e,new mX(t),n)};function FI(e,t,n){var r=e.getPriority().val(),i=HO(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=HO(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new uc(l,lt(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new uc(i))),c.forEachChild(Qe,function(h,d){var v=FI(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UI=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Vy(e,t){for(var n=t instanceof Fe?t:new Fe(t),r=e,i=ye(n);i!==null;){var s=uu(r.node.children,i)||{children:{},childCount:0};r=new UI(i,r,s),n=He(n),i=ye(n)}return r}function Cu(e){return e.node.value}function $I(e,t){e.node.value=t,hT(e)}function U$(e){return e.node.childCount>0}function EX(e){return Cu(e)===void 0&&!U$(e)}function By(e,t){Vt(e.node.children,function(n,r){t(new UI(n,e,r))})}function $$(e,t,n,r){n&&!r&&t(e),By(e,function(i){$$(i,t,!0,r)}),n&&r&&t(e)}function SX(e,t,n){for(var r=e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Yd(e){return new Fe(e.parent===null?e.name:Yd(e.parent)+"/"+e.name)}function hT(e){e.parent!==null&&TX(e.parent,e.name,e)}function TX(e,t,n){var r=EX(n),i=Vr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hT(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,hT(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IX=/[\[\].#$\/\u0000-\u001F\u007F]/,xX=/[\[\].#$\u0000-\u001F\u007F]/,uE=10*1024*1024,zy=function(e){return typeof e=="string"&&e.length!==0&&!IX.test(e)},V$=function(e){return typeof e=="string"&&e.length!==0&&!xX.test(e)},CX=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),V$(e)},ld=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Ny(e)||e&&typeof e=="object"&&Vr(e,".sv")},co=function(e,t,n,r){r&&t===void 0||Xd(Er(e,"value"),t,n)},Xd=function(e,t,n){var r=n instanceof Fe?new L7(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Aa(r));if(typeof t=="function")throw new Error(e+"contains a function "+Aa(r)+" with contents = "+t.toString());if(Ny(t))throw new Error(e+"contains "+t.toString()+" "+Aa(r));if(typeof t=="string"&&t.length>uE/3&&Py(t)>uE)throw new Error(e+"contains a string greater than "+uE+" utf8 bytes "+Aa(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Vt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!zy(a)))throw new Error(e+" contains an invalid key ("+a+") "+Aa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);M7(r,a),Xd(e,l,r),j7(r)}),i&&s)throw new Error(e+' contains ".value" child '+Aa(r)+" in addition to actual children.")}},kX=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=sd(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!zy(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(D7);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&ei(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},B$=function(e,t,n,r){var i=Er(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Vt(t,function(a,l){var c=new Fe(a);if(Xd(i,l,it(n,c)),wI(c)===".priority"&&!ld(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),kX(i,s)},VI=function(e,t,n){if(Ny(t))throw new Error(Er(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ld(t))throw new Error(Er(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},AX=function(e,t,n){if(t!==void 0)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Er(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Jd=function(e,t,n,r){if(n!==void 0&&!zy(n))throw new Error(Er(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},cd=function(e,t,n,r){if(!V$(n))throw new Error(Er(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},RX=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cd(e,t,n)},ti=function(e,t){if(ye(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},z$=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!zy(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!CX(n))throw new Error(Er(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},PX=function(e,t,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(Er(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NX=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function qy(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!_I(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function BI(e,t,n){qy(e,n),q$(e,function(r){return _I(r,t)})}function fi(e,t,n){qy(e,n),q$(e,function(r){return ei(r,t)||ei(t,r)})}function q$(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(OX(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function OX(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Qa&&Qt("event: "+n.toString()),$c(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W$="repo_interrupt",DX=25,LX=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_m(),this.transactionQueueTree_=new UI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function MX(e,t,n){if(e.stats_=mI(e.repoInfo_),e.forceRestClient_||r7())e.server_=new lY(e.repoInfo_,function(r,i,s,a){KO(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return GO(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ya(e.repoInfo_,t,function(r,i,s,a){KO(e,r,i,s,a)},function(r){GO(e,r)},function(r){FX(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=l7(e.repoInfo_,function(){return new pY(e.stats_,e.server_)}),e.infoData_=new cY,e.infoSyncTree_=new qO({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Qd(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),zI(e,"connected",!1),e.serverSyncTree_=new qO({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);fi(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function H$(e){var t=e.infoData_.getNode(new Fe(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Zd(e){return wX({timestamp:H$(e)})}function KO(e,t,n,r,i){e.dataUpdateCount++;var s=new Fe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=pm(n,function(g){return lt(g)});a=fX(e.serverSyncTree_,s,l,i)}else{var c=lt(n);a=cX(e.serverSyncTree_,s,c,i)}else if(r){var h=pm(n,function(g){return lt(g)});a=aX(e.serverSyncTree_,s,h)}else{var d=lt(n);a=Qd(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=hc(e,s)),fi(e.eventQueue_,v,a)}function jX(e,t){e.interceptServerDataCallback_=t}function GO(e,t){zI(e,"connected",t),t===!1&&VX(e)}function FX(e,t){Vt(t,function(n,r){zI(e,n,r)})}function zI(e,t,n){var r=new Fe("/.info/"+t),i=lt(n);e.infoData_.updateSnapshot(r,i);var s=Qd(e.infoSyncTree_,r,i);fi(e.eventQueue_,r,s)}function Wy(e){return e.nextWriteId_++}function UX(e,t){var n=hX(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=lt(r).withIndex(t._queryParams.getIndex()),s=Qd(e.serverSyncTree_,t._path,i);return BI(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return zc(e,"get for query "+jt(t)+" failed: "+r),Promise.reject(new Error(r))})}function qI(e,t,n,r,i){zc(e,"set",{path:t.toString(),value:n,priority:r});var s=Zd(e),a=lt(n,r),l=Uy(e.serverSyncTree_,t),c=jI(a,l,s),h=Wy(e),d=OI(e.serverSyncTree_,t,c,h,!0);qy(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(g,y){var w=g==="ok";w||vn("set at "+t+" failed: "+g);var b=Ts(e.serverSyncTree_,h,!w);fi(e.eventQueue_,t,b),qs(e,i,g,y)});var v=HI(e,t);hc(e,v),fi(e.eventQueue_,v,[])}function $X(e,t,n,r){zc(e,"update",{path:t.toString(),value:n});var i=!0,s=Zd(e),a={};if(Vt(n,function(h,d){i=!1,a[h]=F$(it(t,h),lt(d),e.serverSyncTree_,s)}),i)Qt("update() called with empty data.  Don't do anything."),qs(e,r,"ok",void 0);else{var l=Wy(e),c=sX(e.serverSyncTree_,t,a,l);qy(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||vn("update at "+t+" failed: "+h);var g=Ts(e.serverSyncTree_,l,!v),y=g.length>0?hc(e,t):t;fi(e.eventQueue_,y,g),qs(e,r,h,d)}),Vt(n,function(h){var d=HI(e,it(t,h));hc(e,d)}),fi(e.eventQueue_,t,[])}}function VX(e){zc(e,"onDisconnectEvents");var t=Zd(e),n=_m();oT(e.onDisconnect_,Oe(),function(i,s){var a=F$(i,s,e.serverSyncTree_,t);Vc(n,i,a)});var r=[];oT(n,Oe(),function(i,s){r=r.concat(Qd(e.serverSyncTree_,i,s));var a=HI(e,i);hc(e,a)}),e.onDisconnect_=_m(),fi(e.eventQueue_,Oe(),r)}function BX(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&iT(e.onDisconnect_,t),qs(e,n,r,i)})}function QO(e,t,n,r){var i=lt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Vc(e.onDisconnect_,t,i),qs(e,r,s,a)})}function zX(e,t,n,r,i){var s=lt(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Vc(e.onDisconnect_,t,s),qs(e,i,a,l)})}function qX(e,t,n,r){if(QS(n)){Qt("onDisconnect().update() called with empty data.  Don't do anything."),qs(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Vt(n,function(a,l){var c=lt(l);Vc(e.onDisconnect_,it(t,a),c)}),qs(e,r,i,s)})}function WX(e,t,n){var r;ye(t._path)===".info"?r=WO(e.infoSyncTree_,t,n):r=WO(e.serverSyncTree_,t,n),BI(e.eventQueue_,t._path,r)}function dT(e,t,n){var r;ye(t._path)===".info"?r=fT(e.infoSyncTree_,t,n):r=fT(e.serverSyncTree_,t,n),BI(e.eventQueue_,t._path,r)}function K$(e){e.persistentConnection_&&e.persistentConnection_.interrupt(W$)}function HX(e){e.persistentConnection_&&e.persistentConnection_.resume(W$)}function KX(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new w$(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Vt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function GX(e,t){e.stats_.incrementCounter(t),vY(e.statsReporter_,t)}function zc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Qt.apply(void 0,me([r],fn(t)))}function qs(e,t,n,r){t&&$c(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function QX(e,t,n,r,i,s){zc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:FU(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=WI(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Xd("transaction failed: Data returned ",c,a.path),a.status=0;var h=Vy(e.transactionQueueTree_,t),d=Cu(h)||[];d.push(a),$I(h,d);var v=void 0;if(typeof c=="object"&&c!==null&&Vr(c,".priority"))v=uu(c,".priority"),W(ld(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=Uy(e.serverSyncTree_,t)||de.EMPTY_NODE;v=g.getPriority().val()}var y=Zd(e),w=lt(c,v),b=jI(w,l,y);a.currentOutputSnapshotRaw=w,a.currentOutputSnapshotResolved=b,a.currentWriteId=Wy(e);var x=OI(e.serverSyncTree_,t,b,a.currentWriteId,a.applyLocally);fi(e.eventQueue_,t,x),Hy(e,e.transactionQueueTree_)}}function WI(e,t,n){return Uy(e.serverSyncTree_,t,n)||de.EMPTY_NODE}function Hy(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Ky(e,t),Cu(t)){var n=Q$(e,t);W(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&YX(e,Yd(t),n)}else U$(t)&&By(t,function(i){Hy(e,i)})}function YX(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=WI(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];W(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Yn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(g){zc(e,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var w=[],b=function(S){n[S].status=2,y=y.concat(Ts(e.serverSyncTree_,n[S].currentWriteId)),n[S].onComplete&&w.push(function(){return n[S].onComplete(null,!0,n[S].currentOutputSnapshotResolved)}),n[S].unwatcher()},x=0;x<n.length;x++)b(x);Ky(e,Vy(e.transactionQueueTree_,t)),Hy(e,e.transactionQueueTree_),fi(e.eventQueue_,t,y);for(var x=0;x<w.length;x++)$c(w[x])}else{if(g==="datastale")for(var x=0;x<n.length;x++)n[x].status===3?n[x].status=4:n[x].status=0;else{vn("transaction at "+v.toString()+" failed: "+g);for(var x=0;x<n.length;x++)n[x].status=4,n[x].abortReason=g}hc(e,t)}},a)}function hc(e,t){var n=G$(e,t),r=Yd(n),i=Q$(e,n);return XX(e,i,r),r}function XX(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var d=t[h],v=Yn(n,d.path),g=!1,y;if(W(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,y=d.abortReason,i=i.concat(Ts(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=DX)g=!0,y="maxretry",i=i.concat(Ts(e.serverSyncTree_,d.currentWriteId,!0));else{var w=WI(e,d.path,a);d.currentInputSnapshot=w;var b=t[h].update(w.val());if(b!==void 0){Xd("transaction failed: Data returned ",b,d.path);var x=lt(b),S=typeof b=="object"&&b!=null&&Vr(b,".priority");S||(x=x.updatePriority(w.getPriority()));var T=d.currentWriteId,C=Zd(e),k=jI(x,w,C);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=k,d.currentWriteId=Wy(e),a.splice(a.indexOf(T),1),i=i.concat(OI(e.serverSyncTree_,d.path,k,d.currentWriteId,d.applyLocally)),i=i.concat(Ts(e.serverSyncTree_,T,!0))}else g=!0,y="nodata",i=i.concat(Ts(e.serverSyncTree_,d.currentWriteId,!0))}fi(e.eventQueue_,n,i),i=[],g&&(t[h].status=2,function(D){setTimeout(D,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);Ky(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)$c(r[c]);Hy(e,e.transactionQueueTree_)}}function G$(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);n!==null&&Cu(r)===void 0;)r=Vy(r,n),t=He(t),n=ye(t);return r}function Q$(e,t){var n=[];return Y$(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function Y$(e,t,n){var r=Cu(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);By(t,function(s){Y$(e,s,n)})}function Ky(e,t){var n=Cu(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,$I(t,n.length>0?n:void 0)}By(t,function(s){Ky(e,s)})}function HI(e,t){var n=Yd(G$(e,t)),r=Vy(e.transactionQueueTree_,t);return SX(r,function(i){lE(e,i)}),lE(e,r),$$(r,function(i){lE(e,i)}),n}function lE(e,t){var n=Cu(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(W(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(W(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ts(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?$I(t,void 0):n.length=s+1,fi(e.eventQueue_,Yd(t),i);for(var a=0;a<r.length;a++)$c(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function ZX(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=en(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):vn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var pT=function(e,t){var n=eJ(e),r=n.namespace;n.domain==="firebase.com"&&uo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&uo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Y9();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gI(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Fe(n.pathString)}},eJ=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=JX(e.substring(d,v)));var g=ZX(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X$=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+jt(this.snapshot.exportVal())},e}(),J$=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z$=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tJ=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Xt;return BX(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){ti("OnDisconnect.remove",this._path);var t=new Xt;return QO(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){ti("OnDisconnect.set",this._path),co("OnDisconnect.set",t,this._path,!1);var n=new Xt;return QO(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){ti("OnDisconnect.setWithPriority",this._path),co("OnDisconnect.setWithPriority",t,this._path,!1),VI("OnDisconnect.setWithPriority",n);var r=new Xt;return zX(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){ti("OnDisconnect.update",this._path),B$("OnDisconnect.update",t,this._path);var n=new Xt;return qX(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return we(this._path)?null:wI(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ho(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=DO(this._queryParams),n=dI(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return DO(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=ve(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=_I(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+O7(this._path)},e}();function Gy(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Xs(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ro){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Vo)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==lo)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Qe){if(t!=null&&!ld(t)||n!=null&&!ld(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(e.getIndex()instanceof EI||e.getIndex()===SI,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Qy(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ho=function(e){Q(t,e);function t(n,r){return e.call(this,n,r,new y$,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=a$(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(di),Yy=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Fe(t),r=cu(this.ref,t);return new e(this._node.getChild(n),r,Qe)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,cu(n.ref,i),Qe))})},e.prototype.hasChild=function(t){var n=new Fe(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function e4(e,t){return e=ve(e),e._checkNotDeleted("ref"),t!==void 0?cu(e._root,t):e._root}function YO(e,t){e=ve(e),e._checkNotDeleted("refFromURL");var n=pT(t,e._repo.repoInfo_.nodeAdmin);z$("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&uo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),e4(e,n.path.toString())}function cu(e,t){return e=ve(e),ye(e._path)===null?RX("child","path",t):cd("child","path",t),new ho(e._repo,it(e._path,t))}function nJ(e,t){e=ve(e),ti("push",e._path),co("push",t,e._path,!0);var n=H$(e._repo),r=tY(n),i=cu(e,r),s=cu(e,r),a;return t!=null?a=KI(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function rJ(e){return ti("remove",e._path),KI(e,null)}function KI(e,t){e=ve(e),ti("set",e._path),co("set",t,e._path,!1);var n=new Xt;return qI(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function iJ(e,t){e=ve(e),ti("setPriority",e._path),VI("setPriority",t);var n=new Xt;return qI(e._repo,it(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function oJ(e,t,n){if(ti("setWithPriority",e._path),co("setWithPriority",t,e._path,!1),VI("setWithPriority",n),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Xt;return qI(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function sJ(e,t){B$("update",t,e._path);var n=new Xt;return $X(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function aJ(e){return e=ve(e),UX(e._repo,e).then(function(t){return new Yy(t,new ho(e._repo,e._path),e._queryParams.getIndex())})}var t4=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new X$("value",this,new Yy(t.snapshotNode,new ho(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new J$(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),n4=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new J$(this,t,n):null},e.prototype.createEvent=function(t,n){W(t.childName!=null,"Child events should have a childName.");var r=cu(new ho(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new X$(t.type,this,new Yy(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function ep(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(d,v){dT(e._repo,e,h),a(d,v)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new Z$(n,s||void 0),h=t==="value"?new t4(c):new n4(t,c);return WX(e._repo,e,h),function(){return dT(e._repo,e,h)}}function vT(e,t,n,r){return ep(e,"value",t,n,r)}function XO(e,t,n,r){return ep(e,"child_added",t,n,r)}function JO(e,t,n,r){return ep(e,"child_changed",t,n,r)}function ZO(e,t,n,r){return ep(e,"child_moved",t,n,r)}function eD(e,t,n,r){return ep(e,"child_removed",t,n,r)}function tD(e,t,n){var r=null,i=n?new Z$(n):null;t==="value"?r=new t4(i):t&&(r=new n4(t,i)),dT(e._repo,e,r)}var Fi=function(){function e(){}return e}(),r4=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){co("endAt",this._value,n._path,!0);var r=rT(n._queryParams,this._value,this._key);if(Qy(r),Xs(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function uJ(e,t){return Jd("endAt","key",t),new r4(e,t)}var lJ=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){co("endBefore",this._value,n._path,!1);var r=uY(n._queryParams,this._value,this._key);if(Qy(r),Xs(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function cJ(e,t){return Jd("endBefore","key",t),new lJ(e,t)}var i4=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){co("startAt",this._value,n._path,!0);var r=nT(n._queryParams,this._value,this._key);if(Qy(r),Xs(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function fJ(e,t){return e===void 0&&(e=null),Jd("startAt","key",t),new i4(e,t)}var hJ=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){co("startAfter",this._value,n._path,!1);var r=aY(n._queryParams,this._value,this._key);if(Qy(r),Xs(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new di(n._repo,n._path,r,n._orderByCalled)},t}(Fi);function dJ(e,t){return Jd("startAfter","key",t),new hJ(e,t)}var pJ=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(n._repo,n._path,oY(n._queryParams,this._limit),n._orderByCalled)},t}(Fi);function vJ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pJ(e)}var gJ=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new di(n._repo,n._path,sY(n._queryParams,this._limit),n._orderByCalled)},t}(Fi);function mJ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gJ(e)}var yJ=function(e){Q(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Gy(n,"orderByChild");var r=new Fe(this._path);if(we(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new EI(r),s=Dy(n._queryParams,i);return Xs(s),new di(n._repo,n._path,s,!0)},t}(Fi);function wJ(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cd("orderByChild","path",e),new yJ(e)}var _J=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Gy(n,"orderByKey");var r=Dy(n._queryParams,ro);return Xs(r),new di(n._repo,n._path,r,!0)},t}(Fi);function bJ(){return new _J}var EJ=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Gy(n,"orderByPriority");var r=Dy(n._queryParams,Qe);return Xs(r),new di(n._repo,n._path,r,!0)},t}(Fi);function SJ(){return new EJ}var TJ=function(e){Q(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Gy(n,"orderByValue");var r=Dy(n._queryParams,SI);return Xs(r),new di(n._repo,n._path,r,!0)},t}(Fi);function IJ(){return new TJ}var xJ=function(e){Q(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(co("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new r4(this._value,this._key)._apply(new i4(this._value,this._key)._apply(n))},t}(Fi);function CJ(e,t){return Jd("equalTo","key",t),new xJ(e,t)}function Ei(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=ve(e);try{for(var a=en(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}JY(ho);rX(ho);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kJ="FIREBASE_DATABASE_EMULATOR_HOST",gT={},o4=!1;function AJ(e,t,n,r){e.repoInfo_=new gI(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function s4(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||uo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qt("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=pT(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=W9[kJ]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=pT(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var d=i&&c?new Ih(Ih.OWNER):new o7(e.name,e.options,t);z$("Invalid Firebase Database URL",a),we(a.path)||uo("Database URL must point to the root of a Firebase Database (not including a child path).");var v=PJ(l,e,d,new i7(e.name,n));return new OJ(v,e)}function RJ(e,t){var n=gT[t];(!n||n[e.key]!==e)&&uo("Database "+t+"("+e.repoInfo_+") has already been deleted."),K$(e),delete n[e.key]}function PJ(e,t,n,r){var i=gT[t.name];i||(i={},gT[t.name]=i);var s=i[e.toURLString()];return s&&uo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new LX(e,o4,n,r),i[e.toURLString()]=s,s}function NJ(e){o4=e}var OJ=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(MX(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ho(this._repo,Oe())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(RJ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&uo("Cannot call "+t+" on a deleted database.")},e}();function DJ(e,t,n,r){r===void 0&&(r={}),e=ve(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&uo("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&uo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ih(Ih.OWNER);else if(r.mockUserToken){var a=IU(r.mockUserToken,e.app.options.projectId);s=new Ih(a)}AJ(i,t,n,s)}function LJ(e){e=ve(e),e._checkNotDeleted("goOffline"),K$(e._repo)}function MJ(e){e=ve(e),e._checkNotDeleted("goOnline"),HX(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jJ={".sv":"timestamp"};function FJ(){return jJ}function UJ(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $J=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function VJ(e,t,n){var r;if(e=ve(e),ti("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Xt,a=function(c,h,d){var v=null;c?s.reject(c):(v=new Yy(d,new ho(e._repo,e._path),Qe),s.resolve(new $J(h,v)))},l=vT(e,function(){});return QX(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BJ=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){le("OnDisconnect.cancel",0,1,arguments.length),Gt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){le("OnDisconnect.remove",0,1,arguments.length),Gt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){le("OnDisconnect.set",1,2,arguments.length),Gt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){le("OnDisconnect.setWithPriority",2,3,arguments.length),Gt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(le("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,vn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zJ=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return le("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ah=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return le("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return le("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return le("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return le("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return le("DataSnapshot.child",0,1,arguments.length),t=String(t),cd("DataSnapshot.child","path",t),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return le("DataSnapshot.hasChild",1,1,arguments.length),cd("DataSnapshot.hasChild","path",t),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return le("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return le("DataSnapshot.forEach",1,1,arguments.length),Gt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return le("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return le("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return le("DataSnapshot.ref",0,0,arguments.length),new Fa(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),a4=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;le("Query.on",2,4,arguments.length),Gt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(d,v){n.call(l.context,new Ah(s.database,d),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return vT(this._delegate,c,h),n;case"child_added":return XO(this._delegate,c,h),n;case"child_removed":return eD(this._delegate,c,h),n;case"child_changed":return JO(this._delegate,c,h),n;case"child_moved":return ZO(this._delegate,c,h),n;default:throw new Error(Er("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(le("Query.off",0,3,arguments.length),AX("Query.off",t),Gt("Query.off","callback",n,!0),vO("Query.off","context",r),n){var i=function(){};i.userCallback=n,i.context=r,tD(this._delegate,t,i)}else tD(this._delegate,t)},e.prototype.get=function(){var t=this;return aJ(this._delegate).then(function(n){return new Ah(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;le("Query.once",1,4,arguments.length),Gt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),l=new Xt,c=function(d,v){var g=new Ah(s.database,d);n&&n.call(a.context,g,v),l.resolve(g)};c.userCallback=n,c.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),l.reject(d)};switch(t){case"value":vT(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":XO(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":eD(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":JO(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":ZO(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Er("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return le("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ei(this._delegate,vJ(t)))},e.prototype.limitToLast=function(t){return le("Query.limitToLast",1,1,arguments.length),new e(this.database,Ei(this._delegate,mJ(t)))},e.prototype.orderByChild=function(t){return le("Query.orderByChild",1,1,arguments.length),new e(this.database,Ei(this._delegate,wJ(t)))},e.prototype.orderByKey=function(){return le("Query.orderByKey",0,0,arguments.length),new e(this.database,Ei(this._delegate,bJ()))},e.prototype.orderByPriority=function(){return le("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ei(this._delegate,SJ()))},e.prototype.orderByValue=function(){return le("Query.orderByValue",0,0,arguments.length),new e(this.database,Ei(this._delegate,IJ()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),le("Query.startAt",0,2,arguments.length),new e(this.database,Ei(this._delegate,fJ(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),le("Query.startAfter",0,2,arguments.length),new e(this.database,Ei(this._delegate,dJ(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),le("Query.endAt",0,2,arguments.length),new e(this.database,Ei(this._delegate,uJ(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),le("Query.endBefore",0,2,arguments.length),new e(this.database,Ei(this._delegate,cJ(t,n)))},e.prototype.equalTo=function(t,n){return le("Query.equalTo",1,2,arguments.length),new e(this.database,Ei(this._delegate,CJ(t,n)))},e.prototype.toString=function(){return le("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return le("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(le("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Gt(t,"cancel",i.cancel,!0),i.context=r,vO(t,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Er(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Fa(this.database,new ho(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Fa=function(e){Q(t,e);function t(n,r){var i=e.call(this,n,new di(r._repo,r._path,new y$,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return le("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return le("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,cu(this._delegate,n))},t.prototype.getParent=function(){le("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return le("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){le("Reference.set",1,2,arguments.length),Gt("Reference.set","onComplete",r,!0);var i=KI(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(le("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,vn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ti("Reference.update",this._delegate._path),Gt("Reference.update","onComplete",r,!0);var a=sJ(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){le("Reference.setWithPriority",2,3,arguments.length),Gt("Reference.setWithPriority","onComplete",i,!0);var s=oJ(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){le("Reference.remove",0,1,arguments.length),Gt("Reference.remove","onComplete",n,!0);var r=rJ(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;le("Reference.transaction",1,3,arguments.length),Gt("Reference.transaction","transactionUpdate",n,!1),Gt("Reference.transaction","onComplete",r,!0),PX("Reference.transaction","applyLocally",i);var a=VJ(this._delegate,n,{applyLocally:i}).then(function(l){return new zJ(l.committed,new Ah(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){le("Reference.setPriority",1,2,arguments.length),Gt("Reference.setPriority","onComplete",r,!0);var i=iJ(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;le("Reference.push",0,2,arguments.length),Gt("Reference.push","onComplete",r,!0);var s=nJ(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return ti("Reference.onDisconnect",this._delegate._path),new BJ(new tJ(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(a4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),DJ(this._delegate,t,n,r)},e.prototype.ref=function(t){if(le("database.ref",0,1,arguments.length),t instanceof Fa){var n=YO(this._delegate,t.toString());return new Fa(this,n)}else{var n=e4(this._delegate,t);return new Fa(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";le(n,1,1,arguments.length);var r=YO(this._delegate,t);return new Fa(this,r)},e.prototype.goOffline=function(){return le("database.goOffline",0,0,arguments.length),LJ(this._delegate)},e.prototype.goOnline=function(){return le("database.goOnline",0,0,arguments.length),MJ(this._delegate)},e.ServerValue={TIMESTAMP:FJ(),increment:function(t){return UJ(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qJ=function(){Pa.forceDisallow(),yI.forceAllow()},WJ=function(){yI.forceDisallow()},HJ=function(){return Pa.isAvailable()},KJ=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},GJ=function(e,t){KX(e._delegate._repo,t)},QJ=function(e,t){GX(e._delegate._repo,t)},YJ=function(e){return e._delegate._repo.dataUpdateCount},XJ=function(e,t){return jX(e._delegate._repo,t)};function JJ(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;MU(r);var c=new RU("auth-internal",new PU("database-standalone"));return c.setComponent(new Ln("auth-internal",function(){return i},"PRIVATE")),{instance:new km(s4(t,c,void 0,n,l),t),namespace:s}}var ZJ=Object.freeze({__proto__:null,forceLongPolling:qJ,forceWebSockets:WJ,isWebSocketsAvailable:HJ,setSecurityDebugCallback:KJ,stats:GJ,statsIncrementCounter:QJ,dataUpdateCount:YJ,interceptServerData:XJ,initStandalone:JJ});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eZ=Ya;Ya.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ya.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var tZ=i$,nZ=function(e){var t=Ya.prototype.put;return Ya.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Ya.prototype.put=t}},rZ=gI,iZ=function(e){return e._delegate._queryIdentifier},oZ=function(e){NJ(e)},sZ=Object.freeze({__proto__:null,DataConnection:eZ,RealTimeConnection:tZ,hijackHash:nZ,ConnectionTarget:rZ,queryIdentifier:iZ,forceRestClient:oZ});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZ=km.ServerValue;function uZ(e){MU(e.SDK_VERSION),e.INTERNAL.registerComponent(new Ln("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new km(s4(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Fa,Query:a4,Database:km,DataSnapshot:Ah,enableLogging:$U,INTERNAL:ZJ,ServerValue:aZ,TEST_ACCESS:sZ}).setMultipleInstances(!0)),e.registerVersion(H9,K9)}uZ(X);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mT=function(e,t){return mT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mT(e,t)};function lZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function u4(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var cZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,GI=GI||{},he=cZ||self;function Am(){}function yT(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xy(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fZ(e){return Object.prototype.hasOwnProperty.call(e,cE)&&e[cE]||(e[cE]=++hZ)}var cE="closure_uid_"+(1e9*Math.random()>>>0),hZ=0;function dZ(e,t,n){return e.call.apply(e.bind,arguments)}function pZ(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function gn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gn=dZ:gn=pZ,gn.apply(null,arguments)}function Gv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function _n(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function Js(){this.s=this.s,this.o=this.o}var vZ=0;Js.prototype.s=!1;Js.prototype.na=function(){!this.s&&(this.s=!0,this.M(),vZ!=0)&&fZ(this)};Js.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var l4=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},c4=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function gZ(e){e:{for(var t=uee,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function nD(e){return Array.prototype.concat.apply([],arguments)}function QI(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rm(e){return/^[\s\xa0]*$/.test(e)}var rD=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Gn(e,t){return e.indexOf(t)!=-1}function fE(e,t){return e<t?-1:e>t?1:0}var Qn;e:{var iD=he.navigator;if(iD){var oD=iD.userAgent;if(oD){Qn=oD;break e}}Qn=""}function YI(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function f4(e){var t={};for(var n in e)t[n]=e[n];return t}var sD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h4(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<sD.length;s++)n=sD[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function XI(e){return XI[" "](e),e}XI[" "]=Am;function mZ(e){var t=_Z;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var yZ=Gn(Qn,"Opera"),dc=Gn(Qn,"Trident")||Gn(Qn,"MSIE"),d4=Gn(Qn,"Edge"),wT=d4||dc,p4=Gn(Qn,"Gecko")&&!(Gn(Qn.toLowerCase(),"webkit")&&!Gn(Qn,"Edge"))&&!(Gn(Qn,"Trident")||Gn(Qn,"MSIE"))&&!Gn(Qn,"Edge"),wZ=Gn(Qn.toLowerCase(),"webkit")&&!Gn(Qn,"Edge");function v4(){var e=he.document;return e?e.documentMode:void 0}var Pm;e:{var hE="",dE=function(){var e=Qn;if(p4)return/rv:([^\);]+)(\)|;)/.exec(e);if(d4)return/Edge\/([\d\.]+)/.exec(e);if(dc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(wZ)return/WebKit\/(\S+)/.exec(e);if(yZ)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(dE&&(hE=dE?dE[1]:""),dc){var pE=v4();if(pE!=null&&pE>parseFloat(hE)){Pm=String(pE);break e}}Pm=hE}var _Z={};function bZ(){return mZ(function(){for(var e=0,t=rD(String(Pm)).split("."),n=rD("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=fE(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||fE(s[2].length==0,a[2].length==0)||fE(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var _T;if(he.document&&dc){var aD=v4();_T=aD||parseInt(Pm,10)||void 0}else _T=void 0;var EZ=_T,SZ=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{he.addEventListener("test",Am,t),he.removeEventListener("test",Am,t)}catch{}return e}();function Pn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};function fd(e,t){if(Pn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(p4){e:{try{XI(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:TZ[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fd.Z.h.call(this)}}_n(fd,Pn);var TZ={2:"touch",3:"pen",4:"mouse"};fd.prototype.h=function(){fd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jy="closure_listenable_"+(1e6*Math.random()|0),IZ=0;function xZ(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++IZ,this.ca=this.fa=!1}function Zy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function e0(e){this.src=e,this.g={},this.h=0}e0.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=ET(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new xZ(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function bT(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=l4(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zy(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ET(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var JI="closure_lm_"+(1e6*Math.random()|0),vE={};function g4(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)g4(e,t[s],n,r,i);return null}return n=w4(n),e&&e[Jy]?e.N(t,n,Xy(r)?!!r.capture:!!r,i):CZ(e,t,n,!1,r,i)}function CZ(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Xy(i)?!!i.capture:!!i,l=ex(e);if(l||(e[JI]=l=new e0(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=kZ(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)SZ||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(y4(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kZ(){function e(n){return t.call(e.src,e.listener,n)}var t=AZ;return e}function m4(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)m4(e,t[s],n,r,i);else r=Xy(r)?!!r.capture:!!r,n=w4(n),e&&e[Jy]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ET(s,n,r,i),-1<n&&(Zy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=ex(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ET(t,n,r,i)),(n=-1<e?t[e]:null)&&ZI(n))}function ZI(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Jy])bT(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(y4(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ex(t))?(bT(n,e),n.h==0&&(n.src=null,t[JI]=null)):Zy(e)}}}function y4(e){return e in vE?vE[e]:vE[e]="on"+e}function AZ(e,t){if(e.ca)e=!0;else{t=new fd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ZI(e),e=n.call(r,t)}return e}function ex(e){return e=e[JI],e instanceof e0?e:null}var gE="__closure_events_fn_"+(1e9*Math.random()>>>0);function w4(e){return typeof e=="function"?e:(e[gE]||(e[gE]=function(t){return e.handleEvent(t)}),e[gE])}function tn(){Js.call(this),this.i=new e0(this),this.P=this,this.I=null}_n(tn,Js);tn.prototype[Jy]=!0;tn.prototype.removeEventListener=function(e,t,n,r){m4(this,e,t,n,r)};function mn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Pn(t,e);else if(t instanceof Pn)t.target=t.target||e;else{var i=t;t=new Pn(r,e),h4(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Qv(a,r,!0,t)&&i}if(a=t.g=e,i=Qv(a,r,!0,t)&&i,i=Qv(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Qv(a,r,!1,t)&&i}tn.prototype.M=function(){if(tn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Zy(n[r]);delete e.g[t],e.h--}}this.I=null};tn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};tn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Qv(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,c=a.ia||a.src;a.fa&&bT(e.i,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var tx=he.JSON.stringify;function RZ(){var e=b4,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var PZ=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=_4.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),_4=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new NZ},function(e){return e.reset()}),NZ=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function OZ(e){he.setTimeout(function(){throw e},0)}function nx(e,t){ST||DZ(),TT||(ST(),TT=!0),b4.add(e,t)}var ST;function DZ(){var e=he.Promise.resolve(void 0);ST=function(){e.then(LZ)}}var TT=!1,b4=new PZ;function LZ(){for(var e;e=RZ();){try{e.h.call(e.g)}catch(n){OZ(n)}var t=_4;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}TT=!1}function t0(e,t){tn.call(this),this.h=e||1,this.g=t||he,this.j=gn(this.kb,this),this.l=Date.now()}_n(t0,tn);Z=t0.prototype;Z.da=!1;Z.S=null;Z.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mn(this,"tick"),this.da&&(rx(this),this.start()))}};Z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rx(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}Z.M=function(){t0.Z.M.call(this),rx(this),delete this.g};function ix(e,t,n){if(typeof e=="function")n&&(e=gn(e,n));else if(e&&typeof e.handleEvent=="function")e=gn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:he.setTimeout(e,t||0)}function E4(e){e.g=ix(function(){e.g=null,e.i&&(e.i=!1,E4(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var MZ=function(e){lZ(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:E4(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Js);function hd(e){Js.call(this),this.h=e,this.g={}}_n(hd,Js);var uD=[];function S4(e,t,n,r){Array.isArray(n)||(n&&(uD[0]=n.toString()),n=uD);for(var i=0;i<n.length;i++){var s=g4(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function T4(e){YI(e.g,function(t,n){this.g.hasOwnProperty(n)&&ZI(t)},e),e.g={}}hd.prototype.M=function(){hd.Z.M.call(this),T4(this)};hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function n0(){this.g=!0}n0.prototype.Aa=function(){this.g=!1};function jZ(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function FZ(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Ml(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$Z(e,n)+(r?" "+r:"")})}function UZ(e,t){e.info(function(){return"TIMEOUT: "+t})}n0.prototype.info=function(){};function $Z(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return tx(n)}catch{return t}}var ku={},lD=null;function r0(){return lD=lD||new tn}ku.Ma="serverreachability";function I4(e){Pn.call(this,ku.Ma,e)}_n(I4,Pn);function dd(e){var t=r0();mn(t,new I4(t))}ku.STAT_EVENT="statevent";function x4(e,t){Pn.call(this,ku.STAT_EVENT,e),this.stat=t}_n(x4,Pn);function Xn(e){var t=r0();mn(t,new x4(t,e))}ku.Na="timingevent";function C4(e,t){Pn.call(this,ku.Na,e),this.size=t}_n(C4,Pn);function tp(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){e()},t)}var i0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},k4={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ox(){}ox.prototype.h=null;function cD(e){return e.h||(e.h=e.i())}function A4(){}var np={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sx(){Pn.call(this,"d")}_n(sx,Pn);function ax(){Pn.call(this,"c")}_n(ax,Pn);var IT;function o0(){}_n(o0,ox);o0.prototype.g=function(){return new XMLHttpRequest};o0.prototype.i=function(){return{}};IT=new o0;function rp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hd(this),this.P=VZ,e=wT?125:void 0,this.W=new t0(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new R4}function R4(){this.i=null,this.g="",this.h=!1}var VZ=45e3,xT={},Nm={};Z=rp.prototype;Z.setTimeout=function(e){this.P=e};function CT(e,t,n){e.K=1,e.v=a0(Bo(t)),e.s=n,e.U=!0,P4(e,null)}function P4(e,t){e.F=Date.now(),ip(e),e.A=Bo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),F4(n.h,"t",r),e.C=0,n=e.l.H,e.h=new R4,e.g=iV(e.l,n?t:null,!e.s),0<e.O&&(e.L=new MZ(gn(e.Ia,e,e.g),e.O)),S4(e.V,e.g,"readystatechange",e.gb),t=e.H?f4(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),dd(),jZ(e.j,e.u,e.A,e.m,e.X,e.s)}Z.gb=function(e){e=e.target;var t=this.L;t&&Po(e)==3?t.l():this.Ia(e)};Z.Ia=function(e){try{if(e==this.g)e:{var t=Po(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||wT||this.g&&(this.h.h||this.g.ga()||pD(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?dd(3):dd(2)),s0(this);var i=this.g.ba();this.N=i;t:if(N4(this)){var s=pD(this.g);e="";var a=s.length,l=Po(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ua(this),Rh(this);var c="";break t}this.h.i=new he.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=i==200,FZ(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rm(h)){var v=h;break t}}v=null}if(i=v)Ml(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kT(this,i);else{this.i=!1,this.o=3,Xn(12),Ua(this),Rh(this);break e}}this.U?(O4(this,t,c),wT&&this.i&&t==3&&(S4(this.V,this.W,"tick",this.fb),this.W.start())):(Ml(this.j,this.m,c,null),kT(this,c)),t==4&&Ua(this),this.i&&!this.I&&(t==4?eV(this.l,this):(this.i=!1,ip(this)))}else i==400&&0<c.indexOf("Unknown SID")?(this.o=3,Xn(12)):(this.o=0,Xn(13)),Ua(this),Rh(this)}}}catch{}finally{}};function N4(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function O4(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=BZ(e,n),i==Nm){t==4&&(e.o=4,Xn(14),r=!1),Ml(e.j,e.m,null,"[Incomplete Response]");break}else if(i==xT){e.o=4,Xn(15),Ml(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Ml(e.j,e.m,i,null),kT(e,i);N4(e)&&i!=Nm&&i!=xT&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Xn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gx(t),t.L=!0,Xn(11))):(Ml(e.j,e.m,n,"[Invalid Chunked Response]"),Ua(e),Rh(e))}Z.fb=function(){if(this.g){var e=Po(this.g),t=this.g.ga();this.C<t.length&&(s0(this),O4(this,e,t),this.i&&e!=4&&ip(this))}};function BZ(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Nm:(n=Number(t.substring(n,r)),isNaN(n)?xT:(r+=1,r+n>t.length?Nm:(t=t.substr(r,n),e.C=r+n,t)))}Z.cancel=function(){this.I=!0,Ua(this)};function ip(e){e.Y=Date.now()+e.P,D4(e,e.P)}function D4(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=tp(gn(e.eb,e),t)}function s0(e){e.B&&(he.clearTimeout(e.B),e.B=null)}Z.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(UZ(this.j,this.A),this.K!=2&&(dd(),Xn(17)),Ua(this),this.o=2,Rh(this)):D4(this,this.Y-e)};function Rh(e){e.l.G==0||e.I||eV(e.l,e)}function Ua(e){s0(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,rx(e.W),T4(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function kT(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||AT(n.i,e))){if(n.I=e.N,!e.J&&AT(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Mm(n),c0(n);else break e;vx(n),Xn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=tp(gn(n.ab,n),6e3));if(1>=V4(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else $a(n,11)}else if((e.J||n.g==e)&&Mm(n),!Rm(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var d=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=r.i;!v.g&&(Gn(d,"spdy")||Gn(d,"quic")||Gn(d,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(cx(v,v.h),v.h=null))}if(r.D){var g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,rt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=rV(r,r.H?r.la:null,r.W),y.J){B4(r.i,y);var w=y,b=r.K;b&&w.setTimeout(b),w.B&&(s0(w),ip(w)),r.g=y}else J4(r);0<n.l.length&&f0(n)}else s[0]!="stop"&&s[0]!="close"||$a(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?$a(n,7):px(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}dd(4)}catch{}}function zZ(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(yT(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function ux(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yT(e)||typeof e=="string")c4(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(yT(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=zZ(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function qc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof qc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Z=qc.prototype;Z.R=function(){lx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};Z.T=function(){return lx(this),this.g.concat()};function lx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];fu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],fu(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}Z.get=function(e,t){return fu(this.h,e)?this.h[e]:t};Z.set=function(e,t){fu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};Z.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function fu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var L4=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qZ(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof hu){this.g=t!==void 0?t:e.g,Om(this,e.j),this.s=e.s,Dm(this,e.i),Lm(this,e.m),this.l=e.l,t=e.h;var n=new pd;n.i=t.i,t.g&&(n.g=new qc(t.g),n.h=t.h),fD(this,n),this.o=e.o}else e&&(n=String(e).match(L4))?(this.g=!!t,Om(this,n[1]||"",!0),this.s=Ph(n[2]||""),Dm(this,n[3]||"",!0),Lm(this,n[4]),this.l=Ph(n[5]||"",!0),fD(this,n[6]||"",!0),this.o=Ph(n[7]||"")):(this.g=!!t,this.h=new pd(null,this.g))}hu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fh(t,hD,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(fh(t,hD,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(fh(n,n.charAt(0)=="/"?QZ:GZ,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fh(n,XZ)),e.join("")};function Bo(e){return new hu(e)}function Om(e,t,n){e.j=n?Ph(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Dm(e,t,n){e.i=n?Ph(t,!0):t}function Lm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fD(e,t,n){t instanceof pd?(e.h=t,JZ(e.h,e.g)):(n||(t=fh(t,YZ)),e.h=new pd(t,e.g))}function rt(e,t,n){e.h.set(t,n)}function a0(e){return rt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function WZ(e){return e instanceof hu?Bo(e):new hu(e,void 0)}function HZ(e,t,n,r){var i=new hu(null,void 0);return e&&Om(i,e),t&&Dm(i,t),n&&Lm(i,n),r&&(i.l=r),i}function Ph(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fh(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,KZ),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function KZ(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var hD=/[#\/\?@]/g,GZ=/[#\?:]/g,QZ=/[#\?]/g,YZ=/[#\?@]/g,XZ=/#/g;function pd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zs(e){e.g||(e.g=new qc,e.h=0,e.i&&qZ(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Z=pd.prototype;Z.add=function(e,t){Zs(this),this.i=null,e=Wc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function M4(e,t){Zs(e),t=Wc(e,t),fu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,fu(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&lx(e)))}function j4(e,t){return Zs(e),t=Wc(e,t),fu(e.g.h,t)}Z.forEach=function(e,t){Zs(this),this.g.forEach(function(n,r){c4(n,function(i){e.call(t,i,r,this)},this)},this)};Z.T=function(){Zs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Z.R=function(e){Zs(this);var t=[];if(typeof e=="string")j4(this,e)&&(t=nD(t,this.g.get(Wc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nD(t,e[n])}return t};Z.set=function(e,t){return Zs(this),this.i=null,e=Wc(this,e),j4(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Z.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function F4(e,t,n){M4(e,t),0<n.length&&(e.i=null,e.g.set(Wc(e,t),QI(n)),e.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function Wc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function JZ(e,t){t&&!e.j&&(Zs(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(M4(this,r),F4(this,i,n))},e)),e.j=t}var ZZ=function(){function e(t,n){this.h=t,this.g=n}return e}();function U4(e){this.l=e||eee,he.PerformanceNavigationTiming?(e=he.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eee=10;function $4(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function V4(e){return e.h?1:e.g?e.g.size:0}function AT(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function cx(e,t){e.g?e.g.add(t):e.h=t}function B4(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}U4.prototype.cancel=function(){var e,t;if(this.i=z4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=u4(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function z4(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=u4(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return QI(e.i)}function fx(){}fx.prototype.stringify=function(e){return he.JSON.stringify(e,void 0)};fx.prototype.parse=function(e){return he.JSON.parse(e,void 0)};function tee(){this.g=new fx}function nee(e,t,n){var r=n||"";try{ux(e,function(i,s){var a=i;Xy(i)&&(a=tx(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ree(e,t){var n=new n0;if(he.Image){var r=new Image;r.onload=Gv(Yv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Gv(Yv,n,r,"TestLoadImage: error",!1,t),r.onabort=Gv(Yv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gv(Yv,n,r,"TestLoadImage: timeout",!1,t),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Yv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function op(e){this.l=e.$b||null,this.j=e.ib||!1}_n(op,ox);op.prototype.g=function(){return new u0(this.l,this.j)};op.prototype.i=function(e){return function(){return e}}({});function u0(e,t){tn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=hx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n(u0,tn);var hx=0;Z=u0.prototype;Z.open=function(e,t){if(this.readyState!=hx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vd(this)};Z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||he).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sp(this)),this.readyState=hx};Z.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vd(this)),this.g&&(this.readyState=3,vd(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q4(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function q4(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}Z.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sp(this):vd(this),this.readyState==3&&q4(this)}};Z.Ua=function(e){this.g&&(this.response=this.responseText=e,sp(this))};Z.Ta=function(e){this.g&&(this.response=e,sp(this))};Z.ha=function(){this.g&&sp(this)};function sp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vd(e)}Z.setRequestHeader=function(e,t){this.v.append(e,t)};Z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function vd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(u0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var iee=he.JSON.parse;function Rt(e){tn.call(this),this.headers=new qc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=W4,this.K=this.L=!1}_n(Rt,tn);var W4="",oee=/^https?$/i,see=["POST","PUT"];Z=Rt.prototype;Z.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IT.g(),this.C=this.u?cD(this.u):cD(IT),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){dD(this,s);return}e=n||"";var i=new qc(this.headers);r&&ux(r,function(s,a){i.set(a,s)}),r=gZ(i.T()),n=he.FormData&&e instanceof he.FormData,!(0<=l4(see,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{G4(this),0<this.B&&((this.K=aee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=ix(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){dD(this,s)}};function aee(e){return dc&&bZ()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function uee(e){return e.toLowerCase()=="content-type"}Z.pa=function(){typeof GI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))};function dD(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,H4(e),l0(e)}function H4(e){e.D||(e.D=!0,mn(e,"complete"),mn(e,"error"))}Z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mn(this,"complete"),mn(this,"abort"),l0(this))};Z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),l0(this,!0)),Rt.Z.M.call(this)};Z.Fa=function(){this.s||(this.F||this.v||this.l?K4(this):this.cb())};Z.cb=function(){K4(this)};function K4(e){if(e.h&&typeof GI<"u"&&(!e.C[1]||Po(e)!=4||e.ba()!=2)){if(e.v&&Po(e)==4)ix(e.Fa,0,e);else if(mn(e,"readystatechange"),Po(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(L4)[1]||null;if(!s&&he.self&&he.self.location){var a=he.self.location.protocol;s=a.substr(0,a.length-1)}i=!oee.test(s?s.toLowerCase():"")}r=i}if(r)mn(e,"complete"),mn(e,"success");else{e.m=6;try{var l=2<Po(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",H4(e)}}finally{l0(e)}}}}function l0(e,t){if(e.g){G4(e);var n=e.g,r=e.C[0]?Am:null;e.g=null,e.C=null,t||mn(e,"ready");try{n.onreadystatechange=r}catch{}}}function G4(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(he.clearTimeout(e.A),e.A=null)}function Po(e){return e.g?e.g.readyState:0}Z.ba=function(){try{return 2<Po(this)?this.g.status:-1}catch{return-1}};Z.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),iee(t)}};function pD(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case W4:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}Z.Da=function(){return this.m};Z.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function lee(e){var t="";return YI(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function dx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lee(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):rt(e,t,n))}function Jf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Q4(e){this.za=0,this.l=[],this.h=new n0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jf("baseRetryDelayMs",5e3,e),this.$a=Jf("retryDelaySeedMs",1e4,e),this.Ya=Jf("forwardChannelMaxRetries",2,e),this.ra=Jf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new U4(e&&e.concurrentRequestLimit),this.Ca=new tee,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}Z=Q4.prototype;Z.ma=8;Z.G=1;function px(e){if(Y4(e),e.G==3){var t=e.V++,n=Bo(e.F);rt(n,"SID",e.J),rt(n,"RID",t),rt(n,"TYPE","terminate"),ap(e,n),t=new rp(e,e.h,t,void 0),t.K=2,t.v=a0(Bo(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(t.v.toString(),"")),!n&&he.Image&&(new Image().src=t.v,n=!0),n||(t.g=iV(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ip(t)}nV(e)}Z.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function c0(e){e.g&&(gx(e),e.g.cancel(),e.g=null)}function Y4(e){c0(e),e.u&&(he.clearTimeout(e.u),e.u=null),Mm(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&he.clearTimeout(e.m),e.m=null)}function mE(e,t){e.l.push(new ZZ(e.Za++,t)),e.G==3&&f0(e)}function f0(e){$4(e.i)||e.m||(e.m=!0,nx(e.Ha,e),e.C=0)}function cee(e,t){return V4(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=tp(gn(e.Ha,e,t),tV(e,e.C)),e.C++,!0)}Z.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new rp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=f4(n),h4(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=X4(this,t,r),i=Bo(this.F),rt(i,"RID",e),rt(i,"CVER",22),this.D&&rt(i,"X-HTTP-Session-Id",this.D),ap(this,i),this.o&&n&&dx(i,this.o,n),cx(this.i,t),this.Ra&&rt(i,"TYPE","init"),this.ja?(rt(i,"$req",r),rt(i,"SID","null"),t.$=!0,CT(t,i,null)):CT(t,i,r),this.G=2}}else this.G==3&&(e?vD(this,e):this.l.length==0||$4(this.i)||vD(this))};function vD(e,t){var n;t?n=t.m:n=e.V++;var r=Bo(e.F);rt(r,"SID",e.J),rt(r,"RID",n),rt(r,"AID",e.U),ap(e,r),e.o&&e.s&&dx(r,e.o,e.s),n=new rp(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=X4(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cx(e.i,n),CT(n,r,t)}function ap(e,t){e.j&&ux({},function(n,r){rt(t,r,n)})}function X4(e,t,n){n=Math.min(e.l.length,n);var r=e.j?gn(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].h,d=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),l=!1;else try{nee(d,a,"req"+h+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function J4(e){e.g||e.u||(e.Y=1,nx(e.Ga,e),e.A=0)}function vx(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=tp(gn(e.Ga,e),tV(e,e.A)),e.A++,!0)}Z.Ga=function(){if(this.u=null,Z4(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tp(gn(this.bb,this),e)}};Z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Xn(10),c0(this),Z4(this))};function gx(e){e.B!=null&&(he.clearTimeout(e.B),e.B=null)}function Z4(e){e.g=new rp(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Bo(e.oa);rt(t,"RID","rpc"),rt(t,"SID",e.J),rt(t,"CI",e.N?"0":"1"),rt(t,"AID",e.U),ap(e,t),rt(t,"TYPE","xmlhttp"),e.o&&e.s&&dx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=a0(Bo(t)),n.s=null,n.U=!0,P4(n,e)}Z.ab=function(){this.v!=null&&(this.v=null,c0(this),vx(this),Xn(19))};function Mm(e){e.v!=null&&(he.clearTimeout(e.v),e.v=null)}function eV(e,t){var n=null;if(e.g==t){Mm(e),gx(e),e.g=null;var r=2}else if(AT(e.i,t))n=t.D,B4(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=r0(),mn(r,new C4(r,n)),f0(e)}else J4(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&cee(e,t)||r==2&&vx(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$a(e,5);break;case 4:$a(e,10);break;case 3:$a(e,6);break;default:$a(e,2)}}}function tV(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $a(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=gn(e.jb,e);n||(n=new hu("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Om(n,"https"),a0(n)),ree(n.toString(),r)}else Xn(2);e.G=0,e.j&&e.j.va(t),nV(e),Y4(e)}Z.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Xn(2)):(this.h.info("Failed to ping google.com"),Xn(1))};function nV(e){e.G=0,e.I=-1,e.j&&((z4(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,QI(e.l),e.l.length=0),e.j.ua())}function rV(e,t,n){var r=WZ(n);if(r.i!="")t&&Dm(r,t+"."+r.i),Lm(r,r.m);else{var i=he.location;r=HZ(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&YI(e.aa,function(s,a){rt(r,a,s)}),t=e.D,n=e.sa,t&&n&&rt(r,t,n),rt(r,"VER",e.ma),ap(e,r),r}function iV(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Rt(new op({ib:!0})):new Rt(e.qa),t.L=e.H,t}function oV(){}Z=oV.prototype;Z.xa=function(){};Z.wa=function(){};Z.va=function(){};Z.ua=function(){};Z.Oa=function(){};function jm(){if(dc&&!(10<=Number(EZ)))throw Error("Environmental error: no available transport.")}jm.prototype.g=function(e,t){return new zr(e,t)};function zr(e,t){tn.call(this),this.g=new Q4(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rm(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Hc(this)}_n(zr,tn);zr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),nx(gn(e.hb,e,t))),Xn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=rV(e,null,e.W),f0(e)};zr.prototype.close=function(){px(this.g)};zr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,mE(this.g,t)}else this.v?(t={},t.__data__=tx(e),mE(this.g,t)):mE(this.g,e)};zr.prototype.M=function(){this.g.j=null,delete this.j,px(this.g),delete this.g,zr.Z.M.call(this)};function sV(e){sx.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}_n(sV,sx);function aV(){ax.call(this),this.status=1}_n(aV,ax);function Hc(e){this.g=e}_n(Hc,oV);Hc.prototype.xa=function(){mn(this.g,"a")};Hc.prototype.wa=function(e){mn(this.g,new sV(e))};Hc.prototype.va=function(e){mn(this.g,new aV)};Hc.prototype.ua=function(){mn(this.g,"b")};jm.prototype.createWebChannel=jm.prototype.g;zr.prototype.send=zr.prototype.u;zr.prototype.open=zr.prototype.m;zr.prototype.close=zr.prototype.close;i0.NO_ERROR=0;i0.TIMEOUT=8;i0.HTTP_ERROR=6;k4.COMPLETE="complete";A4.EventType=np;np.OPEN="a";np.CLOSE="b";np.ERROR="c";np.MESSAGE="d";tn.prototype.listen=tn.prototype.N;Rt.prototype.listenOnce=Rt.prototype.O;Rt.prototype.getLastError=Rt.prototype.La;Rt.prototype.getLastErrorCode=Rt.prototype.Da;Rt.prototype.getStatus=Rt.prototype.ba;Rt.prototype.getResponseJson=Rt.prototype.Qa;Rt.prototype.getResponseText=Rt.prototype.ga;Rt.prototype.send=Rt.prototype.ea;var fee=function(){return new jm},hee=function(){return r0()},yE=i0,dee=k4,pee=ku,gD={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vee=op,Xv=A4,gee=Rt,mee={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Mr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Q(t,e),t}(Error),Di=new Tu("@firebase/firestore");function RT(){return Di.logLevel}function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=be.DEBUG){var r=t.map(mx);Di.debug.apply(Di,me(["Firestore (8.8.1): "+e],r))}}function kt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=be.ERROR){var r=t.map(mx);Di.error.apply(Di,me(["Firestore (8.8.1): "+e],r))}}function gd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Di.logLevel<=be.WARN){var r=t.map(mx);Di.warn.apply(Di,me(["Firestore (8.8.1): "+e],r))}}function mx(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw kt(t),new Error(t)}function ce(e,t){e||ie()}function G(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uV=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=yee(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Te(e,t){return e<t?-1:e>t?1:0}function pc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function lV(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Te(this.nanoseconds,t.nanoseconds):Te(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Sr(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Au(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cV(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fV=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ie(),r===void 0?r=t.length-n:r>t.length-n&&ie(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),De=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new B(F.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(fV),wee=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ji=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return wee.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new B(F.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new B(F.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new B(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new B(F.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(fV),vc=function(){function e(t){this.fields=t,t.sort(ji.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return pc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Zn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Te(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Zn.EMPTY_BYTE_STRING=new Zn("");var _ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(e){if(ce(!!e),typeof e=="string"){var t=0,n=_ee.exec(e);if(ce(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gc(e){return typeof e=="string"?Zn.fromBase64String(e):Zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hV(e){var t=e.mapValue.fields.__previous_value__;return yx(t)?hV(t):t}function md(e){var t=Ws(e.mapValue.fields.__local_write_time__.timestampValue);return new Sr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){return e==null}function Fm(e){return e===0&&1/e==-1/0}function dV(e){return typeof e=="number"&&Number.isInteger(e)&&!Fm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(De.fromString(t))},e.fromName=function(t){return new e(De.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&De.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return De.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new De(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yx(e)?4:10:ie()}function fo(e,t){var n=du(e);if(n!==du(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return md(e).isEqual(md(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Ws(r.timestampValue),a=Ws(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return gc(r.bytesValue).isEqual(gc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return It(r.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(r.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return It(r.integerValue)===It(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=It(r.doubleValue),a=It(i.doubleValue);return s===a?Fm(s)===Fm(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return pc(e.arrayValue.values||[],t.arrayValue.values||[],fo);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(mD(s)!==mD(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!fo(s[l],a[l])))return!1;return!0}(e,t);default:return ie()}}function yd(e,t){return(e.values||[]).find(function(n){return fo(n,t)})!==void 0}function mc(e,t){var n=du(e),r=du(t);if(n!==r)return Te(n,r);switch(n){case 0:return 0;case 1:return Te(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=It(i.integerValue||i.doubleValue),l=It(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return yD(e.timestampValue,t.timestampValue);case 4:return yD(md(e),md(t));case 5:return Te(e.stringValue,t.stringValue);case 6:return function(i,s){var a=gc(i),l=gc(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Te(a[c],l[c]);if(h!==0)return h}return Te(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Te(It(i.latitude),It(s.latitude));return a!==0?a:Te(It(i.longitude),It(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=mc(a[c],l[c]);if(h)return h}return Te(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var d=0;d<l.length&&d<h.length;++d){var v=Te(l[d],h[d]);if(v!==0)return v;var g=mc(a[l[d]],c[h[d]]);if(g!==0)return g}return Te(l.length,h.length)}(e.mapValue,t.mapValue);default:throw ie()}}function yD(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Te(e,t);var n=Ws(e),r=Ws(t),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function wx(e){return PT(e)}function PT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Ws(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oe.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=PT(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+PT(r.fields[c])}return i+"}"}(e.mapValue):ie();var t,n}function Um(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function NT(e){return!!e&&"integerValue"in e}function _x(e){return!!e&&"arrayValue"in e}function wD(e){return!!e&&"nullValue"in e}function _D(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ag(e){return!!e&&"mapValue"in e}function Nh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Au(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=Nh(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nh(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Ag(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nh(n)},e.prototype.setAll=function(t){var n=this,r=ji.emptyPath(),i={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=c.popLast()}l?i[c.lastSegment()]=Nh(l):s.push(c.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Ag(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return fo(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Ag(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Au(n,function(l,c){return t[l]=c});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(Nh(this.value))},e}();function pV(e){var t=[];return Au(e.fields,function(n,r){var i=new ji([n]);if(Ag(r)){var s=pV(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new vc(t)}var wn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,_e.min(),Dr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Dr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Dr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),bee=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new bee(e,t,n,r,i,s,a)}function up(e){var t=G(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+wx(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Ru(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Vm(t.startAt)),t.endAt&&(n+="|ub:",n+=Vm(t.endAt)),t.h=n}return t.h}function h0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Aee(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!fo(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!SD(e.startAt,t.startAt)&&SD(e.endAt,t.endAt)}function $m(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var jr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return Q(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Eee(n,r,i):r==="array-contains"?new Iee(n,i):r==="in"?new xee(n,i):r==="not-in"?new Cee(n,i):r==="array-contains-any"?new kee(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new See(n,i):new Tee(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(mc(r,this.value)):r!==null&&du(this.value)===du(r)&&this.m(mc(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ie()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Eee=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=oe.fromName(i.referenceValue),s}return Q(t,e),t.prototype.matches=function(n){var r=oe.comparator(n.key,this.key);return this.m(r)},t}(jr),See=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=vV("in",r),i}return Q(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(jr),Tee=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=vV("not-in",r),i}return Q(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(jr);function vV(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return oe.fromName(r.referenceValue)})}var Iee=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Q(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return _x(r)&&yd(r.arrayValue,this.value)},t}(jr),xee=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Q(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&yd(this.value.arrayValue,r)},t}(jr),Cee=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Q(t,e),t.prototype.matches=function(n){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!yd(this.value.arrayValue,r)},t}(jr),kee=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Q(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!_x(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return yd(r.value.arrayValue,s)})},t}(jr),wd=function(e,t){this.position=e,this.before=t};function Vm(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return wx(t)}).join(",")}var Wl=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function Aee(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ED(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?oe.comparator(oe.fromName(a.referenceValue),n.key):mc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function SD(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function gV(e,t,n,r,i,s,a,l){return new Ko(e,t,n,r,i,s,a,l)}function Kc(e){return new Ko(e)}function Rg(e){return!Ru(e.limit)&&e.limitType==="F"}function Bm(e){return!Ru(e.limit)&&e.limitType==="L"}function bx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ex(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Sx(e){return e.collectionGroup!==null}function yc(e){var t=G(e);if(t.p===null){t.p=[];var n=Ex(t),r=bx(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Wl(n)),t.p.push(new Wl(ji.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Wl(ji.keyField(),c))}}}return t.p}function hi(e){var t=G(e);if(!t.T)if(t.limitType==="F")t.T=bD(t.path,t.collectionGroup,yc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=yc(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Wl(s.field,a))}var l=t.endAt?new wd(t.endAt.position,!t.endAt.before):null,c=t.startAt?new wd(t.startAt.position,!t.startAt.before):null;t.T=bD(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function mV(e,t,n){return new Ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lp(e,t){return h0(hi(e),hi(t))&&e.limitType===t.limitType}function yV(e){return up(hi(e))+"|lt:"+e.limitType}function OT(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+wx(i.value);var i}).join(", ")+"]"),Ru(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Vm(t.startAt)),t.endAt&&(n+=", endAt: "+Vm(t.endAt)),"Target("+n+")"}(hi(e))+"; limitType="+e.limitType+")"}function cp(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!ED(n.startAt,yc(n),r))&&(!n.endAt||!ED(n.endAt,yc(n),r))}(e,t)}function wV(e){return function(t,n){for(var r=!1,i=0,s=yc(e);i<s.length;i++){var a=s[i],l=Ree(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Ree(e,t,n){var r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?mc(l,c):ie()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(t)?"-0":t}}function bV(e){return{integerValue:""+e}}function EV(e,t){return dV(t)?bV(t):_V(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d0=function(){this._=void 0};function Pee(e,t,n){return e instanceof wc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof pu?TV(e,t):e instanceof vu?IV(e,t):function(r,i){var s=SV(r,i),a=TD(s)+TD(r.A);return NT(s)&&NT(r.A)?bV(a):_V(r.R,a)}(e,t)}function Nee(e,t,n){return e instanceof pu?TV(e,t):e instanceof vu?IV(e,t):n}function SV(e,t){return e instanceof _c?NT(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var wc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t}(d0),pu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Q(t,e),t}(d0);function TV(e,t){for(var n=xV(t),r=function(a){n.some(function(l){return fo(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var vu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Q(t,e),t}(d0);function IV(e,t){for(var n=xV(t),r=function(a){n=n.filter(function(l){return!fo(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var _c=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return Q(t,e),t}(d0);function TD(e){return It(e.integerValue||e.doubleValue)}function xV(e){return _x(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=function(e,t){this.field=e,this.transform=t},Oee=function(e,t){this.version=e,this.transformResults=t},Rn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Pg(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var p0=function(){};function Dee(e,t,n){e instanceof hp?function(r,i,s){var a=r.value.clone(),l=CD(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ea?function(r,i,s){if(Pg(r.precondition,i)){var a=CD(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(CV(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function DT(e,t,n){e instanceof hp?function(r,i,s){if(Pg(r.precondition,i)){var a=r.value.clone(),l=kD(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(xD(i),a).setHasLocalMutations()}}(e,t,n):e instanceof ea?function(r,i,s){if(Pg(r.precondition,i)){var a=kD(r.fieldTransforms,s,i),l=i.data;l.setAll(CV(r)),l.setAll(a),i.convertToFoundDocument(xD(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Pg(r.precondition,i)&&i.convertToNoDocument(_e.min())}(e,t)}function Lee(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=SV(s.transform,a||null);l!=null&&(n==null&&(n=Dr.empty()),n.set(s.field,l))}return n||null}function ID(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&pc(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof pu&&h instanceof pu||c instanceof vu&&h instanceof vu?pc(c.elements,h.elements,fo):c instanceof _c&&h instanceof _c?fo(c.A,h.A):c instanceof wc&&h instanceof wc}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xD(e){return e.isFoundDocument()?e.version:_e.min()}var hp=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return Q(t,e),t}(p0),ea=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Q(t,e),t}(p0);function CV(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function CD(e,t,n){var r=new Map;ce(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,Nee(a,l,n[i]))}return r}function kD(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,Pee(l,c,t))}return r}var Tt,Ae,dp=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Q(t,e),t}(p0),Tx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Q(t,e),t}(p0),Mee=function(e){this.count=e};function kV(e){switch(e){case F.OK:return ie();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ie()}}function AV(e){if(e===void 0)return kt("GRPC error has no .code"),F.UNKNOWN;switch(e){case Tt.OK:return F.OK;case Tt.CANCELLED:return F.CANCELLED;case Tt.UNKNOWN:return F.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return F.INTERNAL;case Tt.UNAVAILABLE:return F.UNAVAILABLE;case Tt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Tt.NOT_FOUND:return F.NOT_FOUND;case Tt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Tt.ABORTED:return F.ABORTED;case Tt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Tt.DATA_LOSS:return F.DATA_LOSS;default:return ie()}}(Ae=Tt||(Tt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function e(t,n){this.comparator=t,this.root=n||ms.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ms.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ms.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Jv(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Jv(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Jv(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Jv(this.root,t,this.comparator,!0)},e}(),Jv=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ms=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();var t=this.left.check();if(t!==this.right.check())throw ie();return t+(this.isRed()?0:1)},e}();ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1,ms.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ie()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ms(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t=function(){function e(t){this.comparator=t,this.data=new jn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new AD(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new AD(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),AD=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),jee=new jn(oe.comparator);function si(){return jee}var Fee=new jn(oe.comparator);function LT(){return Fee}var Uee=new jn(oe.comparator);function RV(){return Uee}var $ee=new $t(oe.comparator);function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=$ee,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Vee=new $t(Te);function v0(){return Vee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ix=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,xx.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_e.min(),r,v0(),si(),Be())},e}(),xx=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Zn.EMPTY_BYTE_STRING,n,Be(),Be(),Be())},e}(),Ng=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},PV=function(e,t){this.targetId=e,this.V=t},NV=function(e,t,n,r){n===void 0&&(n=Zn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},RD=function(){function e(){this.S=0,this.D=ND(),this.C=Zn.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Be(),n=Be(),r=Be();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new xx(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=ND()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Bee=function(){function e(t){this.W=t,this.G=new Map,this.H=si(),this.J=PD(),this.Y=new $t(Te)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:ie()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if($m(s))if(r===0){var a=new oe(s.path);this.tt(n,a,wn.newNoDocument(a,_e.min()))}else ce(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&$m(c.target)){var h=new oe(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,wn.newNoDocument(h,t))}a.$&&(r.set(l,a.M()),a.L())}});var i=Be();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new Ix(t,r,this.Y,this.H,i);return this.H=si(),this.J=PD(),this.Y=new $t(Te),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new RD,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new $t(Te),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||K("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new RD),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function PD(){return new jn(oe.comparator)}function ND(){return new jn(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zee={asc:"ASCENDING",desc:"DESCENDING"},qee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wee=function(e,t){this.databaseId=e,this.I=t};function _d(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function OV(e,t){return e.I?t.toBase64():t.toUint8Array()}function Hee(e,t){return _d(e,t.toTimestamp())}function Jt(e){return ce(!!e),_e.fromTimestamp(function(t){var n=Ws(t);return new Sr(n.seconds,n.nanos)}(e))}function Cx(e,t){return function(n){return new De(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function DV(e){var t=De.fromString(e);return ce(BV(t)),t}function bd(e,t){return Cx(e.databaseId,t.path)}function io(e,t){var n=DV(t);if(n.get(1)!==e.databaseId.projectId)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new B(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(MV(n))}function MT(e,t){return Cx(e.databaseId,t)}function LV(e){var t=DV(e);return t.length===4?De.emptyPath():MV(t)}function Ed(e){return new De(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function MV(e){return ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function OD(e,t,n){return{name:bd(e,t),fields:n.value.mapValue.fields}}function jV(e,t,n){var r=io(e,t.name),i=Jt(t.updateTime),s=new Dr({mapValue:{fields:t.fields}}),a=wn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function zm(e,t){var n;if(t instanceof hp)n={update:OD(e,t.key,t.value)};else if(t instanceof dp)n={delete:bd(e,t.key)};else if(t instanceof ea)n={update:OD(e,t.key,t.data),updateMask:Xee(t.fieldMask)};else{if(!(t instanceof Tx))return ie();n={verify:bd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof wc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _c)return{fieldPath:s.field.canonicalString(),increment:a.A};throw ie()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Hee(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(e,t.precondition)),n}function DD(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?Rn.updateTime(Jt(h.updateTime)):h.exists!==void 0?Rn.exists(h.exists):Rn.none()}(t.currentDocument):Rn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)ce(v.setToServerValue==="REQUEST_TIME"),g=new wc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new pu(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new vu(w)}else"increment"in v?g=new _c(d,v.increment):ie();var b=ji.fromServerFormat(v.fieldPath);return new fp(b,g)}(e,h)}):[];if(t.update){t.update.name;var i=io(e,t.update.name),s=new Dr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new vc(d.map(function(v){return ji.fromServerFormat(v)}))}(t.updateMask);return new ea(i,s,a,n,r)}return new hp(i,s,n,r)}if(t.delete){var l=io(e,t.delete);return new dp(l,n)}if(t.verify){var c=io(e,t.verify);return new Tx(c,n)}return ie()}function FV(e,t){return{documents:[MT(e,t.path)]}}function UV(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=MT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=MT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(d){if(d.op==="=="){if(_D(d.value))return{unaryFilter:{field:fl(d.field),op:"IS_NAN"}};if(wD(d.value))return{unaryFilter:{field:fl(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(_D(d.value))return{unaryFilter:{field:fl(d.field),op:"IS_NOT_NAN"}};if(wD(d.value))return{unaryFilter:{field:fl(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(d.field),op:Gee(d.op),value:d.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:fl(h.field),direction:Kee(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Ru(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=LD(t.startAt)),t.endAt&&(n.structuredQuery.endAt=LD(t.endAt)),n}function $V(e){var t=LV(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ce(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=VV(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(g){return new Wl(jl(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var c=null;n.limit&&(c=function(v){var g;return Ru(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=MD(n.startAt));var d=null;return n.endAt&&(d=MD(n.endAt)),gV(t,i,l,a,c,"F",h,d)}function VV(e){return e?e.unaryFilter!==void 0?[Yee(e)]:e.fieldFilter!==void 0?[Qee(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return VV(t)}).reduce(function(t,n){return t.concat(n)}):ie():[]}function LD(e){return{before:e.before,values:e.position}}function MD(e){var t=!!e.before,n=e.values||[];return new wd(n,t)}function Kee(e){return zee[e]}function Gee(e){return qee[e]}function fl(e){return{fieldPath:e.canonicalString()}}function jl(e){return ji.fromServerFormat(e.fieldPath)}function Qee(e){return jr.create(jl(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}function Yee(e){switch(e.unaryFilter.op){case"IS_NAN":var t=jl(e.unaryFilter.field);return jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=jl(e.unaryFilter.field);return jr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jl(e.unaryFilter.field);return jr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jl(e.unaryFilter.field);return jr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ie()}}function Xee(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function BV(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=jD(t)),t=Jee(e.get(n),t);return jD(t)}function Jee(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function jD(e){return e+""}function No(e){var t=e.length;if(ce(t>=2),t===2)return ce(e.charAt(0)===""&&e.charAt(1)===""),De.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ie(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:ie()}s=a+2}return new De(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zee=function(e,t){this.seconds=e,this.nanoseconds=t},Nr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Nr.store="owner",Nr.key="owner";var Ls=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ls.store="mutationQueues",Ls.keyPath="userId";var Je=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Je.store="mutations",Je.keyPath="batchId",Je.userMutationsIndex="userMutationsIndex",Je.userMutationsKeyPath=["userId","batchId"];var An=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Li(n)]},e.key=function(t,n,r){return[t,Li(n),r]},e}();An.store="documentMutations",An.PLACEHOLDER=new An;var ete=function(e,t){this.path=e,this.readTime=t},tte=function(e,t){this.path=e,this.version=t},pt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};pt.store="remoteDocuments",pt.readTimeIndex="readTimeIndex",pt.readTimeIndexPath="readTime",pt.collectionReadTimeIndex="collectionReadTimeIndex",pt.collectionReadTimeIndexPath=["parentPath","readTime"];var eo=function(e){this.byteSize=e};eo.store="remoteDocumentGlobal",eo.key="remoteDocumentGlobalKey";var yr=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};yr.store="targets",yr.keyPath="targetId",yr.queryTargetsIndexName="queryTargetsIndex",yr.queryTargetsKeyPath=["canonicalId","targetId"];var hn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};hn.store="targetDocuments",hn.keyPath=["targetId","path"],hn.documentTargetsIndex="documentTargetsIndex",hn.documentTargetsKeyPath=["path","targetId"];var Or=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Or.key="targetGlobalKey",Or.store="targetGlobal";var Xa=function(e,t){this.collectionId=e,this.parent=t};Xa.store="collectionParents",Xa.keyPath=["collectionId","parent"];var Lo=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Lo.store="clientMetadata",Lo.keyPath="clientId";var bc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};bc.store="bundles",bc.keyPath="bundleId";var Ec=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ec.store="namedQueries",Ec.keyPath="name";var nte=me(me([],me(me([],me(me([],me(me([],[Ls.store,Je.store,An.store,pt.store,yr.store,Nr.store,Or.store,hn.store]),[Lo.store])),[eo.store])),[Xa.store])),[bc.store,Ec.store]),zV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qV=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Mn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},z=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),WV=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Mn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Oh(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=kx(i.target.error);r.ft.reject(new Oh(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Oh(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(K("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new ite(n)},e}(),Sc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(au())===12.2&&kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return K("SimpleDb","Removing database:",t),Na(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=au(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=mee)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(K("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Oh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new B(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Oh(t,h))},l.onupgradeneeded=function(c){K("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){K("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return N(this,void 0,void 0,function(){var s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,l=function(){var v,g,y,w,b;return P(this,function(x){switch(x.label){case 0:++a,x.label=1;case 1:return x.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=x.sent(),v=WV.open(c.db,t,s?"readonly":"readwrite",r),g=i(v).catch(function(S){return v.abort(S),z.reject(S)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(x.sent(),g),y)];case 4:return w=x.sent(),b=w.name!=="FirebaseError"&&a<3,K("SimpleDb","Transaction failed with error:",w.message,"Retrying:",b),c.close(),b?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},c=this,d.label=1;case 1:return[5,l()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),rte=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Na(this.Pt.delete())},e}(),Oh=function(e){function t(n,r){var i=this;return(i=e.call(this,F.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Q(t,e),t}(B);function Pu(e){return e.name==="IndexedDbTransactionError"}var ite=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Na(r)},e.prototype.add=function(t){return K("SimpleDb","ADD",this.store.name,t,t),Na(this.store.add(t))},e.prototype.get=function(t){var n=this;return Na(this.store.get(t)).next(function(r){return r===void 0&&(r=null),K("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return K("SimpleDb","DELETE",this.store.name,t),Na(this.store.delete(t))},e.prototype.count=function(){return K("SimpleDb","COUNT",this.store.name),Na(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){K("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new z(function(r,i){n.onerror=function(s){var a=kx(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new z(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new rte(l),h=n(l.primaryKey,l.value,c);if(h instanceof z){var d=h.catch(function(v){return c.done(),z.reject(v)});r.push(d)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return z.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Na(e){return new z(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=kx(r.target.error);n(i)}})}var FD=!1;function kx(e){var t=Sc._t(au());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new B("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return FD||(FD=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UD=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return Q(t,e),t}(qV);function Ir(e,t){var n=G(e);return Sc.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ax=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&Dee(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&DT(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&DT(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(_e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Be())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&pc(this.mutations,t.mutations,function(n,r){return ID(n,r)})&&pc(this.baseMutations,t.baseMutations,function(n,r){return ID(n,r)})},e}(),ote=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ce(t.mutations.length===r.length);for(var i=RV(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),g0=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=_e.min()),a===void 0&&(a=_e.min()),l===void 0&&(l=Zn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),HV=function(e){this.Lt=e};function jT(e,t){if(t.document)return jV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=oe.fromSegments(t.noDocument.path),r=Ic(t.noDocument.readTime),i=wn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=oe.fromSegments(t.unknownDocument.path);return r=Ic(t.unknownDocument.version),wn.newUnknownDocument(s,r)}return ie()}function $D(e,t,n){var r=Rx(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:bd(v,g.key),fields:g.data.value.mapValue.fields,updateTime:_d(v,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new pt(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=Tc(t.version);return a=t.hasCommittedMutations,new pt(null,new ete(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=Tc(t.version);return new pt(new tte(h,d),null,null,!0,r,i)}return ie()}function Rx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function KV(e){var t=new Sr(e[0],e[1]);return _e.fromTimestamp(t)}function Tc(e){var t=e.toTimestamp();return new Zee(t.seconds,t.nanoseconds)}function Ic(e){var t=new Sr(e.seconds,e.nanoseconds);return _e.fromTimestamp(t)}function _l(e,t){for(var n=(t.baseMutations||[]).map(function(c){return DD(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return DD(e.Lt,c)}),l=Sr.fromMillis(t.localWriteTimeMs);return new Ax(t.batchId,l,n,a)}function hh(e){var t,n,r=Ic(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Ic(e.lastLimboFreeSnapshotVersion):_e.min();return e.query.documents!==void 0?(ce((n=e.query).documents.length===1),t=hi(Kc(LV(n.documents[0])))):t=function(s){return hi($V(s))}(e.query),new g0(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Zn.fromBase64String(e.resumeToken))}function GV(e,t){var n,r=Tc(t.snapshotVersion),i=Tc(t.lastLimboFreeSnapshotVersion);n=$m(t.target)?FV(e.Lt,t.target):UV(e.Lt,t.target);var s=t.resumeToken.toBase64();return new yr(t.targetId,up(t.target),r,s,t.sequenceNumber,i,n)}function Px(e){var t=$V({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?mV(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ste=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return VD(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ic(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return VD(t).put({bundleId:(r=n).id,createTime:Tc(Jt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return BD(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Px(i.bundledQuery),readTime:Ic(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return BD(t).put(function(r){return{name:r.name,readTime:Tc(Jt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function VD(e){return Ir(e,bc.store)}function BD(e){return Ir(e,Ec.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ate=function(){function e(){this.Bt=new Nx}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),z.resolve()},e.prototype.getCollectionParents=function(t,n){return z.resolve(this.Bt.getEntries(n))},e}(),Nx=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new $t(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new $t(De.comparator)).toArray()},e}(),ute=function(){function e(){this.qt=new Nx}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Li(s)};return zD(t).put(a)}return z.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[lV(n),""],!1,!0);return zD(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(No(c.parent))}return r})},e}();function zD(e){return Ir(e,Xa.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(e,t,n){var r=e.store(Je.store),i=e.store(An.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:a},function(w,b,x){return l++,x.delete()});s.push(c.next(function(){ce(l===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=An.key(t,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return z.waitFor(s).next(function(){return h})}function qm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ie();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);var lte=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return ce(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return as(t).$t({index:Je.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=bl(t),l=as(t);return l.add({}).next(function(c){ce(typeof c=="number");for(var h=new Ax(c,n,r,i),d=function(S,T,C){var k=C.baseMutations.map(function(O){return zm(S.Lt,O)}),D=C.mutations.map(function(O){return zm(S.Lt,O)});return new Je(T,C.batchId,C.localWriteTime.toMillis(),k,D)}(s.R,s.userId,h),v=[],g=new $t(function(S,T){return Te(S.canonicalString(),T.canonicalString())}),y=0,w=i;y<w.length;y++){var b=w[y],x=An.key(s.userId,b.key.path,c);g=g.add(b.key.path.popLast()),v.push(l.put(d)),v.push(a.put(x,An.PLACEHOLDER))}return g.forEach(function(S){v.push(s.Ut.addToCollectionParentIndex(t,S))}),t.addOnCommittedListener(function(){s.Kt[c]=h.keys()}),z.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return as(t).get(n).next(function(i){return i?(ce(i.userId===r.userId),_l(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?z.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return as(t).$t({index:Je.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ce(c.batchId>=i),a=_l(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return as(t).$t({index:Je.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return as(t).Nt(Je.userMutationsIndex,r).next(function(i){return i.map(function(s){return _l(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=An.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return bl(t).$t({range:s},function(l,c,h){var d=l[0],v=l[1],g=l[2],y=No(v);if(d===r.userId&&n.path.isEqual(y))return as(t).get(g).next(function(w){if(!w)throw ie();ce(w.userId===r.userId),a.push(_l(r.R,w))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new $t(Te),s=[];return n.forEach(function(a){var l=An.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=bl(t).$t({range:c},function(d,v,g){var y=d[0],w=d[1],b=d[2],x=No(w);y===r.userId&&a.path.isEqual(x)?i=i.add(b):g.done()});s.push(h)}),z.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=An.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new $t(Te);return bl(t).$t({range:l},function(h,d,v){var g=h[0],y=h[1],w=h[2],b=No(y);g===r.userId&&i.isPrefixOf(b)?b.length===s&&(c=c.add(w)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(as(t).get(a).next(function(l){if(l===null)throw ie();ce(l.userId===r.userId),i.push(_l(r.R,l))}))}),z.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return QV(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),z.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return z.resolve();var i=IDBKeyRange.lowerBound(An.prefixForUser(n.userId)),s=[];return bl(t).$t({range:i},function(a,l,c){if(a[0]===n.userId){var h=No(a[1]);s.push(h)}else c.done()}).next(function(){ce(s.length===0)})})},e.prototype.containsKey=function(t,n){return YV(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return XV(t).get(this.userId).next(function(r){return r||new Ls(n.userId,-1,"")})},e}();function YV(e,t,n){var r=An.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return bl(e).$t({range:s,kt:!0},function(l,c,h){var d=l[0],v=l[1];l[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function as(e){return Ir(e,Je.store)}function bl(e){return Ir(e,An.store)}function XV(e){return Ir(e,Ls.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wm=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),cte=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Wm(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return _e.fromTimestamp(new Sr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return hl(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ce(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return hl(t).$t(function(l,c){var h=hh(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return z.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return hl(t).$t(function(r,i){var s=hh(i);n(s)})},e.prototype.Xt=function(t){return WD(t).get(Or.key).next(function(n){return ce(n!==null),n})},e.prototype.Zt=function(t,n){return WD(t).put(Or.key,n)},e.prototype.te=function(t,n){return hl(t).put(GV(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=up(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return hl(t).$t({range:i,index:yr.queryTargetsIndexName},function(a,l,c){var h=hh(l);h0(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=ys(t);return n.forEach(function(l){var c=Li(l.path);s.push(a.put(new hn(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),z.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=ys(t);return z.forEach(n,function(a){var l=Li(a.path);return z.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=ys(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ys(t),s=Be();return i.$t({range:r,kt:!0},function(a,l,c){var h=No(a[1]),d=new oe(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Li(n.path),i=IDBKeyRange.bound([r],[lV(r)],!1,!0),s=0;return ys(t).$t({index:hn.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return hl(t).get(n).next(function(r){return r?hh(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(e){return Ir(e,yr.store)}function WD(e){return Ir(e,Or.store)}function ys(e){return Ir(e,hn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(e){return N(this,void 0,void 0,function(){return P(this,function(t){if(e.code!==F.FAILED_PRECONDITION||e.message!==zV)throw e;return K("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Te(n,i);return a===0?Te(r,s):a}var fte=function(){function e(t){this.ne=t,this.buffer=new $t(HD),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();HD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),hte=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;K("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Pu(i=s.sent())?(K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Nu(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),dte=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return z.resolve(Mr.o);var i=new fte(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(qD)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),qD):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>d.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+g),i=d.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(g){return r=g,l=Date.now(),d.removeTargets(t,r,n)}).next(function(g){return s=g,c=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),RT()<=be.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+g+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},e}(),pte=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new dte(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Zv(t,r)},e.prototype.removeReference=function(t,n,r){return Zv(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Zv(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return XV(r).Ot(function(a){return YV(r,a,i).next(function(l){return l&&(s=!0),z.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(d){if(!d)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),ys(t).delete([0,Li(l.path)])})});s.push(h)}}).next(function(){return z.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Zv(t,n)},e.prototype.we=function(t,n){var r,i=ys(t),s=Mr.o;return i.$t({index:hn.documentTargetsIndex},function(a,l){var c=a[0];a[1];var h=l.path,d=l.sequenceNumber;c===0?(s!==Mr.o&&n(new oe(No(r)),s),s=d,r=h):s=Mr.o}).next(function(){s!==Mr.o&&n(new oe(No(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Zv(e,t){return ys(e).put(function(n,r){return new hn(0,Li(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Au(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return cV(this.inner)},e}(),JV=function(){function e(){this.changes=new Gc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:_e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:wn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?z.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),vte=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return ps(t).put(eg(n),r)},e.prototype.removeEntry=function(t,n){var r=ps(t),i=eg(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return ps(t).get(eg(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return ps(t).get(eg(n)).next(function(i){return{document:r.ye(n,i),size:qm(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=si();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=si(),s=new jn(oe.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,qm(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return z.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return ps(t).$t({range:i},function(l,c,h){for(var d=oe.fromSegments(l);a&&oe.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=si(),a=n.path.length+1,l={};if(r.isEqual(_e.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),d=Rx(r);l.range=IDBKeyRange.lowerBound([h,d],!0),l.index=pt.collectionReadTimeIndex}return ps(t).$t(l,function(v,g,y){if(v.length===a){var w=jT(i.R,g);n.path.isPrefixOf(w.key.path)?cp(n,w)&&(s=s.insert(w.key,w)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new gte(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return KD(t).get(eo.key).next(function(n){return ce(!!n),n})},e.prototype.me=function(t,n){return KD(t).put(eo.key,n)},e.prototype.ye=function(t,n){if(n){var r=jT(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(_e.min()))return r}return wn.newInvalidDocument(t)},e}(),gte=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Gc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return Q(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new $t(function(l,c){return Te(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var d=$D(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=qm(d);s+=v-h,i.push(r.Ie.addEntry(n,l,d))}else if(s-=h,r.trackRemovals){var g=$D(r.Ie.R,wn.newNoDocument(l,_e.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,g))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),z.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(JV);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){return Ir(e,eo.store)}function ps(e){return Ir(e,pt.store)}function eg(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mte=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ce(r<i&&r>=0&&i<=11);var a=new WV("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Nr.store)}(t),function(c){c.createObjectStore(Ls.store,{keyPath:Ls.keyPath}),c.createObjectStore(Je.store,{keyPath:Je.keyPath,autoIncrement:!0}).createIndex(Je.userMutationsIndex,Je.userMutationsKeyPath,{unique:!0}),c.createObjectStore(An.store)}(t),GD(t),function(c){c.createObjectStore(pt.store)}(t));var l=z.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(hn.store),c.deleteObjectStore(yr.store),c.deleteObjectStore(Or.store)}(t),GD(t)),l=l.next(function(){return function(c){var h=c.store(Or.store),d=new Or(0,0,_e.min().toTimestamp(),0);return h.put(Or.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Je.store).Nt().next(function(d){c.deleteObjectStore(Je.store),c.createObjectStore(Je.store,{keyPath:Je.keyPath,autoIncrement:!0}).createIndex(Je.userMutationsIndex,Je.userMutationsKeyPath,{unique:!0});var v=h.store(Je.store),g=d.map(function(y){return v.put(y)});return z.waitFor(g)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Lo.store,{keyPath:Lo.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(eo.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(pt.store);h.createIndex(pt.readTimeIndex,pt.readTimeIndexPath,{unique:!1}),h.createIndex(pt.collectionReadTimeIndex,pt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(bc.store,{keyPath:bc.keyPath})})(t),function(c){c.createObjectStore(Ec.store,{keyPath:Ec.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(pt.store).$t(function(r,i){n+=qm(i)}).next(function(){var r=new eo(n);return t.store(eo.store).put(eo.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Ls.store),i=t.store(Je.store);return r.Nt().next(function(s){return z.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Je.userMutationsIndex,l).next(function(c){return z.forEach(c,function(h){ce(h.userId===a.userId);var d=_l(n.R,h);return QV(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(hn.store),r=t.store(pt.store);return t.store(Or.store).get(Or.key).next(function(i){var s=[];return r.$t(function(a,l){var c=new De(a),h=function(d){return[0,Li(d)]}(c);s.push(n.get(h).next(function(d){return d?z.resolve():function(v){return n.put(new hn(0,Li(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return z.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Xa.store,{keyPath:Xa.keyPath});var r=n.store(Xa.store),i=new Nx,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Li(c)})}};return n.store(pt.store).$t({kt:!0},function(a,l){var c=new De(a);return s(c.popLast())}).next(function(){return n.store(An.store).$t({kt:!0},function(a,l){a[0];var c=a[1];a[2];var h=No(c);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(yr.store);return r.$t(function(i,s){var a=hh(s),l=GV(n.R,a);return r.put(l)})},e}();function GD(e){e.createObjectStore(hn.store,{keyPath:hn.keyPath}).createIndex(hn.documentTargetsIndex,hn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(yr.store,{keyPath:yr.keyPath}).createIndex(yr.queryTargetsIndexName,yr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Or.store)}var wE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yte=function(){function e(t,n,r,i,s,a,l,c,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new B(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new pte(this,i),this.Le=n+"main",this.R=new HV(c),this.Be=new Sc(this.Le,11,new mte(this.R)),this.qe=new cte(this.referenceDelegate,this.R),this.Ut=new ute,this.Ue=function(v,g){return new vte(v,g)}(this.R,this.Ut),this.Ke=new ste,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new B(F.FAILED_PRECONDITION,wE);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Mr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return N(n,void 0,void 0,function(){return P(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return N(n,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return N(n,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return tg(n).put(new Lo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Pu(n))return K("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Zf(t).get(Nr.key).next(function(r){return z.resolve(n.tn(r))})},e.prototype.en=function(t){return tg(t).delete(this.clientId)},e.prototype.nn=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return P(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=Ir(l,Lo.store);return c.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return z.forEach(v,function(g){return c.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?z.resolve(!0):Zf(t).get(Nr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new B(F.FAILED_PRECONDITION,wE);return!1}}return!(!n.networkEnabled||!n.inForeground)||tg(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&K("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return N(this,void 0,void 0,function(){var t=this;return P(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Nr.store,Lo.store],function(r){var i=new UD(r,Mr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return tg(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return lte.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;K("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,nte,function(l){return s=new UD(l,i.Ne?i.Ne.next():Mr.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw kt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new B(F.FAILED_PRECONDITION,zV);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Zf(t).get(Nr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new B(F.FAILED_PRECONDITION,wE)})},e.prototype.Ze=function(t){var n=new Nr(this.clientId,this.allowTabSynchronization,Date.now());return Zf(t).put(Nr.key,n)},e.yt=function(){return Sc.yt()},e.prototype.Xe=function(t){var n=this,r=Zf(t);return r.get(Nr.key).next(function(i){return n.tn(i)?(K("IndexedDbPersistence","Releasing primary lease."),r.delete(Nr.key)):z.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(kt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),ZQ()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return K("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return kt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){kt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Zf(e){return Ir(e,Nr.store)}function tg(e){return Ir(e,Lo.store)}function Ox(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wte=function(e,t){this.progress=e,this.wn=t},ZV=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):Sx(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new oe(n)).next(function(r){var i=LT();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=LT();return this.Ut.getCollectionParents(t,s).next(function(l){return z.forEach(l,function(c){var h=function(d,v){return new Ko(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var w=y[g],b=w.key,x=i.get(b);x==null&&(x=wn.newInvalidDocument(b),i=i.insert(b,x)),DT(w,x,v.localWriteTime),x.isFoundDocument()||(i=i.remove(b))}})}).next(function(){return i.forEach(function(l,c){cp(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Be(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof ea&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(d=d.insert(g,y))}),d})},e}(),_te=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Be(),i=Be(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),eB=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(_e.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Rg(n)||Bm(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(RT()<=be.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OT(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new $t(wV(t));return n.forEach(function(i,s){cp(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return RT()<=be.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",OT(n)),this.Sn.getDocumentsMatchingQuery(t,n,_e.min())},e}(),bte=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new jn(Te),this.kn=new Gc(function(s){return up(s)},h0),this.$n=_e.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new ZV(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(e,t,n,r){return new bte(e,t,n,r)}function nB(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return n=G(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new ZV(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var d=[],v=[],g=Be(),y=0,w=c;y<w.length;y++){var b=w[y];d.push(b.batchId);for(var x=0,S=b.mutations;x<S.length;x++){var T=S[x];g=g.add(T.key)}}for(var C=0,k=h;C<k.length;C++){var D=k[C];v.push(D.batchId);for(var O=0,j=D.mutations;O<j.length;O++){var L=j[O];g=g.add(L.key)}}return i.pn(l,g).next(function(Y){return{Ln:Y,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Ete(e,t){var n=G(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var d=c.batch,v=d.keys(),g=z.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(l,y)}).next(function(w){var b=c.docVersions.get(y);ce(b!==null),w.version.compareTo(b)<0&&(d.applyToRemoteDocument(w,c),w.isValidDocument()&&h.addEntry(w,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(l,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function rB(e){var t=G(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Ste(e,t){var n=G(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(d,v){var g=i.get(v);if(g){l.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var w=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,w),function(b,x,S){return ce(x.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,w,d)&&l.push(n.qe.updateTargetData(s,w))}}});var c=si();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(iB(s,a,t.documentUpdates,r,void 0).next(function(d){c=d})),!r.isEqual(_e.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return z.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function iB(e,t,n,r,i){var s=Be();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=si();return n.forEach(function(c,h){var d=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(_e.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),l})}function Tte(e,t){var n=G(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function xc(e,t){var n=G(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,z.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new g0(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Cc(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:r=G(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Pu(a=l.sent()))throw a;return K("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function Hm(e,t,n){var r=G(e),i=_e.min(),s=Be();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var d=G(l),v=d.kn.get(h);return v!==void 0?z.resolve(d.Fn.get(v)):d.qe.getTargetData(c,h)}(r,a,hi(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:_e.min(),n?s:Be())}).next(function(l){return{documents:l,Bn:s}})})}function oB(e,t){var n=G(e),r=G(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function sB(e){var t=G(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=G(r),l=si(),c=Rx(s),h=ps(i),d=IDBKeyRange.lowerBound(c,!0);return h.$t({index:pt.readTimeIndex,range:d},function(v,g){var y=jT(a.R,g);l=l.insert(y.key,y),c=g.readTime}).next(function(){return{wn:l,readTime:KV(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function Ite(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){return[2,(t=G(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=ps(i),a=_e.min();return s.$t({index:pt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=KV(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}function xte(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y;return P(this,function(w){switch(w.label){case 0:for(i=G(e),s=Be(),a=si(),l=RV(),c=0,h=n;c<h.length;c++)d=h[c],v=t.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,t.Un(d)),l=l.insert(v,t.Kn(d.metadata.readTime));return g=i.On.newChangeBuffer({trackRemovals:!0}),[4,xc(i,function(b){return hi(Kc(De.fromString("__bundle__/docs/"+b)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(b){return iB(b,g,a,_e.min(),l).next(function(x){return g.apply(b),x}).next(function(x){return i.qe.removeMatchingKeysForTargetId(b,y.targetId).next(function(){return i.qe.addMatchingKeys(b,s,y.targetId)}).next(function(){return i.Mn.En(b,x)}).next(function(){return x})})})]}})})}function Cte(e,t,n){return n===void 0&&(n=Be()),N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return[4,xc(e,hi(Px(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=G(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=Jt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ke.saveNamedQuery(a,t);var c=r.withResumeToken(Zn.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kte=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return z.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Jt(r.createTime)}),z.resolve()},e.prototype.getNamedQuery=function(t,n){return z.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Px(r.bundledQuery),readTime:Jt(r.readTime)}}(n)),z.resolve()},e}(),Dx=function(){function e(){this.Wn=new $t(Wt.Gn),this.zn=new $t(Wt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Wt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Wt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new oe(new De([])),i=new Wt(r,t),s=new Wt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new oe(new De([])),r=new Wt(n,t),i=new Wt(n,t+1),s=Be();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Wt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Wt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return oe.comparator(t.key,n.key)||Te(t.ns,n.ns)},e.Hn=function(t,n){return Te(t.ns,n.ns)||oe.comparator(t.key,n.key)},e}(),Ate=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new $t(Wt.Gn)}return e.prototype.checkEmpty=function(t){return z.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Ax(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new Wt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return z.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return z.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return z.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return z.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return z.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),z.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new $t(Te);return n.forEach(function(s){var a=new Wt(s,0),l=new Wt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),z.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;oe.isDocumentKey(s)||(s=s.child(""));var a=new Wt(new oe(s),0),l=new $t(Te);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),z.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ce(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return z.forEach(n.mutations,function(s){var a=new Wt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Wt(n,0),i=this.rs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,z.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Rte=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new jn(oe.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return z.resolve(r?r.document.clone():wn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=si();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():wn.newInvalidDocument(s))}),z.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=si(),s=new oe(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||cp(n,d)&&(i=i.insert(d.key,d.clone()))}return z.resolve(i)},e.prototype.fs=function(t,n){return z.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Pte(this)},e.prototype.getSize=function(t){return z.resolve(this.size)},e}(),Pte=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Q(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),z.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(JV),Nte=function(){function e(t){this.persistence=t,this.ds=new Gc(function(n){return up(n)},h0),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ws=0,this._s=new Dx,this.targetCount=0,this.ys=Wm.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),z.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return z.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return z.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),z.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),z.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Wm(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,z.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),z.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,z.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),z.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return z.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return z.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),z.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),z.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),z.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return z.resolve(r)},e.prototype.containsKey=function(t,n){return z.resolve(this._s.containsKey(n))},e}(),Ote=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Mr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Nte(this),this.Ut=new ate,this.Ue=function(i,s){return new Rte(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new HV(n),this.Ke=new kte(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Ate(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;K("MemoryPersistence","Starting transaction:",t);var s=new Dte(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return z.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Dte=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Q(t,e),t}(qV),Lte=function(){function e(t){this.persistence=t,this.As=new Dx,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ie()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),z.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),z.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),z.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.vs,function(i){var s=oe.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return z.or([function(){return z.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),vr=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e,t){return"firestore_clients_"+e+"_"+t}function YD(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function _E(e,t){return"firestore_targets_"+e+"_"+t}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid");var XD=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new B(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(kt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),bE=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new B(i.error.code,i.error.message)),s?new e(t,i.state,r):(kt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),JD=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=v0(),a=0;i&&a<r.activeTargetIds.length;++a)i=dV(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(kt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Mte=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(kt("SharedClientState","Failed to parse online state: "+t),null)},e}(),FT=function(){function e(){this.activeTargetIds=v0()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),EE=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new jn(Te),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=QD(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new FT),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,d,v,g=this;return P(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(QD(this.persistenceKey,i)))&&(a=JD.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,d=this.$s;h<d.length;h++)v=d[h],this.Fs(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(_E(this.persistenceKey,t));if(r){var i=bE.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(_E(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return K("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){K("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){K("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(K("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return N(n,void 0,void 0,function(){var i,s,a,l,c,h;return P(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var g=Mr.o;if(v!=null)try{var y=JSON.parse(v);ce(typeof y=="number"),g=y}catch(w){kt("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==Mr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new XD(this.currentUser,t,n,r),s=YD(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=YD(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=_E(this.persistenceKey,t),s=new bE(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return JD.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return XD.Vs(new vr(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return bE.Vs(i,n)},e.prototype.js=function(t){return Mte.Vs(t)},e.prototype.ii=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(K("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=v0();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),aB=function(){function e(){this.li=new FT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new FT,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),jte=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),ZD=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Fte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ute=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),$te=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Q(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new gee;c.listenOnce(dee.COMPLETE,function(){try{switch(c.getLastErrorCode()){case yE.NO_ERROR:var d=c.getResponseJson();K("Connection","XHR received:",JSON.stringify(d)),a(d);break;case yE.TIMEOUT:K("Connection",'RPC "'+n+'" timed out'),l(new B(F.DEADLINE_EXCEEDED,"Request time out"));break;case yE.HTTP_ERROR:var v=c.getStatus();if(K("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var y=function(w){var b=w.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(b)>=0?b:F.UNKNOWN}(g.status);l(new B(y,g.message))}else l(new B(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new B(F.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{K("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=fee(),a=hee(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new vee({})),this.Fi(l.initMessageHeaders,r),aI()||CU()||YQ()||XQ()||JQ()||uI()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");K("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),d=!1,v=!1,g=new Ute({Ei:function(w){v?K("Connection","Not sending because WebChannel is closed:",w):(d||(K("Connection","Opening WebChannel transport."),h.open(),d=!0),K("Connection","WebChannel sending:",w),h.send(w))},Ti:function(){return h.close()}}),y=function(w,b,x){w.listen(b,function(S){try{x(S)}catch(T){setTimeout(function(){throw T},0)}})};return y(h,Xv.EventType.OPEN,function(){v||K("Connection","WebChannel transport opened.")}),y(h,Xv.EventType.CLOSE,function(){v||(v=!0,K("Connection","WebChannel transport closed"),g.Vi())}),y(h,Xv.EventType.ERROR,function(w){v||(v=!0,gd("Connection","WebChannel transport errored:",w),g.Vi(new B(F.UNAVAILABLE,"The operation could not be completed")))}),y(h,Xv.EventType.MESSAGE,function(w){var b;if(!v){var x=w.data[0];ce(!!x);var S=x,T=S.error||((b=S[0])===null||b===void 0?void 0:b.error);if(T){K("Connection","WebChannel received error:",T);var C=T.status,k=function(O){var j=Tt[O];if(j!==void 0)return AV(j)}(C),D=T.message;k===void 0&&(k=F.INTERNAL,D="Unknown error status: "+C+" with message "+T.message),v=!0,g.Vi(new B(k,D)),h.close()}else K("Connection","WebChannel received:",x),g.Si(x)}}),y(a,pee.STAT_EVENT,function(w){w.stat===gD.PROXY?K("Connection","Detected buffering proxy"):w.stat===gD.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);K("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return K("RestConnection","Received: ",l),l},function(l){throw gd("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=Fte[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(){return typeof window<"u"?window:null}function Og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(e){return new Wee(e,!0)}var Lx=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&K("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),lB=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Lx(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return N(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(kt(n.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===F.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new B(F.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return N(t,void 0,void 0,function(){return P(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return K("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Vte=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return Q(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:ie()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(x,S){return x.I?(ce(S===void 0||typeof S=="string"),Zn.fromBase64String(S||"")):(ce(S===void 0||S instanceof Uint8Array),Zn.fromUint8Array(S||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(x){var S=x.code===void 0?F.UNKNOWN:AV(x.code);return new B(S,x.message||"")}(g);l=new NV(c,h,d,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=io(s,c.document.name),d=Jt(c.document.updateTime);var g=new Dr({mapValue:{fields:c.document.fields}}),y=(v=wn.newFoundDocument(h,d,g),c.targetIds||[]),w=c.removedTargetIds||[];l=new Ng(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=io(s,c.document),d=c.readTime?Jt(c.readTime):_e.min(),g=wn.newNoDocument(h,d),v=c.removedTargetIds||[],l=new Ng([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=io(s,c.document),d=c.removedTargetIds||[],l=new Ng([],d,h,null);else{if(!("filter"in a))return ie();a.filter;var b=a.filter;b.targetId,c=b.count||0,h=new Mee(c),d=b.targetId,l=new PV(d,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return _e.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?Jt(a.readTime):_e.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Ed(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=$m(c)?{documents:FV(s,c)}:{query:UV(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=OV(s,a.resumeToken):a.snapshotVersion.compareTo(_e.min())>0&&(l.readTime=_d(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Ed(this.R),r.removeTarget=n,this.cr(r)},t}(lB),Bte=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return Q(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(ce(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ce(a!==void 0),s.map(function(l){return function(c,h){var d=c.updateTime?Jt(c.updateTime):Jt(h);return d.isEqual(_e.min())&&(d=Jt(h)),new Oee(d,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=Jt(n.commitTime);return this.listener.Tr(i,r)}return ce(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Ed(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return zm(r.R,s)})};this.cr(i)},t}(lB),zte=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return Q(t,e),t.prototype.br=function(){if(this.Rr)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new B(F.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new B(F.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),qte=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(kt(n),this.Vr=!1):K("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Wte=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return N(s,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return ta(this)?(K("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return N(this,void 0,void 0,function(){var h;return P(this,function(d){switch(d.label){case 0:return(h=G(c)).Or.add(4),[4,Qc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,vp(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new qte(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:if(!ta(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Qc(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function m0(e,t){var n=G(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Fx(n)?jx(n):Xc(n).er()&&Mx(n,t))}function Sd(e,t){var n=G(e),r=Xc(n);n.$r.delete(t),r.er()&&cB(n,t),n.$r.size===0&&(r.er()?r.ir():ta(n)&&n.Br.set("Unknown"))}function Mx(e,t){e.qr.U(t.targetId),Xc(e).mr(t)}function cB(e,t){e.qr.U(t),Xc(e).yr(t)}function jx(e){e.qr=new Bee({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Xc(e).start(),e.Br.Sr()}function Fx(e){return ta(e)&&!Xc(e).tr()&&e.$r.size>0}function ta(e){return G(e).Or.size===0}function fB(e){e.qr=void 0}function Hte(e){return N(this,void 0,void 0,function(){return P(this,function(t){return e.$r.forEach(function(n,r){Mx(e,n)}),[2]})})}function Kte(e,t){return N(this,void 0,void 0,function(){return P(this,function(n){return fB(e),Fx(e)?(e.Br.Nr(t),jx(e)):e.Br.set("Unknown"),[2]})})}function Gte(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return P(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof NV&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return N(this,void 0,void 0,function(){var h,d,v,g;return P(this,function(y){switch(y.label){case 0:h=c.cause,d=0,v=c.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(g),l.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),K("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Km(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ng?e.qr.X(t):t instanceof PV?e.qr.rt(t):e.qr.et(t),n.isEqual(_e.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,rB(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var g=l.$r.get(v);g&&l.$r.set(v,g.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach(function(d){var v=l.$r.get(d);if(v){l.$r.set(d,v.withResumeToken(Zn.EMPTY_BYTE_STRING,v.snapshotVersion)),cB(l,d);var g=new g0(v.target,d,1,v.sequenceNumber);Mx(l,g)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return K("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Km(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Km(e,t,n){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){switch(i.label){case 0:if(!Pu(t))throw t;return e.Or.add(1),[4,Qc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return rB(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return P(this,function(s){switch(s.label){case 0:return K("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,vp(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function hB(e,t){return t().catch(function(n){return Km(e,n,t)})}function Yc(e){return N(this,void 0,void 0,function(){var t,n,r,i,s;return P(this,function(a){switch(a.label){case 0:t=G(e),n=Hs(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return ta(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Tte(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=Hs(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Km(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return dB(t)&&pB(t),[2]}})})}function dB(e){return ta(e)&&!Hs(e).tr()&&e.kr.length>0}function pB(e){Hs(e).start()}function Qte(e){return N(this,void 0,void 0,function(){return P(this,function(t){return Hs(e).Ar(),[2]})})}function Yte(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){for(t=Hs(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function Xte(e,t,n){return N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=ote.from(r,t,n),[4,hB(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Yc(e)];case 2:return s.sent(),[2]}})})}function Jte(e,t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return t&&Hs(e).pr?[4,function(r,i){return N(this,void 0,void 0,function(){var s,a;return P(this,function(l){switch(l.label){case 0:return kV(a=i.code)&&a!==F.ABORTED?(s=r.kr.shift(),Hs(r).sr(),[4,hB(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Yc(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return dB(e)&&pB(e),[2]}})})}function UT(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return n=G(e),t?(n.Or.delete(2),[4,vp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Qc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Xc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=G(n);return s.br(),new Vte(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:Hte.bind(null,e),Ri:Kte.bind(null,e),_r:Gte.bind(null,e)}),e.Mr.push(function(n){return N(t,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Fx(e)?jx(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),fB(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Hs(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=G(n);return s.br(),new Bte(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:Qte.bind(null,e),Ri:Jte.bind(null,e),Ir:Yte.bind(null,e),Tr:Xte.bind(null,e)}),e.Mr.push(function(n){return N(t,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,Yc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.kr.length>0&&(K("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var Zte=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Jc(e,t){if(kt("AsyncQueue",t+": "+e),Pu(e))return new B(F.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vB=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||oe.comparator(n.key,r.key)}:function(n,r){return oe.comparator(n.key,r.key)},this.keyedMap=LT(),this.sortedSet=new jn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),eL=function(){function e(){this.Qr=new jn(oe.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ie():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Gm=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,vB.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),ene=function(){this.Wr=void 0,this.listeners=[]},tne=function(){this.queries=new Gc(function(e){return yV(e)},lp),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:if(n=G(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new ene),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Jc(l,"Initialization of query '"+OT(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Vx(n),[2]}})})}function $x(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){return n=G(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function nne(e,t){for(var n=G(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,d=c.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);c.Wr=a}}r&&Vx(n)}function rne(e,t,n){var r=G(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function Vx(e){e.Gr.forEach(function(t){t.next()})}var Bx=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Gm(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Gm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),ine=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),tL=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return io(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?jV(this.R,t.document,!1):wn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},e.prototype.Kn=function(t){return Jt(t)},e}(),one=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=gB(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new tL(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var d=h[c],v=(n.get(d)||Be()).add(l);n.set(d,v)}}return n},e.prototype.complete=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s;return P(this,function(a){switch(a.label){case 0:return[4,xte(this.localStore,new tL(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,Cte(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new wte(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mB=function(e){this.key=e},yB=function(e){this.key=e},wB=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Be(),this.mutatedKeys=Be(),this.lo=wV(t),this.fo=new vB(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new eL,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Rg(this.query)&&s.size===this.query.limit?s.last():null,d=Bm(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var w=s.get(g),b=cp(r.query,y)?y:null,x=!!w&&r.mutatedKeys.has(w.key),S=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),T=!1;w&&b?w.data.isEqual(b.data)?x!==S&&(i.track({type:3,doc:b}),T=!0):r.yo(w,b)||(i.track({type:2,doc:b}),T=!0,(h&&r.lo(b,h)>0||d&&r.lo(b,d)<0)&&(c=!0)):!w&&b?(i.track({type:0,doc:b}),T=!0):w&&!b&&(i.track({type:1,doc:w}),T=!0,(h||d)&&(c=!0)),T&&(b?(l=l.add(b),a=S?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),Rg(this.query)||Bm(this.query))for(;l.size>this.query.limit;){var v=Rg(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(g,y){var w=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return w(g)-w(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Gm(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new eL,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Be(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new yB(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new mB(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Be();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Gm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),sne=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ane=function(e){this.key=e,this.bo=!1},une=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Gc(function(l){return yV(l)},lp),this.Vo=new Map,this.So=new Set,this.Do=new jn(oe.comparator),this.Co=new Map,this.No=new Dx,this.xo={},this.Fo=new Map,this.ko=Wm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function lne(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return n=Kx(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,xc(n.localStore,hi(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,zx(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&m0(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function zx(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:return e.Oo=function(v,g,y){return function(w,b,x,S){return N(this,void 0,void 0,function(){var T,C,k;return P(this,function(D){switch(D.label){case 0:return T=b.view._o(x),T.Nn?[4,Hm(w.localStore,b.query,!1).then(function(O){var j=O.documents;return b.view._o(j,T)})]:[3,2];case 1:T=D.sent(),D.label=2;case 2:return C=S&&S.targetChanges.get(b.targetId),k=b.view.applyChanges(T,w.isPrimaryClient,C),[2,($T(w,b.targetId,k.To),k.snapshot)]}})})}(e,v,g,y)},[4,Hm(e.localStore,t,!0)];case 1:return i=d.sent(),s=new wB(t,i.Bn),a=s._o(i.documents),l=xx.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),$T(e,n,c.To),h=new sne(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function cne(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return n=G(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!lp(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Cc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Sd(n.remoteStore,r.targetId),kc(n,r.targetId)}).catch(Nu)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return kc(n,r.targetId),[4,Cc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function fne(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:r=Gx(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var d,v=G(c),g=Sr.now(),y=h.reduce(function(w,b){return w.add(b.key)},Be());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Mn.pn(w,y).next(function(b){d=b;for(var x=[],S=0,T=h;S<T.length;S++){var C=T[S],k=Lee(C,d.get(C.key));k!=null&&x.push(new ea(C.key,k,pV(k.value.mapValue),Rn.exists(!0)))}return v._n.addMutationBatch(w,g,x,h)})}).then(function(w){return w.applyToLocalDocumentSet(d),{batchId:w.batchId,changes:d}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,d){var v=c.xo[c.currentUser.toKey()];v||(v=new jn(Te)),v=v.insert(h,d),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,Go(r,i.changes)];case 3:return l.sent(),[4,Yc(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Jc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function _B(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:n=G(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ste(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ce(l.bo):s.removedDocuments.size>0&&(ce(l.bo),l.bo=!1))}),[4,Go(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Nu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function nL(e,t,n){var r=G(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=G(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].zr(a)&&(c=!0)}),c&&Vx(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hne(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return(r=G(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new jn(oe.comparator)).insert(s,wn.newNoDocument(s,_e.min())),l=Be().add(s),c=new Ix(_e.min(),new Map,new $t(Te),a,l),[4,_B(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),Hx(r),[3,4];case 2:return[4,Cc(r.localStore,t,!1).then(function(){return kc(r,t,n)}).catch(Nu)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function dne(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:n=G(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Ete(n.localStore,t)];case 2:return i=s.sent(),Wx(n,r,null),qx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Go(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Nu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function pne(e,t,n){return N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:r=G(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=G(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return c._n.lookupMutationBatch(h,l).next(function(v){return ce(v!==null),d=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),Wx(r,t,n),qx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Go(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Nu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function vne(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:ta((n=G(e)).remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=G(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=Jc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function qx(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function Wx(e,t,n){var r=G(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function kc(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||bB(e,a)})}function bB(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Sd(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Hx(e))}function $T(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof mB?(e.No.addReference(s.key,t),gne(e,s)):s instanceof yB?(K("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||bB(e,s.key)):ie()}}function gne(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(K("SyncEngine","New document in limbo: "+n),e.So.add(r),Hx(e))}function Hx(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new oe(De.fromString(t)),r=e.ko.next();e.Co.set(r,new ane(n)),e.Do=e.Do.insert(n,r),m0(e.remoteStore,new g0(hi(Kc(n.path)),r,2,Mr.o))}}function Go(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:return r=G(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.Oo(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=_te.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return N(this,void 0,void 0,function(){var d,v,g,y,w,b,x,S,T;return P(this,function(C){switch(C.label){case 0:d=G(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(k){return z.forEach(h,function(D){return z.forEach(D.bn,function(O){return d.persistence.referenceDelegate.addReference(k,D.targetId,O)}).next(function(){return z.forEach(D.vn,function(O){return d.persistence.referenceDelegate.removeReference(k,D.targetId,O)})})})})];case 2:return C.sent(),[3,4];case 3:if(!Pu(v=C.sent()))throw v;return K("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)w=y[g],b=w.targetId,w.fromCache||(x=d.Fn.get(b),S=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(S),d.Fn=d.Fn.insert(b,T));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function mne(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return(n=G(e)).currentUser.isEqual(t)?[3,3]:(K("SyncEngine","User change. New user:",t.toKey()),[4,nB(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new B(F.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Go(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function yne(e,t){var n=G(e),r=n.Co.get(t);if(r&&r.bo)return Be().add(r.key);var i=Be(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function wne(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,Hm((n=G(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&$T(n,t.targetId,i.To),i)]}})})}function _ne(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){return[2,sB((t=G(e)).localStore).then(function(r){return Go(t,r)})]})})}function bne(e,t,n,r){return N(this,void 0,void 0,function(){var i,s;return P(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=G(l),d=G(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,c).next(function(g){return g?h.Mn.pn(v,g):z.resolve(null)})})}((i=G(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Yc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Wx(i,t,r||null),qx(i,t),function(l,c){G(G(l)._n).Gt(c)}(i.localStore,t)):ie(),a.label=4;case 4:return[4,Go(i,s)];case 5:return a.sent(),[3,7];case 6:K("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Ene(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:return Kx(n=G(e)),Gx(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,rL(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,UT(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)l=a[s],m0(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):h=h.then(function(){return kc(n,g),Cc(n.localStore,g,!0)}),Sd(n.remoteStore,g)}),[4,h]);case 4:return d.sent(),[4,rL(n,c)];case 5:return d.sent(),function(v){var g=G(v);g.Co.forEach(function(y,w){Sd(g.remoteStore,w)}),g.No.ts(),g.Co=new Map,g.Do=new jn(oe.comparator)}(n),n.$o=!1,[4,UT(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function rL(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g,y,w,b,x;return P(this,function(S){switch(S.label){case 0:r=G(e),i=[],s=[],a=0,l=t,S.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(d=r.Vo.get(c))&&d.length!==0?[4,xc(r.localStore,hi(d[0]))]:[3,7]):[3,13];case 2:h=S.sent(),v=0,g=d,S.label=3;case 3:return v<g.length?(y=g[v],w=r.Po.get(y),[4,wne(r,w)]):[3,6];case 4:(b=S.sent()).snapshot&&s.push(b.snapshot),S.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,oB(r.localStore,c)];case 8:return x=S.sent(),[4,xc(r.localStore,x)];case 9:return h=S.sent(),[4,zx(r,EB(x),c,!1)];case 10:S.sent(),S.label=11;case 11:i.push(h),S.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function EB(e){return gV(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Sne(e){var t=G(e);return G(G(t.localStore).persistence).fn()}function Tne(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return P(this,function(l){switch(l.label){case 0:return(i=G(e)).$o?(K("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sB(i.localStore)];case 3:return s=l.sent(),a=Ix.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Go(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Cc(i.localStore,t,!0)];case 6:return l.sent(),kc(i,t,r),[3,8];case 7:ie(),l.label=8;case 8:return[2]}})})}function Ine(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:if(!(r=Kx(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(K("SyncEngine","Adding an already active target "+a),[3,5]):[4,oB(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,xc(r.localStore,l)];case 3:return c=y.sent(),[4,zx(r,EB(l),c.targetId,!1)];case 4:y.sent(),m0(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return P(this,function(b){switch(b.label){case 0:return r.Vo.has(w)?[4,Cc(r.localStore,w,!1).then(function(){Sd(r.remoteStore,w),kc(r,w)}).catch(Nu)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function Kx(e){var t=G(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_B.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hne.bind(null,t),t.vo._r=nne.bind(null,t.eventManager),t.vo.Mo=rne.bind(null,t.eventManager),t}function Gx(e){var t=G(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pne.bind(null,t),t}function xne(e,t,n){var r=G(e);(function(i,s,a){return N(this,void 0,void 0,function(){var l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(w,b){var x=G(w),S=Jt(b.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",function(T){return x.Ke.getBundleMetadata(T,b.id)}).then(function(T){return!!T&&T.createTime.compareTo(S)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(l)))];case 4:return a._updateProgress(gB(l)),c=new one(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,Go(i,v.wn,void 0)];case 12:return y.sent(),[4,function(w,b){var x=G(w);return x.persistence.runTransaction("Save bundle","readwrite",function(S){return x.Ke.saveBundleMetadata(S,b)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return gd("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var SB=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return this.R=pp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return tB(this.persistence,new eB,t.initialUser,this.R)},e.prototype.qo=function(t){return new Ote(Lte.bs,this.R)},e.prototype.Bo=function(t){return new aB},e.prototype.terminate=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),TB=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return Q(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,Ite(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,n)];case 3:return r.sent(),[4,Gx(this.Qo.syncEngine)];case 4:return r.sent(),[4,Yc(this.Qo.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Ko=function(n){return tB(this.persistence,new eB,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new hte(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Ox(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new yte(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,uB(),Og(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new aB},t}(SB),Cne=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Q(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return P(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof EE?(this.sharedClientState.syncEngine={ui:bne.bind(null,r),ai:Tne.bind(null,r),hi:Ine.bind(null,r),fn:Sne.bind(null,r),ci:_ne.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return N(i,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return[4,Ene(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=uB();if(!EE.yt(r))throw new B(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Ox(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new EE(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(TB),VT=function(){function e(){}return e.prototype.initialize=function(t,n){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return nL(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mne.bind(null,this.syncEngine),[4,UT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new tne},e.prototype.createDatastore=function(t){var n,r=pp(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new $te(n));return function(s,a,l){return new zte(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return nL(l.syncEngine,c,0)},a=ZD.yt()?new ZD:new jte,new Wte(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var d=new une(r,i,s,a,l,c);return h&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return n=G(t),K("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Qc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return P(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return P(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y0=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),kne=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new Mn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new ine(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===123})},e.prototype.Jo=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),Ane=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new B(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return N(this,void 0,void 0,function(){var l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return l=G(s),c=Ed(l.R)+"/documents",h={documents:a.map(function(w){return bd(l.R,w)})},[4,l.$i("BatchGetDocuments",c,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(w){var b=function(x,S){return"found"in S?function(T,C){ce(!!C.found),C.found.name,C.found.updateTime;var k=io(T,C.found.name),D=Jt(C.found.updateTime),O=new Dr({mapValue:{fields:C.found.fields}});return wn.newFoundDocument(k,D,O)}(x,S):"missing"in S?function(T,C){ce(!!C.missing),ce(!!C.readTime);var k=io(T,C.missing),D=Jt(C.readTime);return wn.newNoDocument(k,D)}(x,S):ie()}(l.R,w);v.set(b.key.toString(),b)}),g=[],[2,(a.forEach(function(w){var b=v.get(w.toString());ce(!!b),g.push(b)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new dp(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return N(this,void 0,void 0,function(){var t,n=this;return P(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=oe.fromPath(s);n.mutations.push(new Tx(a,n.precondition(a)))}),[4,function(i,s){return N(this,void 0,void 0,function(){var a,l,c;return P(this,function(h){switch(h.label){case 0:return a=G(i),l=Ed(a.R)+"/documents",c={writes:s.map(function(d){return zm(a.R,d)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ie();n=_e.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new B(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Rn.updateTime(n):Rn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(_e.min()))throw new B(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(n)}return Rn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Rne=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Lx(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return N(t,void 0,void 0,function(){var n,r,i=this;return P(this,function(s){return n=new Ane(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ru(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!kV(n)}return!1},e}(),Pne=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vr.UNAUTHENTICATED,this.clientId=uV.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return N(i,void 0,void 0,function(){return P(this,function(a){switch(a.label){case 0:return K("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new B(F.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return N(t,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Jc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(e,t){return N(this,void 0,void 0,function(){var n,r,i=this;return P(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return N(i,void 0,void 0,function(){return P(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,nB(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function xB(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Qx(e)];case 1:return n=i.sent(),K("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return N(this,void 0,void 0,function(){var c,h;return P(this,function(d){switch(d.label){case 0:return(c=G(a)).asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials"),h=ta(c),c.Or.add(3),[4,Qc(c)];case 1:return d.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return d.sent(),c.Or.delete(3),[4,vp(c)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Qx(e){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(K("FirestoreClient","Using default OfflineComponentProvider"),[4,IB(e,new SB)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function w0(e){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(K("FirestoreClient","Using default OnlineComponentProvider"),[4,xB(e,new VT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function oL(e){return Qx(e).then(function(t){return t.persistence})}function Yx(e){return Qx(e).then(function(t){return t.localStore})}function sL(e){return w0(e).then(function(t){return t.remoteStore})}function Xx(e){return w0(e).then(function(t){return t.syncEngine})}function Ac(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,w0(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=lne.bind(null,t.syncEngine),n.onUnlisten=cne.bind(null,t.syncEngine),n)]}})})}function aL(e,t,n){var r=this;n===void 0&&(n={});var i=new Mn;return e.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var g=new y0({next:function(w){c.enqueueAndForget(function(){return $x(l,y)});var b=w.docs.has(h);!b&&w.fromCache?v.reject(new B(F.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&d&&d.source==="server"?v.reject(new B(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new Bx(Kc(h.path),g,{includeMetadataChanges:!0,so:!0});return Ux(l,y)},[4,Ac(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function uL(e,t,n){var r=this;n===void 0&&(n={});var i=new Mn;return e.asyncQueue.enqueueAndForget(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var g=new y0({next:function(w){c.enqueueAndForget(function(){return $x(l,y)}),w.fromCache&&d.source==="server"?v.reject(new B(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new Bx(h,g,{includeMetadataChanges:!0,so:!0});return Ux(l,y)},[4,Ac(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Nne=function(e,t,n,r,i,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},Qm=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),lL=new Map,CB=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cL=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(vr.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),One=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Dne=function(){function e(t){var n=this;this.currentUser=vr.UNAUTHENTICATED,this.oc=new Mn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){K("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(K("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(K("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ce(typeof i.accessToken=="string"),new CB(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return N(r,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string"),new vr(t)},e}(),Lne=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=vr.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),Mne=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new Lne(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(vr.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(e,t,n){if(!n)throw new B(F.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Zx(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new B(F.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function kB(e,t,n,r){if(t===!0&&r===!0)throw new B(F.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function fL(e){if(!oe.isDocumentKey(e))throw new B(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function hL(e){if(oe.isDocumentKey(e))throw new B(F.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function _0(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ie()}function Ne(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_0(e);throw new B(F.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function dL(e,t){if(t<=0)throw new B(F.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pL=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,kB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Td=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pL({}),this._settingsFrozen=!1,t instanceof Qm?(this._databaseId=t,this._credentials=new cL):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new B(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(r.options.projectId)}(t),this._credentials=new Dne(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pL(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new cL;switch(n.type){case"gapi":var r=n.client;return ce(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Mne(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new B(F.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=lL.get(t))&&(K("ComponentProvider","Removing Datastore"),lL.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),ut=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ms(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Tr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ms=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Kc(i))||this)._path=i,s.type="collection",s}return Q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ut(this.firestore,null,new oe(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ve(e),Jx("collection","path",t),e instanceof Td)return hL(n=De.fromString.apply(De,me([t],r))),new Ms(e,null,n);if(!(e instanceof ut||e instanceof Ms))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hL(n=De.fromString.apply(De,me([e.path],r)).child(De.fromString(t))),new Ms(e.firestore,null,n)}function Dg(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ve(e),arguments.length===1&&(t=uV.u()),Jx("doc","path",t),e instanceof Td)return fL(n=De.fromString.apply(De,me([t],r))),new ut(e,null,new oe(n));if(!(e instanceof ut||e instanceof Ms))throw new B(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fL(n=e._path.child(De.fromString.apply(De,me([t],r)))),new ut(e.firestore,e instanceof Ms?e.converter:null,new oe(n))}function RB(e,t){return e=ve(e),t=ve(t),(e instanceof ut||e instanceof Ms)&&(t instanceof ut||t instanceof Ms)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function PB(e,t){return e=ve(e),t=ve(t),e instanceof Tr&&t instanceof Tr&&e.firestore===t.firestore&&lp(e._query,t._query)&&e.converter===t.converter}var jne=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Lx(this,"async_queue_retry"),this.Ic=function(){var r=Og();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Mn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return N(this,void 0,void 0,function(){var t,n=this;return P(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Pu(t=r.sent()))throw t;return K("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,kt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=Zte.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&ie()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Rc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var Fne=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Mn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),Une=-1,Et=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new jne,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return Q(t,e),t.prototype._terminate=function(){return this._firestoreClient||NB(this),this._firestoreClient.terminate()},t}(Td);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e){return e._firestoreClient||NB(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function NB(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new Nne(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Pne(e._credentials,e._queue,r)}function vL(e,t,n){var r=this,i=new Mn;return e.asyncQueue.enqueue(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,IB(e,n)];case 1:return a.sent(),[4,xB(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===F.FAILED_PRECONDITION||l.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function gL(e){if(e._initialized||e._terminated)throw new B(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oo=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new B(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),gu=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Zn.fromBase64String(t))}catch(n){throw new B(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Zn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ou=function(e){this._methodName=e},b0=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new B(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new B(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Te(this._lat,t._lat)||Te(this._long,t._long)},e}(),$ne=/^__.*__$/,Vne=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,n,this.fieldTransforms):new hp(t,this.data,n,this.fieldTransforms)},e}(),OB=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ea(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var LB=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,kc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,kc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(t){return Ym(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(DB(this.Nc)&&$ne.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Bne=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||pp(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new LB({Nc:t,methodName:n,qc:r,path:ji.emptyPath(),kc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Du(e){var t=e._freezeSettings(),n=pp(e._databaseId);return new Bne(e._databaseId,!!t.ignoreUndefinedProperties,n)}function E0(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);rC("Data must be an object, but it was:",a,r);var l,c,h=FB(r,a);if(s.merge)l=new vc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=BT(t,g[v],n);if(!a.contains(y))throw new B(F.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");$B(d,y)||d.push(y)}l=new vc(d),c=a.fieldTransforms.filter(function(w){return l.covers(w.field)})}else l=null,c=a.fieldTransforms;return new Vne(new Dr(h),l,c)}var eC=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ou);function MB(e,t,n){return new LB({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var zne=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype._toFieldTransform=function(n){return new fp(n.path,new wc)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ou),qne=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return Q(t,e),t.prototype._toFieldTransform=function(n){var r=MB(this,n,!0),i=this.Kc.map(function(a){return Lu(a,r)}),s=new pu(i);return new fp(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ou),Wne=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return Q(t,e),t.prototype._toFieldTransform=function(n){var r=MB(this,n,!0),i=this.Kc.map(function(a){return Lu(a,r)}),s=new vu(i);return new fp(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ou),Hne=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return Q(t,e),t.prototype._toFieldTransform=function(n){var r=new _c(n.R,EV(n.R,this.Qc));return new fp(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ou);function tC(e,t,n,r){var i=e.Uc(1,t,n);rC("Data must be an object, but it was:",i,r);var s=[],a=Dr.empty();Au(r,function(c,h){var d=iC(t,c,n);h=ve(h);var v=i.Oc(d);if(h instanceof eC)s.push(d);else{var g=Lu(h,v);g!=null&&(s.push(d),a.set(d,g))}});var l=new vc(s);return new OB(a,l,i.fieldTransforms)}function nC(e,t,n,r,i,s){var a=e.Uc(1,t,n),l=[BT(t,r,n)],c=[i];if(s.length%2!=0)throw new B(F.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(BT(t,s[h])),c.push(s[h+1]);for(var d=[],v=Dr.empty(),g=l.length-1;g>=0;--g)if(!$B(d,l[g])){var y=l[g],w=c[g];w=ve(w);var b=a.Oc(y);if(w instanceof eC)d.push(y);else{var x=Lu(w,b);x!=null&&(d.push(y),v.set(y,x))}}var S=new vc(d);return new OB(v,S,a.fieldTransforms)}function jB(e,t,n,r){return r===void 0&&(r=!1),Lu(n,e.Uc(r?4:3,t))}function Lu(e,t){if(UB(e=ve(e)))return rC("Unsupported field value:",t,e),FB(e,t);if(e instanceof Ou)return function(n,r){if(!DB(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Lu(l[a],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=ve(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EV(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Sr.fromDate(n);return{timestampValue:_d(r.R,i)}}if(n instanceof Sr)return i=new Sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:_d(r.R,i)};if(n instanceof b0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gu)return{bytesValue:OV(r.R,n._byteString)};if(n instanceof ut){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Cx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+_0(n))}(e,t)}function FB(e,t){var n={};return cV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Au(e,function(r,i){var s=Lu(i,t.Fc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Sr||e instanceof b0||e instanceof gu||e instanceof ut||e instanceof Ou)}function rC(e,t,n){if(!UB(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=_0(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function BT(e,t,n){if((t=ve(t))instanceof oo)return t._internalPath;if(typeof t=="string")return iC(e,t);throw Ym("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Kne=new RegExp("[~\\*/\\[\\]]");function iC(e,t,n){if(t.search(Kne)>=0)throw Ym("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(oo.bind.apply(oo,me([void 0],t.split("."))))()._internalPath}catch{throw Ym("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ym(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new B(F.INVALID_ARGUMENT,(l+=". ")+e+c)}function $B(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Id=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ut(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Gne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Xm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Gne=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Id);function Xm(e,t){return typeof t=="string"?iC(e,t):t instanceof oo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Va=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Mo=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return Q(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Xm("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Id),Dh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Mo),ws=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Va(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Dh(r._firestore,r._userDataWriter,i.key,i,new Va(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Dh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Va(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Dh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Va(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(d=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:Qne(l.type),doc:c,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function Qne(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}function VB(e,t){return e instanceof Mo&&t instanceof Mo?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ws&&t instanceof ws&&e._firestore===t._firestore&&PB(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(e){if(Bm(e)&&e.explicitOrderBy.length===0)throw new B(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gp=function(){};function us(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var Yne=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return Q(t,e),t.prototype._apply=function(n){var r=Du(n.firestore),i=function(s,a,l,c,h,d,v){var g;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(F.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){bL(v,d);for(var y=[],w=0,b=v;w<b.length;w++){var x=b[w];y.push(_L(c,s,x))}g={arrayValue:{values:y}}}else g=_L(c,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bL(v,d),g=jB(l,"where",v,d==="in"||d==="not-in");var S=jr.create(h,d,g);return function(T,C){if(C.g()){var k=Ex(T);if(k!==null&&!k.isEqual(C.field))throw new B(F.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+k.toString()+"' and '"+C.field.toString()+"'");var D=bx(T);D!==null&&qB(T,C.field,D)}var O=function(j,L){for(var Y=0,R=j.filters;Y<R.length;Y++){var ne=R[Y];if(L.indexOf(ne.op)>=0)return ne.op}return null}(T,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(O!==null)throw O===C.op?new B(F.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new B(F.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,S),S}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Tr(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new Ko(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(gp),Xne=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return Q(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Wl(s,a);return function(c,h){if(bx(c)===null){var d=Ex(c);d!==null&&qB(c,d,h.field)}}(i,l),l}(n._query,this.jc,this.zc);return new Tr(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new Ko(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(gp),mL=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return Q(t,e),t.prototype._apply=function(n){return new Tr(n.firestore,n.converter,mV(n._query,this.Hc,this.Jc))},t}(gp),yL=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return Q(t,e),t.prototype._apply=function(n){var r=zB(n,this.type,this.Yc,this.Xc);return new Tr(n.firestore,n.converter,function(i,s){return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(gp),wL=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return Q(t,e),t.prototype._apply=function(n){var r=zB(n,this.type,this.Yc,this.Xc);return new Tr(n.firestore,n.converter,function(i,s){return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(gp);function zB(e,t,n,r){if(n[0]=ve(n[0]),n[0]instanceof Id)return function(s,a,l,c,h){if(!c)throw new B(F.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var d=[],v=0,g=yc(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())d.push(Um(a,c.key));else{var w=c.data.field(y.field);if(yx(w))throw new B(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var b=y.field.canonicalString();throw new B(F.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}d.push(w)}}return new wd(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Du(e.firestore);return function(s,a,l,c,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new B(F.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.isKeyField()){if(typeof w!="string")throw new B(F.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof w);if(!Sx(s)&&w.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+w+"' contains a slash.");var b=s.path.child(De.fromString(w));if(!oe.isDocumentKey(b))throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var x=new oe(b);g.push(Um(a,x))}else{var S=jB(l,c,w);g.push(S)}}return new wd(g,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function _L(e,t,n){if(typeof(n=ve(n))=="string"){if(n==="")throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sx(t)&&n.indexOf("/")!==-1)throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(De.fromString(n));if(!oe.isDocumentKey(r))throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Um(e,new oe(r))}if(n instanceof ut)return Um(e,n._key);throw new B(F.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_0(n)+".")}function bL(e,t){if(!Array.isArray(e)||e.length===0)throw new B(F.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new B(F.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function qB(e,t,n){if(!n.isEqual(t))throw new B(F.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oC=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),du(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ie()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Au(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new b0(It(t.latitude),It(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=hV(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(md(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ws(t);return new Sr(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=De.fromString(t);ce(BV(r));var i=new Qm(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||kt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Jne=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Q(t,e),t.prototype.convertBytes=function(n){return new gu(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ut(this.firestore,null,r)},t}(oC),Zne=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Du(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=_s(t,this._firestore),s=S0(i.converter,n,r),a=E0(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Rn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=_s(t,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof oo?nC(this._dataReader,"WriteBatch.update",l._key,n,r,i):tC(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,Rn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=_s(t,this._firestore);return this._mutations=this._mutations.concat(new dp(n._key,Rn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new B(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e,t){if((e=ve(e)).firestore!==t)throw new B(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Q(t,e),t.prototype.convertBytes=function(n){return new gu(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ut(this.firestore,null,r)},t}(oC);function EL(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ne(e,ut);var s=Ne(e.firestore,Et),a=Du(s);return xd(s,[(typeof(t=ve(t))=="string"||t instanceof oo?nC(a,"updateDoc",e._key,t,n,r):tC(a,"updateDoc",e._key,t)).toMutation(e._key,Rn.exists(!0))])}function WB(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=ve(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Rc(i[l])||(a=i[l],l++);var c,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Rc(i[l])){var g=i[l];i[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof ut)h=Ne(e.firestore,Et),d=Kc(e._key.path),c={next:function(b){i[l]&&i[l](zT(h,e,b))},error:i[l+1],complete:i[l+2]};else{var y=Ne(e,Tr);h=Ne(y.firestore,Et),d=y._query;var w=new Ja(h);c={next:function(b){i[l]&&i[l](new ws(h,w,y,b))},error:i[l+1],complete:i[l+2]},BB(e._query)}return function(b,x,S,T){var C=this,k=new y0(T),D=new Bx(x,k,S);return b.asyncQueue.enqueueAndForget(function(){return N(C,void 0,void 0,function(){var O;return P(this,function(j){switch(j.label){case 0:return O=Ux,[4,Ac(b)];case 1:return[2,O.apply(void 0,[j.sent(),D])]}})})}),function(){k.Wo(),b.asyncQueue.enqueueAndForget(function(){return N(C,void 0,void 0,function(){var O;return P(this,function(j){switch(j.label){case 0:return O=$x,[4,Ac(b)];case 1:return[2,O.apply(void 0,[j.sent(),D])]}})})})}}(Yt(h),d,v,c)}function xd(e,t){return function(n,r){var i=this,s=new Mn;return n.asyncQueue.enqueueAndForget(function(){return N(i,void 0,void 0,function(){var a;return P(this,function(l){switch(l.label){case 0:return a=fne,[4,Xx(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Yt(e),t)}function zT(e,t,n){var r=n.docs.get(t._key),i=new Ja(e);return new Mo(e,i,t._key,r,new Va(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ere=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return Q(t,e),t.prototype.get=function(n){var r=this,i=_s(n,this._firestore),s=new Ja(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Mo(r._firestore,s,i._key,a._document,new Va(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Du(t)}return e.prototype.get=function(t){var n=this,r=_s(t,this._firestore),i=new Jne(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return ie();var a=s[0];if(a.isFoundDocument())return new Id(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Id(n._firestore,i,r._key,null,r.converter);throw ie()})},e.prototype.set=function(t,n,r){var i=_s(t,this._firestore),s=S0(i.converter,n,r),a=E0(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=_s(t,this._firestore);return a=typeof(n=ve(n))=="string"||n instanceof oo?nC(this._dataReader,"Transaction.update",l._key,n,r,i):tC(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=_s(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){if(typeof Uint8Array>"u")throw new B(F.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function TL(){if(typeof atob>"u")throw new B(F.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var HB=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return TL(),new e(gu.fromBase64String(t))},e.fromUint8Array=function(t){return SL(),new e(gu.fromUint8Array(t))},e.prototype.toBase64=function(){return TL(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return SL(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),tre=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){gL(r=Ne(r,Et));var s=Yt(r),a=r._freezeSettings(),l=new VT;return vL(s,l,new TB(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){gL(n=Ne(n,Et));var r=Yt(n),i=n._freezeSettings(),s=new VT;return vL(r,s,new Cne(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new B(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Mn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return N(r,void 0,void 0,function(){var s;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return N(this,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return Sc.yt()?(c=l+"main",[4,Sc.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(Ox(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),sC=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Qm||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||gd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=Ne(i,Td))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&gd("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=IU(l.mockUserToken),d=l.mockUserToken.sub||l.mockUserToken.user_id;if(!d)throw new B(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new One(new CB(h,new vr(d)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return[4,oL(t)];case 1:return r=s.sent(),[4,sL(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=G(a);return l.Or.delete(0),vp(l)}(i))]}})})})}(Yt(Ne(this._delegate,Et)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return N(n,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return[4,oL(t)];case 1:return r=s.sent(),[4,sL(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return N(this,void 0,void 0,function(){var l;return P(this,function(c){switch(c.label){case 0:return(l=G(a)).Or.add(0),[4,Qc(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(Yt(Ne(this._delegate,Et)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&kB("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Mn;return t.asyncQueue.enqueueAndForget(function(){return N(n,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return i=vne,[4,Xx(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(Yt(Ne(this._delegate,Et)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new y0(s);return i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return c=function(d,v){G(d).Gr.add(v),v.next()},[4,Ac(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return N(a,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return c=function(d,v){G(d).Gr.delete(v)},[4,Ac(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(Yt(n=Ne(n,Et)),Rc(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new B(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Jm(this,AB(this._delegate,t))}catch(n){throw Hn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Za(this,Dg(this._delegate,t))}catch(n){throw Hn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new mp(this,function(n,r){if(n=Ne(n,Td),Jx("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new B(F.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Tr(n,null,function(i){return new Ko(De.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Hn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new Mn;return s.asyncQueue.enqueueAndForget(function(){return N(l,void 0,void 0,function(){var h;return P(this,function(d){switch(d.label){case 0:return[4,function(v){return w0(v).then(function(g){return g.datastore})}(s)];case 1:return h=d.sent(),new Rne(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(Yt(r),function(s){return i(new ere(r,s))})}(this._delegate,function(r){return t(new KB(n,r))})},e.prototype.batch=function(){var t=this;return Yt(this._delegate),new GB(new Zne(this._delegate,function(n){return xd(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new B(F.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new B(F.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),T0=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Q(t,e),t.prototype.convertBytes=function(n){return new HB(new gu(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Za.eu(r,this.firestore,null)},t}(oC);function nre(e){var t;t=e,Di.setLogLevel(t)}var KB=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new T0(t)}return e.prototype.get=function(t){var n=this,r=Ba(t);return this._delegate.get(r).then(function(i){return new Cd(n._firestore,new Mo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ba(t);return r?(Zx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ba(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ba(t);return this._delegate.delete(n),this},e}(),GB=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ba(t);return r?(Zx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ba(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,me([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ba(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),I0=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Dh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kd(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new T0(t),n),i.set(n,s)),s},e}();I0.su=new WeakMap;var Za=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new T0(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new B(F.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ut(n._delegate,r,new oe(t)))},e.eu=function(t,n,r){return new e(n,new ut(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Jm(this.firestore,AB(this._delegate,t))}catch(n){throw Hn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ve(t))instanceof ut&&RB(this._delegate,t)},e.prototype.set=function(t,n){n=Zx("DocumentReference.set",n);try{return function(r,i,s){r=Ne(r,ut);var a=Ne(r.firestore,Et),l=S0(r.converter,i,s);return xd(a,[E0(Du(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,Rn.none())])}(this._delegate,t,n)}catch(r){throw Hn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?EL(this._delegate,t):EL.apply(void 0,me([this._delegate,t,n],r))}catch(s){throw Hn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return xd(Ne((t=this._delegate).firestore,Et),[new dp(t._key,Rn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=QB(n),s=YB(n,function(a){return new Cd(t.firestore,new Mo(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return WB(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ne(r,ut);var i=Ne(r.firestore,Et),s=Yt(i),a=new Ja(i);return function(l,c){var h=this,d=new Mn;return l.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=function(y,w,b){return N(this,void 0,void 0,function(){var x,S;return P(this,function(T){switch(T.label){case 0:return T.trys.push([0,2,,3]),[4,function(C,k){var D=G(C);return D.persistence.runTransaction("read document","readonly",function(O){return D.Mn.mn(O,k)})}(y,w)];case 1:return(S=T.sent()).isFoundDocument()?b.resolve(S):S.isNoDocument()?b.resolve(null):b.reject(new B(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return x=T.sent(),S=Jc(x,"Failed to get document '"+w+" from cache"),b.reject(S),[3,3];case 3:return[2]}})})},[4,Yx(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(s,r._key).then(function(l){return new Mo(i,a,r._key,l,new Va(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ne(r,ut);var i=Ne(r.firestore,Et);return aL(Yt(i),r._key,{source:"server"}).then(function(s){return zT(i,r,s)})}(this._delegate):function(r){r=Ne(r,ut);var i=Ne(r.firestore,Et);return aL(Yt(i),r._key).then(function(s){return zT(i,r,s)})}(this._delegate)).then(function(r){return new Cd(n.firestore,new Mo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(I0.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Hn(e,t,n){return e.message=e.message.replace(t,n),e}function QB(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Rc(r))return r}return{}}function YB(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Rc(e[0])?e[0]:Rc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Cd=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Za(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return VB(this._delegate,t._delegate)},e}(),kd=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Q(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Cd),mp=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new T0(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,us(this._delegate,function(i,s,a){var l=s,c=Xm("where",i);return new Yne(c,l,a)}(t,n,r)))}catch(i){throw Hn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,us(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=Xm("orderBy",r);return new Xne(a,s)}(t,n)))}catch(r){throw Hn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,us(this._delegate,function(n){return dL("limit",n),new mL("limit",n,"F")}(t)))}catch(n){throw Hn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,us(this._delegate,function(n){return dL("limitToLast",n),new mL("limitToLast",n,"L")}(t)))}catch(n){throw Hn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,us(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new yL("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Hn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,us(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new yL("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Hn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,us(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new wL("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Hn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,us(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new wL("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Hn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return PB(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ne(r,Tr);var i=Ne(r.firestore,Et),s=Yt(i),a=new Ja(i);return function(l,c){var h=this,d=new Mn;return l.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=function(y,w,b){return N(this,void 0,void 0,function(){var x,S,T,C,k;return P(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,Hm(y,w,!0)];case 1:return k=D.sent(),x=new wB(w,k.Bn),S=x._o(k.documents),T=x.applyChanges(S,!1),b.resolve(T.snapshot),[3,3];case 2:return C=D.sent(),k=Jc(C,"Failed to execute query '"+w+" against cache"),b.reject(k),[3,3];case 3:return[2]}})})},[4,Yx(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,d])]}})})}),d.promise}(s,r._query).then(function(l){return new ws(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ne(r,Tr);var i=Ne(r.firestore,Et),s=Yt(i),a=new Ja(i);return uL(s,r._query,{source:"server"}).then(function(l){return new ws(i,a,r,l)})}(this._delegate):function(r){r=Ne(r,Tr);var i=Ne(r.firestore,Et),s=Yt(i),a=new Ja(i);return BB(r._query),uL(s,r._query).then(function(l){return new ws(i,a,r,l)})}(this._delegate)).then(function(r){return new qT(n.firestore,new ws(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=QB(n),s=YB(n,function(a){return new qT(t.firestore,new ws(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return WB(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(I0.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),rre=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),qT=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new mp(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new kd(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new rre(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new kd(r._firestore,i))})},e.prototype.isEqual=function(t){return VB(this._delegate,t._delegate)},e}(),Jm=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return Q(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Za(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Za(this.firestore,n===void 0?Dg(this._delegate):Dg(this._delegate,n))}catch(r){throw Hn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ne(i.firestore,Et),l=Dg(i),c=S0(i.converter,s);return xd(a,[E0(Du(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,Rn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Za(r.firestore,i)})},t.prototype.isEqual=function(n){return RB(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(I0.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(mp);function Ba(e){return Ne(e,ut)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ire=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(oo.bind.apply(oo,me([void 0],t)))}return e.documentId=function(){return new e(ji.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ve(t))instanceof oo&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),ore=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new zne("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new eC("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new qne("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Wne("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new Hne("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(e){return function(t,n){var r=Yt(t=Ne(t,Et)),i=new Fne;return function(s,a,l,c){var h=this,d=function(v,g){return function(y,w){return new kne(y,w)}(function(y,w){if(y instanceof Uint8Array)return iL(y,w);if(y instanceof ArrayBuffer)return iL(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(l,pp(a));s.asyncQueue.enqueueAndForget(function(){return N(h,void 0,void 0,function(){var v;return P(this,function(g){switch(g.label){case 0:return v=xne,[4,Xx(s)];case 1:return v.apply(void 0,[g.sent(),d,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function are(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return N(a,void 0,void 0,function(){var l;return P(this,function(c){switch(c.label){case 0:return l=function(h,d){var v=G(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Ke.getNamedQuery(g,d)})},[4,Yx(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(Yt(t=Ne(t,Et)),n).then(function(i){return i?new Tr(t,null,i.query):null})).then(function(i){return i?new mp(r,i):null})}var ure={Firestore:sC,GeoPoint:b0,Timestamp:Sr,Blob:HB,Transaction:KB,WriteBatch:GB,DocumentReference:Za,DocumentSnapshot:Cd,Query:mp,QueryDocumentSnapshot:kd,QuerySnapshot:qT,CollectionReference:Jm,FieldPath:ire,FieldValue:ore,setLogLevel:nre,CACHE_SIZE_UNLIMITED:Une};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lre(e){(function(t,n){t.INTERNAL.registerComponent(new Ln("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ure)))})(e,function(t,n){return new sC(t,new Et(t,n),new tre)}),e.registerVersion("@firebase/firestore","2.3.10")}lre(X);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cre(e){e.prototype.loadBundle=sre,e.prototype.namedQuery=are}cre(sC);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hl=function(e){Q(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function fre(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function hre(e,t,n){var r=fre(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!IL[l])return new Hl("internal","internal");r=IL[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Hl(r,i,s)}var dre=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pre="type.googleapis.com/google.protobuf.Int64Value",vre="type.googleapis.com/google.protobuf.UInt64Value";function xL(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var gre=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return xL(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case pre:case vre:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?xL(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Hl("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var CL=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new gre,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new dre(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return P(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y,w,b;return P(this,function(x){switch(x.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=x.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=mre(c),d=h.timer,v=h.promise,[4,Promise.race([kL(d,this.postJSON(i,s,a)),v,kL(d,this.cancelAllRequests)])];case 2:if(g=x.sent(),!g)throw new Hl("cancelled","Firebase Functions instance was deleted.");if(y=hre(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new Hl("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new Hl("internal","Response is missing data field.");return b=this.serializer.decode(w),[2,{data:b}]}})})},e}();function kL(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yre="functions";function wre(e,t){var n={Functions:CL};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new CL(l,c,d,h,a,t)}e.INTERNAL.registerComponent(new Ln(yre,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var _re="@firebase/functions",bre="0.6.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wre(X,fetch.bind(self));X.registerVersion(_re,bre);function Ere(e){return Array.prototype.slice.call(e)}function XB(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function aC(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),XB(r).then(s,a)});return i.request=r,i}function Sre(e,t,n){var r=aC(e,t,n);return r.then(function(i){if(i)return new Ad(i,r.request)})}function Zc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function uC(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return aC(this[t],i,arguments)})})}function x0(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function JB(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Sre(this[t],i,arguments)})})}function Mu(e){this._index=e}Zc(Mu,"_index",["name","keyPath","multiEntry","unique"]);uC(Mu,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);JB(Mu,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Ad(e,t){this._cursor=e,this._request=t}Zc(Ad,"_cursor",["direction","key","primaryKey","value"]);uC(Ad,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Ad.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),XB(t._request).then(function(r){if(r)return new Ad(r,t._request)})})})});function po(e){this._store=e}po.prototype.createIndex=function(){return new Mu(this._store.createIndex.apply(this._store,arguments))};po.prototype.index=function(){return new Mu(this._store.index.apply(this._store,arguments))};Zc(po,"_store",["name","keyPath","indexNames","autoIncrement"]);uC(po,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);JB(po,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);x0(po,"_store",IDBObjectStore,["deleteIndex"]);function yp(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}yp.prototype.objectStore=function(){return new po(this._tx.objectStore.apply(this._tx,arguments))};Zc(yp,"_tx",["objectStoreNames","mode"]);x0(yp,"_tx",IDBTransaction,["abort"]);function C0(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new yp(n)}C0.prototype.createObjectStore=function(){return new po(this._db.createObjectStore.apply(this._db,arguments))};Zc(C0,"_db",["name","version","objectStoreNames"]);x0(C0,"_db",IDBDatabase,["deleteObjectStore","close"]);function k0(e){this._db=e}k0.prototype.transaction=function(){return new yp(this._db.transaction.apply(this._db,arguments))};Zc(k0,"_db",["name","version","objectStoreNames"]);x0(k0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[po,Mu].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=Ere(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Mu,po].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function Tre(e,t,n){var r=aC(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new C0(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new k0(s)})}var Ire="@firebase/installations",ZB="0.4.31";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ez=1e4,tz="w:"+ZB,nz="FIS_v2",xre="https://firebaseinstallations.googleapis.com/v1",Cre=60*60*1e3,kre="installations",Are="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls,Rre=(ls={},ls["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ls["not-registered"]="Firebase Installation is not registered.",ls["installation-not-found"]="Firebase Installation not found.",ls["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ls["app-offline"]="Could not process request. Application offline.",ls["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ls),zo=new Ho(kre,Are,Rre);function rz(e){return e instanceof Uc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(e){var t=e.projectId;return xre+"/projects/"+t+"/installations"}function iz(e){return{token:e.token,requestStatus:2,expiresIn:Pre(e.expiresIn),creationTime:Date.now()}}function cC(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,zo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function oz(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sz(e,t){var n=t.refreshToken,r=oz(e);return r.append("Authorization",Nre(n)),r}function fC(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function Pre(e){return Number(e.replace("s","000"))}function Nre(e){return nz+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ore(e,t){var n=t.fid;return N(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return P(this,function(d){switch(d.label){case 0:return r=lC(e),i=oz(e),s={fid:n,authVersion:nz,appId:e.appId,sdkVersion:tz},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,fC(function(){return fetch(r,a)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:iz(c.authToken)},[2,h];case 3:return[4,cC("Create Installation",l)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(e){var t=btoa(String.fromCharCode.apply(String,me([],fn(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lre=/^[cdef][\w-]{21}$/,WT="";function Mre(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=jre(e);return Lre.test(n)?n:WT}catch{return WT}}function jre(e){var t=Dre(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc=new Map;function uz(e,t){var n=ef(e);lz(n,t),$re(n,t)}function Fre(e,t){cz();var n=ef(e),r=Pc.get(n);r||(r=new Set,Pc.set(n,r)),r.add(t)}function Ure(e,t){var n=ef(e),r=Pc.get(n);r&&(r.delete(t),r.size===0&&Pc.delete(n),fz())}function lz(e,t){var n,r,i=Pc.get(e);if(i)try{for(var s=en(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function $re(e,t){var n=cz();n&&n.postMessage({key:e,fid:t}),fz()}var za=null;function cz(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=function(e){lz(e.data.key,e.data.fid)}),za}function fz(){Pc.size===0&&za&&(za.close(),za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vre="firebase-installations-database",Bre=1,mu="firebase-installations-store",SE=null;function hC(){return SE||(SE=Tre(Vre,Bre,function(e){switch(e.oldVersion){case 0:e.createObjectStore(mu)}})),SE}function Zm(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:return n=ef(e),[4,hC()];case 1:return r=l.sent(),i=r.transaction(mu,"readwrite"),s=i.objectStore(mu),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&uz(e,t.fid),[2,t]}})})}function dC(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return t=ef(e),[4,hC()];case 1:return n=i.sent(),r=n.transaction(mu,"readwrite"),[4,r.objectStore(mu).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function wp(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return n=ef(e),[4,hC()];case 1:return r=c.sent(),i=r.transaction(mu,"readwrite"),s=i.objectStore(mu),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&uz(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return[4,wp(e,function(s){var a=zre(s),l=qre(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==WT?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function zre(e){var t=e||{fid:Mre(),registrationStatus:0};return hz(t)}function qre(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(zo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Wre(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Hre(e)}:{installationEntry:t}}function Wre(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Ore(e,t)];case 1:return n=i.sent(),[2,Zm(e,n)];case 2:return r=i.sent(),rz(r)&&r.customData.serverCode===409?[4,dC(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Zm(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function Hre(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,AL(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,az(100)];case 3:return s.sent(),[4,AL(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,pC(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function AL(e){return wp(e,function(t){if(!t)throw zo.create("installation-not-found");return hz(t)})}function hz(e){return Kre(e)?{fid:e.fid,registrationStatus:0}:e}function Kre(e){return e.registrationStatus===1&&e.registrationTime+ez<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gre(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v;return P(this,function(g){switch(g.label){case 0:return i=Qre(n,t),s=sz(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:tz}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,fC(function(){return fetch(i,c)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=iz(d),[2,v];case 3:return[4,cC("Generate Auth Token",h)];case 4:throw g.sent()}})})}function Qre(e,t){var n=t.fid;return lC(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return[4,wp(e.appConfig,function(l){if(!dz(l))throw zo.create("not-registered");var c=l.authToken;if(!t&&Jre(c))return l;if(c.requestStatus===1)return n=Yre(e,t),l;if(!navigator.onLine)throw zo.create("app-offline");var h=eie(l);return n=Xre(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function Yre(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,RL(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,az(100)];case 3:return i.sent(),[4,RL(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,vC(e,t)]:[2,r]}})})}function RL(e){return wp(e,function(t){if(!dz(t))throw zo.create("not-registered");var n=t.authToken;return tie(n)?ue(ue({},t),{authToken:{requestStatus:0}}):t})}function Xre(e,t){return N(this,void 0,void 0,function(){var n,i,r,i;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Gre(e,t)];case 1:return n=s.sent(),i=ue(ue({},t),{authToken:n}),[4,Zm(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),rz(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,dC(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ue(ue({},t),{authToken:{requestStatus:0}}),[4,Zm(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function dz(e){return e!==void 0&&e.registrationStatus===2}function Jre(e){return e.requestStatus===2&&!Zre(e)}function Zre(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Cre}function eie(e){var t={requestStatus:1,requestTime:Date.now()};return ue(ue({},e),{authToken:t})}function tie(e){return e.requestStatus===1&&e.requestTime+ez<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return[4,pC(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):vC(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,iie(e.appConfig)];case 1:return r.sent(),[4,vC(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function iie(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,pC(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oie(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return n=sie(e,t),r=sz(e,t),i={method:"DELETE",headers:r},[4,fC(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,cC("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function sie(e,t){var n=t.fid;return lC(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,wp(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw zo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw zo.create("app-offline");case 3:return[4,oie(t,n)];case 4:return r.sent(),[4,dC(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uie(e,t){var n=e.appConfig;return Fre(n,t),function(){Ure(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(e){var t,n;if(!e||!e.options)throw TE("App Configuration");if(!e.name)throw TE("App Name");var r=["projectId","apiKey","appId"];try{for(var i=en(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw TE(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function TE(e){return zo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(e){var t="installations";e.INTERNAL.registerComponent(new Ln(t,function(n){var r=n.getProvider("app").getImmediate(),i=lie(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return nie(a)},getToken:function(c){return rie(a,c)},delete:function(){return aie(a)},onIdChange:function(c){return uie(a,c)}};return l},"PUBLIC")),e.registerVersion(Ire,ZB)}cie(X);function fie(e){return Array.prototype.slice.call(e)}function pz(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function A0(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),pz(r).then(s,a)});return i.request=r,i}function hie(e,t,n){var r=A0(e,t,n);return r.then(function(i){if(i)return new Rd(i,r.request)})}function tf(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function gC(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return A0(this[t],i,arguments)})})}function R0(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function vz(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return hie(this[t],i,arguments)})})}function ju(e){this._index=e}tf(ju,"_index",["name","keyPath","multiEntry","unique"]);gC(ju,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);vz(ju,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Rd(e,t){this._cursor=e,this._request=t}tf(Rd,"_cursor",["direction","key","primaryKey","value"]);gC(Rd,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Rd.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),pz(t._request).then(function(r){if(r)return new Rd(r,t._request)})})})});function vo(e){this._store=e}vo.prototype.createIndex=function(){return new ju(this._store.createIndex.apply(this._store,arguments))};vo.prototype.index=function(){return new ju(this._store.index.apply(this._store,arguments))};tf(vo,"_store",["name","keyPath","indexNames","autoIncrement"]);gC(vo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);vz(vo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);R0(vo,"_store",IDBObjectStore,["deleteIndex"]);function _p(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}_p.prototype.objectStore=function(){return new vo(this._tx.objectStore.apply(this._tx,arguments))};tf(_p,"_tx",["objectStoreNames","mode"]);R0(_p,"_tx",IDBTransaction,["abort"]);function P0(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new _p(n)}P0.prototype.createObjectStore=function(){return new vo(this._db.createObjectStore.apply(this._db,arguments))};tf(P0,"_db",["name","version","objectStoreNames"]);R0(P0,"_db",IDBDatabase,["deleteObjectStore","close"]);function N0(e){this._db=e}N0.prototype.transaction=function(){return new _p(this._db.transaction.apply(this._db,arguments))};tf(N0,"_db",["name","version","objectStoreNames"]);R0(N0,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[vo,ju].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=fie(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[ju,vo].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function gz(e,t,n){var r=A0(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new P0(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new N0(s)})}function IE(e){return A0(indexedDB,"deleteDatabase",[e])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,die=(Dt={},Dt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Dt["only-available-in-window"]="This method is available in a Window context.",Dt["only-available-in-sw"]="This method is available in a service worker context.",Dt["permission-default"]="The notification permission was not granted and dismissed instead.",Dt["permission-blocked"]="The notification permission was not granted and blocked instead.",Dt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Dt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Dt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Dt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Dt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Dt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Dt["token-update-no-token"]="FCM returned no token when updating the user to push.",Dt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Dt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Dt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Dt["invalid-vapid-key"]="The public VAPID key must be a string.",Dt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Dt),Ve=new Ho("messaging","Messaging",die);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pie="/firebase-messaging-sw.js",vie="/firebase-cloud-messaging-push-scope",ey="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gie="https://fcmregistrations.googleapis.com/v1",mz="FCM_MSG",mie="FirebaseMessaging: ",yie="google.c.a.e",yz="google.c.a.c_id",wie="google.c.a.ts",_ie="google.c.a.c_l",bie=1e3,Eie=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var yu;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(yu||(yu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,me([],fn(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sie(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xE="fcm_token_details_db",Tie=5,PL="fcm_token_object_Store";function Iie(e){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return P(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(xE))return[2,null];a.label=2;case 2:return r=null,[4,gz(xE,Tie,function(l){return N(s,void 0,void 0,function(){var c,h,d,d,d,v;return P(this,function(g){switch(g.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(PL)?(c=l.transaction.objectStore(PL),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,c.clear()];case 2:if(g.sent(),!h)return[2];if(l.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:xo(d.vapidKey)}}}else l.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xo(d.auth),p256dh:xo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xo(d.vapidKey)}}):l.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xo(d.auth),p256dh:xo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xo(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,IE(xE)];case 4:return a.sent(),[4,IE("fcm_vapid_details_db")];case 5:return a.sent(),[4,IE("undefined")];case 6:return a.sent(),[2,xie(r)?r:null]}})})}function xie(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cie="firebase-messaging-database",kie=1,wu="firebase-messaging-store",CE=null;function mC(){return CE||(CE=gz(Cie,kie,function(e){switch(e.oldVersion){case 0:e.createObjectStore(wu)}})),CE}function ty(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return t=wC(e),[4,mC()];case 1:return n=s.sent(),[4,n.transaction(wu).objectStore(wu).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,Iie(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,yC(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function yC(e,t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return n=wC(e),[4,mC()];case 1:return r=s.sent(),i=r.transaction(wu,"readwrite"),[4,i.objectStore(wu).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function Aie(e){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return t=wC(e),[4,mC()];case 1:return n=i.sent(),r=n.transaction(wu,"readwrite"),[4,r.objectStore(wu).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function wC(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return[4,bC(e)];case 1:n=h.sent(),r=_z(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(_C(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Ve.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Ve.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Ve.create("token-subscribe-no-token");return[2,s.token]}})})}function Pie(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return[4,bC(e)];case 1:n=h.sent(),r=_z(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(_C(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Ve.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Ve.create("token-update-failed",{errorInfo:c});if(!s.token)throw Ve.create("token-update-no-token");return[2,s.token]}})})}function wz(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return[4,bC(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(_C(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Ve.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Ve.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function _C(e){var t=e.projectId;return gie+"/projects/"+t+"/registrations"}function bC(e){var t=e.appConfig,n=e.installations;return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function _z(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==ey&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nie=7*24*60*60*1e3;function HT(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Ve.create("permission-blocked");return[4,Die(t,n)];case 1:return r=l.sent(),[4,ty(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:xo(r.getKey("auth")),p256dh:xo(r.getKey("p256dh"))},i?[3,3]:[2,NL(e,s)];case 3:if(Lie(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,wz(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,NL(e,s)];case 8:return Date.now()>=i.createTime+Nie?[2,Oie({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Lh(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,ty(e)];case 1:return n=i.sent(),n?[4,wz(e,n.token)]:[3,4];case 2:return i.sent(),[4,Aie(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function Oie(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return P(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Pie(t,e)];case 1:return r=a.sent(),i=ue(ue({},e),{token:r,createTime:Date.now()}),[4,yC(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Lh(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function NL(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return[4,Rie(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,yC(e,r)];case 2:return i.sent(),[2,r.token]}})})}function Die(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sie(t)})]}})})}function Lie(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(e){var t={from:e.from,collapseKey:e.collapse_key};return jie(t,e),Fie(t,e),Uie(t,e),t}function jie(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function Fie(e,t){t.data&&(e.data=t.data)}function Uie(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(e){return typeof e=="object"&&!!e&&yz in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $ie=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Ve.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,ty(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:ey,i.label=2;case 2:return[2,HT(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Lh(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Ve.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Ve.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Ve.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Ve.create("only-available-in-window")},e.prototype.onMessage=function(){throw Ve.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Ve.create("only-available-in-window")},e.prototype.onPush=function(t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return n=Bie(t),n?[4,Ez()]:(console.debug(mie+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),qie(r)?[2,Wie(r,n)]:(i=!1,n.notification?[4,Hie(Vie(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=Mie(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,OL(bie)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s;return P(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Lh(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,ty(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Lh(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,HT(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:ey)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[mz],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=Kie(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,zie(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,OL(Eie)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=yu.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function Vie(e){var t,n=ue({},e.notification);return n.data=(t={},t[mz]=e,t),n}function Bie(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function zie(e){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return P(this,function(c){switch(c.label){case 0:return[4,Ez()];case 1:t=c.sent();try{for(n=en(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function qie(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function Wie(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=yu.PUSH_RECEIVED;try{for(var i=en(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ez(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Hie(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function Kie(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(bz(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gie=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===yu.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(Yie(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,bz(r)&&r[yie]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Ve.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,HT(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=ey),[2]})})},e.prototype.updateSwReg=function(t){return N(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Ve.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(pie,{scope:vie})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Ve.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Lh(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Ve.create("permission-blocked"):Ve.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Ve.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Ve.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Ve.create("invalid-sw-registration");if(this.swRegistration)throw Ve.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Ve.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Ve.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return N(this,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return r=Qie(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[yz],message_name:n[_ie],message_time:n[wie],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function Qie(e){switch(e){case yu.NOTIFICATION_CLICKED:return"notification_open";case yu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yie(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xie(e){var t,n;if(!e||!e.options)throw kE("App Configuration Object");if(!e.name)throw kE("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=en(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw kE(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function kE(e){return Ve.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jie="messaging";function Zie(e){var t=e.getProvider("app").getImmediate(),n=Xie(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!Sz())throw Ve.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new $ie(s):new Gie(s)}var eoe={isSupported:Sz};X.INTERNAL.registerComponent(new Ln(Jie,Zie,"PUBLIC").setServiceProps(eoe));function Sz(){return self&&"ServiceWorkerGlobalScope"in self?noe():toe()}function toe(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function noe(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tz="firebasestorage.googleapis.com",Iz="storageBucket",roe=2*60*1e3,ioe=10*60*1e3,Pt=function(e){Q(t,e);function t(n,r){var i=e.call(this,AE(n),"Firebase Storage: "+r+" ("+AE(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return AE(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Uc);function AE(e){return"storage/"+e}function EC(){var e="An unknown error occurred, please check the error payload for server response.";return new Pt("unknown",e)}function ooe(e){return new Pt("object-not-found","Object '"+e+"' does not exist.")}function soe(e){return new Pt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aoe(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pt("unauthenticated",e)}function uoe(){return new Pt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function loe(e){return new Pt("unauthorized","User does not have permission to access '"+e+"'.")}function coe(){return new Pt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function xz(){return new Pt("canceled","User canceled the upload/download.")}function foe(e){return new Pt("invalid-url","Invalid URL '"+e+"'.")}function hoe(e){return new Pt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function doe(){return new Pt("no-default-bucket","No default bucket found. Did you set the '"+Iz+"' property when initializing the app?")}function Cz(){return new Pt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function poe(){return new Pt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function voe(){return new Pt("no-download-url","The given file does not have any download URLs.")}function eu(e){return new Pt("invalid-argument",e)}function kz(){return new Pt("app-deleted","The Firebase app was deleted.")}function Az(e){return new Pt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mh(e,t){return new Pt("invalid-format","String does not match format '"+e+"': "+t)}function ng(e){throw new Pt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},RE=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Rz(e,t){switch(e){case ni.RAW:return new RE(Pz(t));case ni.BASE64:case ni.BASE64URL:return new RE(Nz(e,t));case ni.DATA_URL:return new RE(yoe(t),woe(t))}throw EC()}function Pz(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function moe(e){var t;try{t=decodeURIComponent(e)}catch{throw Mh(ni.DATA_URL,"Malformed data URL.")}return Pz(t)}function Nz(e,t){switch(e){case ni.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Mh(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case ni.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Mh(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=goe(t)}catch{throw Mh(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var Oz=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Mh(ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=_oe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function yoe(e){var t=new Oz(e);return t.base64?Nz(ni.BASE64,t.rest):moe(t.rest)}function woe(e){var t=new Oz(e);return t.contentType}function _oe(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var boe={STATE_CHANGED:"state_changed"},Kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PE(e){switch(e){case"running":case"pausing":case"canceling":return Kn.RUNNING;case"paused":return Kn.PAUSED;case"success":return Kn.SUCCESS;case"canceled":return Kn.CANCELED;case"error":return Kn.ERROR;default:return Kn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(tu||(tu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eoe=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=tu.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=tu.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=tu.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw ng("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ng("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ng("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ng("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function Soe(){return new Eoe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Toe=function(){function e(){}return e.prototype.createConnection=function(){return Soe()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw hoe(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(Y){Y.path_=decodeURIComponent(Y.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+g,"i"),w={bucket:1,path:3},b=n===Tz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",S=new RegExp("^https?://"+b+"/"+i+"/"+x,"i"),T={bucket:1,path:2},C=[{regex:l,indices:c,postModify:s},{regex:y,indices:w,postModify:h},{regex:S,indices:T,postModify:h}],k=0;k<C.length;k++){var D=C[k],O=D.regex.exec(t);if(O){var j=O[D.indices.bucket],L=O[D.indices.path];L||(L=""),r=new e(j,L),D.postModify(r);break}}if(r==null)throw foe(t);return r},e}(),Ioe=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xoe(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];c||(c=!0,t.apply(null,w))}function d(w){i=setTimeout(function(){i=null,e(v,l())},w)}function v(w){for(var b=[],x=1;x<arguments.length;x++)b[x-1]=arguments[x];if(!c){if(w){h.call.apply(h,me([null,w],b));return}var S=l()||s;if(S){h.call.apply(h,me([null,w],b));return}r<64&&(r*=2);var T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}}var g=!1;function y(w){g||(g=!0,!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function Coe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(e){return e!==void 0}function Aoe(e){return typeof e=="function"}function Roe(e){return typeof e=="object"&&!Array.isArray(e)}function O0(e){return typeof e=="string"||e instanceof String}function DL(e){return SC()&&e instanceof Blob}function SC(){return typeof Blob<"u"}function KT(e,t,n,r){if(r<t)throw eu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw eu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function Dz(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Poe=function(){function e(t,n,r,i,s,a,l,c,h,d,v){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){g.resolve_=y,g.reject_=w,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new rg(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(c){var h=c.loaded,d=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var c=a.getErrorCode()===tu.NO_ERROR,h=a.getStatus();if(!c||t.isRetryStatusCode_(h)){var d=a.getErrorCode()===tu.ABORT;i(!1,new rg(!1,null,d));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new rg(v,a))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());koe(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var d=EC();d.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,d)):l(d)}else if(s.canceled){var d=t.appDelete_?kz():xz();l(d)}else{var d=coe();l(d)}}this.canceled_?r(!1,new rg(!1,null,!0)):this.backoffId_=xoe(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Coe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),rg=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Noe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Ooe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Doe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Loe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Moe(e,t,n,r,i,s){var a=Dz(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return Doe(c,t),Noe(c,n),Ooe(c,s),Loe(c,r),new Poe(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Foe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=joe();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(SC())return new Blob(e);throw new Pt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function Uoe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TC=function(){function e(t,n){var r=0,i="";DL(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(DL(this.data_)){var r=this.data_,i=Uoe(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(SC()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(Foe.apply(null,r))}else{var i=t.map(function(c){return O0(c)?Rz(ni.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(e){var t;try{t=JSON.parse(e)}catch{return null}return Roe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function Voe(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function Lz(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(e,t){return t}var Vn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Boe}return e}(),ig=null;function zoe(e){return!O0(e)||e.length<2?e:Lz(e)}function D0(){if(ig)return ig;var e=[];e.push(new Vn("bucket")),e.push(new Vn("generation")),e.push(new Vn("metageneration")),e.push(new Vn("name","fullPath",!0));function t(s,a){return zoe(a)}var n=new Vn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Vn("size");return i.xform=r,e.push(i),e.push(new Vn("timeCreated")),e.push(new Vn("updated")),e.push(new Vn("md5Hash",null,!0)),e.push(new Vn("cacheControl",null,!0)),e.push(new Vn("contentDisposition",null,!0)),e.push(new Vn("contentEncoding",null,!0)),e.push(new Vn("contentLanguage",null,!0)),e.push(new Vn("contentType",null,!0)),e.push(new Vn("metadata","customMetadata",!0)),ig=e,ig}function qoe(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new ri(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Woe(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return qoe(r,e),r}function Mz(e,t,n){var r=IC(t);if(r===null)return null;var i=r;return Woe(e,i,n)}function Hoe(e,t,n){var r=IC(t);if(r===null||!O0(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),g=na(v,n),y=Dz({alt:"media",token:c});return g+y});return l[0]}function xC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LL="prefixes",ML="items";function Koe(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[LL])for(var i=0,s=n[LL];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new ri(t,l));r.prefixes.push(c)}if(n[ML])for(var h=0,d=n[ML];h<d.length;h++){var v=d[h],c=e._makeStorageReference(new ri(t,v.name));r.items.push(c)}return r}function Goe(e,t,n){var r=IC(n);if(r===null)return null;var i=r;return Koe(e,t,i)}var Qo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(e){if(!e)throw EC()}function L0(e,t){function n(r,i){var s=Mz(e,i,t);return so(s!==null),s}return n}function Qoe(e,t){function n(r,i){var s=Goe(e,t,i);return so(s!==null),s}return n}function Yoe(e,t){function n(r,i){var s=Mz(e,i,t);return so(s!==null),Hoe(s,i,e.host)}return n}function nf(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=uoe():i=aoe():n.getStatus()===402?i=soe(e.bucket):n.getStatus()===403?i=loe(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function M0(e){var t=nf(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=ooe(e.path)),s.serverResponse=i.serverResponse,s}return n}function jz(e,t,n){var r=t.fullServerUrl(),i=na(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Qo(i,s,L0(e,n),a);return l.errorHandler=M0(t),l}function Xoe(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=na(a,e.host),c="GET",h=e.maxOperationRetryTime,d=new Qo(l,c,Qoe(e,t.bucket),h);return d.urlParams=s,d.errorHandler=nf(t),d}function Joe(e,t,n){var r=t.fullServerUrl(),i=na(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new Qo(i,s,Yoe(e,n),a);return l.errorHandler=M0(t),l}function Zoe(e,t,n,r){var i=t.fullServerUrl(),s=na(i,e.host),a="PATCH",l=xC(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new Qo(s,a,L0(e,r),h);return d.headers=c,d.body=l,d.errorHandler=M0(t),d}function ese(e,t){var n=t.fullServerUrl(),r=na(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new Qo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=M0(t),l}function tse(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Fz(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=tse(null,t)),r}function nse(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",k=0;k<2;k++)C=C+Math.random().toString().slice(2);return C}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=Fz(t,r,i),d=xC(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=TC.getBlob(v,r,g);if(y===null)throw Cz();var w={name:h.fullPath},b=na(s,e.host),x="POST",S=e.maxUploadRetryTime,T=new Qo(b,x,L0(e,n),S);return T.urlParams=w,T.headers=a,T.body=y.uploadData(),T.errorHandler=nf(t),T}var ny=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function CC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{so(!1)}var r=t||["active"];return so(!!n&&r.indexOf(n)!==-1),n}function rse(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=Fz(t,r,i),l={name:a.fullPath},c=na(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=xC(a,n),g=e.maxUploadRetryTime;function y(b){CC(b);var x;try{x=b.getResponseHeader("X-Goog-Upload-URL")}catch{so(!1)}return so(O0(x)),x}var w=new Qo(c,h,y,g);return w.urlParams=l,w.headers=d,w.body=v,w.errorHandler=nf(t),w}function ise(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=CC(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{so(!1)}v||so(!1);var g=Number(v);return so(!isNaN(g)),new ny(g,r.size(),d==="final")}var a="POST",l=e.maxUploadRetryTime,c=new Qo(n,a,s,l);return c.headers=i,c.errorHandler=nf(t),c}var jL=256*1024;function ose(e,t,n,r,i,s,a,l){var c=new ny(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw poe();var h=c.total-c.current,d=h;i>0&&(d=Math.min(d,i));var v=c.current,g=v+d,y=d===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+c.current},b=r.slice(v,g);if(b===null)throw Cz();function x(k,D){var O=CC(k,["active","final"]),j=c.current+d,L=r.size(),Y;return O==="final"?Y=L0(t,s)(k,D):Y=null,new ny(j,L,O==="final",Y)}var S="POST",T=t.maxUploadRetryTime,C=new Qo(n,S,x,T);return C.headers=w,C.body=b.uploadData(),C.progressCallback=l||null,C.errorHandler=nf(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sse=function(){function e(t,n,r){var i=Aoe(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uz=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=D0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=rse(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=ise(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=jL*this._chunkMultiplier,r=new ny(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=ose(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=jL*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=jz(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=nse(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=xz(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=PE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new sse(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(PE(this._state)){case Kn.SUCCESS:dl(this._resolve.bind(null,this.snapshot))();break;case Kn.CANCELED:case Kn.ERROR:var n=this._reject;dl(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=PE(this._state);switch(n){case Kn.RUNNING:case Kn.PAUSED:t.next&&dl(t.next.bind(t,this.snapshot))();break;case Kn.SUCCESS:t.complete&&dl(t.complete.bind(t))();break;case Kn.CANCELED:case Kn.ERROR:t.error&&dl(t.error.bind(t,this._error))();break;default:t.error&&dl(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j0=function(){function e(t,n){this._service=t,n instanceof ri?this._location=n:this._location=ri.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ri(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Lz(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=$oe(this._location.path);if(t===null)return null;var n=new ri(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Az(t)},e}();function ase(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Uz(e,new TC(t),n)}function use(e){var t={prefixes:[],items:[]};return $z(e,t).then(function(){return t})}function $z(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return P(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,Vz(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,$z(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Vz(e,t){return N(this,void 0,void 0,function(){var n,r;return P(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&KT("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Xoe(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function lse(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=jz(e.storage,e._location,D0()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function cse(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=Zoe(e.storage,e._location,t,D0()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function fse(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Joe(e.storage,e._location,D0()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw voe();return r})]}})})}function hse(e){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=ese(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Bz(e,t){var n=Voe(e._location.path,t),r=new ri(e._location.bucket,n);return new j0(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e){return/^[A-Za-z]+:\/\//.test(e)}function dse(e,t){return new j0(e,t)}function zz(e,t){if(e instanceof F0){var n=e;if(n._bucket==null)throw doe();var r=new j0(n,n._bucket);return t!=null?zz(r,t):r}else if(t!==void 0){if(t.includes(".."))throw eu('`path` param cannot contain ".."');return Bz(e,t)}else return e}function pse(e,t){if(t&&GT(t)){if(e instanceof F0)return dse(e,t);throw eu("To use ref(service, url), the first argument must be a Storage instance.")}else return zz(e,t)}function FL(e,t){var n=t==null?void 0:t[Iz];return n==null?null:ri.makeFromBucketSpec(n,e)}function vse(e,t,n){e.host="http://"+t+":"+n}var F0=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=Tz,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=roe,this._maxUploadRetryTime=ioe,this._requests=new Set,s!=null?this._bucket=ri.makeFromBucketSpec(s,this._host):this._bucket=FL(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=ri.makeFromBucketSpec(this._url,t):this._bucket=FL(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){KT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){KT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new j0(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new Ioe(kz());var s=Moe(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return N(this,void 0,void 0,function(){var n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gse(e,t,n){return e=ve(e),ase(e,t,n)}function mse(e){return e=ve(e),lse(e)}function yse(e,t){return e=ve(e),cse(e,t)}function wse(e,t){return e=ve(e),Vz(e,t)}function _se(e){return e=ve(e),use(e)}function bse(e){return e=ve(e),fse(e)}function Ese(e){return e=ve(e),hse(e)}function UL(e,t){return e=ve(e),pse(e,t)}function Sse(e,t){return Bz(e,t)}function Tse(e,t,n){vse(e,t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new og(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new og(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new og(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new og(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),VL=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Pd(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Pd(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Sse(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new $L(gse(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=ni.RAW),this._throwIfRoot("putString");var i=Rz(n,t),s=ue({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new $L(new Uz(this._delegate,new TC(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return _se(this._delegate).then(function(n){return new VL(n,t.storage)})},e.prototype.list=function(t){var n=this;return wse(this._delegate,t||void 0).then(function(r){return new VL(r,n.storage)})},e.prototype.getMetadata=function(){return mse(this._delegate)},e.prototype.updateMetadata=function(t){return yse(this._delegate,t)},e.prototype.getDownloadURL=function(){return bse(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Ese(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Az(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ise=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(GT(t))throw eu("ref() expected a child path but got a URL, use refFromURL instead.");return new Pd(UL(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!GT(t))throw eu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ri.makeFromUrl(t,this._delegate.host)}catch{throw eu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pd(UL(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){Tse(this._delegate,t,n)},e}(),xse="@firebase/storage",Cse="0.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kse="storage";function Ase(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new Ise(r,new F0(r,i,s,new Toe,n,X.SDK_VERSION));return a}function Rse(e){var t={TaskState:Kn,TaskEvent:boe,StringFormat:ni,Storage:F0,Reference:Pd};e.INTERNAL.registerComponent(new Ln(kse,Ase,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(xse,Cse)}Rse(X);var Pse="@firebase/performance",qz="0.4.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wz=qz,Nse="FB-PERF-TRACE-START",Ose="FB-PERF-TRACE-STOP",QT="FB-PERF-TRACE-MEASURE",Hz="_wt_",Kz="_fp",Gz="_fcp",Qz="_fid",Yz="@firebase/performance/config",Xz="@firebase/performance/configexpire",Dse="performance",Jz="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Lse=(on={},on["trace started"]="Trace {$traceName} was started before.",on["trace stopped"]="Trace {$traceName} is not running.",on["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",on["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",on["no window"]="Window is not available.",on["no app id"]="App id is not available.",on["no project id"]="Project id is not available.",on["no api key"]="Api key is not available.",on["invalid cc log"]="Attempted to queue invalid cc event",on["FB not default"]="Performance can only start when Firebase app instance is the default one.",on["RC response not ok"]="RC response is not ok",on["invalid attribute name"]="Attribute name {$attributeName} is invalid.",on["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",on["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",on["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",on),Cn=new Ho(Dse,Jz,Lse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qo=new Tu(Jz);qo.logLevel=be.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE,Zz,Nn=function(){function e(t){if(this.window=t,!t)throw Cn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(qo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):Wd()?!0:(qo.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return NE===void 0&&(NE=new e(Zz)),NE},e}();function Mse(e){Zz=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(e,t){var n=e.length-t.length;if(n<0||n>1)throw Cn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OE,Ut=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=BL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=BL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Cn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Cn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Cn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return OE===void 0&&(OE=new e),OE},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e3;function jse(){var e=Ut.getInstance().installationsService.getId();return e.then(function(t){e3=t}),e}function kC(){return e3}function Fse(){var e=Ut.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Kl||(Kl={}));var Use=["firebase_","google_","ga_"],$se=new RegExp("^[a-zA-Z]\\w*$"),Vse=40,Bse=100;function zse(){var e=Nn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function t3(){var e=Nn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Kl.VISIBLE;case"hidden":return Kl.HIDDEN;default:return Kl.UNKNOWN}}function qse(){var e=Nn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Wse(e){if(e.length===0||e.length>Vse)return!1;var t=Use.some(function(n){return e.startsWith(n)});return!t&&!!e.match($se)}function Hse(e){return e.length!==0&&e.length<=Bse}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kse="0.0.1",Gse={loggingEnabled:!0},Qse="FIREBASE_INSTALLATIONS_AUTH";function Yse(e){var t=Xse();return t?(zL(t),Promise.resolve()):eae(e).then(zL).then(function(n){return Jse(n)},function(){})}function Xse(){var e=Nn.getInstance().localStorage;if(e){var t=e.getItem(Xz);if(!(!t||!tae(t))){var n=e.getItem(Yz);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function Jse(e){var t=Nn.getInstance().localStorage;!e||!t||(t.setItem(Yz,JSON.stringify(e)),t.setItem(Xz,String(Date.now()+Ut.getInstance().configTimeToLive*60*60*1e3)))}var Zse="Could not fetch config, will use default configs";function eae(e){return Fse().then(function(t){var n=Ut.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Ut.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Qse+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Ut.getInstance().getAppId(),app_version:Wz,sdk_version:Kse})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Cn.create("RC response not ok")})}).catch(function(){qo.info(Zse)})}function zL(e){if(!e)return e;var t=Ut.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=Gse.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=qL(t.tracesSamplingRate),t.logNetworkAfterSampling=qL(t.networkRequestsSamplingRate),e}function tae(e){return Number(e)>Date.now()}function qL(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AC=1,DE;function n3(){return AC=2,DE=DE||rae(),DE}function nae(){return AC===3}function rae(){return iae().then(function(){return jse()}).then(function(e){return Yse(e)}).then(function(){return WL()},function(){return WL()})}function iae(){var e=Nn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function WL(){AC=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RC=10*1e3,oae=5.5*1e3,r3=3,sae=1e3,ry=r3,js=[],HL=!1;function aae(){HL||(U0(oae),HL=!0)}function U0(e){setTimeout(function(){if(ry!==0){if(!js.length)return U0(RC);uae()}},e)}function uae(){var e=js.splice(0,sae),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ut.getInstance().logSource,log_event:t};lae(n,e).catch(function(){js=me(me([],e),js),ry--,qo.info("Tries left: "+ry+"."),U0(RC)})}function lae(e,t){return cae(e).then(function(n){return n.ok||qo.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=RC;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(js=me(me([],t),js),qo.info("Retry transport request later.")),ry=r3,U0(i)})}function cae(e){var t=Ut.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function fae(e){if(!e.eventTime||!e.message)throw Cn.create("invalid cc log");js=me(me([],js),[e])}function hae(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);fae({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LE;function i3(e,t){LE||(LE=hae(pae)),LE(e,t)}function sg(e){var t=Ut.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||Nn.getInstance().requiredApisAvailable()&&(e.isAuto&&t3()!==Kl.VISIBLE||(nae()?ME(e):n3().then(function(){return ME(e)},function(){return ME(e)})))}function ME(e){if(kC()){var t=Ut.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return i3(e,1)},0)}}function dae(e){var t=Ut.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return i3(e,0)},0)}}function pae(e,t){return t===0?vae(e):gae(e)}function vae(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:o3(),network_request_metric:t};return JSON.stringify(n)}function gae(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:o3(),trace_metric:t};return JSON.stringify(r)}function o3(){return{google_app_id:Ut.getInstance().getAppId(),app_instance_id:kC(),web_app_info:{sdk_version:Wz,page_url:Nn.getInstance().getUrl(),service_worker_status:zse(),visibility_state:t3(),effective_connection_type:qse()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mae=100,yae="_",wae=[Kz,Gz,Qz];function _ae(e,t){return e.length===0||e.length>mae?!1:t&&t.startsWith(Hz)&&wae.indexOf(e)>-1||!e.startsWith(yae)}function bae(e){var t=Math.floor(e);return t<e&&qo.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Nn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Nse+"-"+this.randomId+"-"+this.name,this.traceStopMark=Ose+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||QT+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Cn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Cn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),sg(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Cn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Cn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=ue({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}sg(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(_ae(t,this.name))this.counters[t]=bae(n);else throw Cn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=Wse(t),i=Hse(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Cn.create("invalid attribute name",{attributeName:t});if(!i)throw Cn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return ue({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=Nn.getInstance().getUrl();if(i){var s=new e(Hz+i,!0),a=Math.floor(Nn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(Kz,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===c});d&&d.startTime&&s.putMetric(Gz,Math.floor(d.startTime*1e3)),r&&s.putMetric(Qz,Math.floor(r*1e3))}sg(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);sg(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=Nn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};dae(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eae=5e3;function GL(){kC()&&(setTimeout(function(){return Tae()},0),setTimeout(function(){return Sae()},0),setTimeout(function(){return Iae()},0))}function Sae(){for(var e=Nn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];KL(i)}e.setupObserver("resource",KL)}function Tae(){var e=Nn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){jh.createOobTrace(t,n),r=void 0},Eae);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),jh.createOobTrace(t,n,i))})}else jh.createOobTrace(t,n)}function Iae(){for(var e=Nn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];QL(i)}e.setupObserver("measure",QL)}function QL(e){var t=e.name;t.substring(0,QT.length)!==QT&&jh.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xae=function(){function e(t){this.app=t,Nn.getInstance().requiredApisAvailable()&&lI().then(function(n){n&&(aae(),n3().then(GL,GL))}).catch(function(n){qo.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new jh(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Ut.getInstance().instrumentationEnabled},set:function(t){Ut.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Ut.getInstance().dataCollectionEnabled},set:function(t){Ut.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cae="[DEFAULT]";function kae(e){var t=function(n,r){if(n.name!==Cae)throw Cn.create("FB not default");if(typeof window>"u")throw Cn.create("no window");return Mse(window),Ut.getInstance().firebaseAppInstance=n,Ut.getInstance().installationsService=r,new xae(n)};e.INTERNAL.registerComponent(new Ln("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(Pse,qz)}kae(X);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aae="firebase_id",Rae="origin",Pae=60*1e3,Nae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",s3="https://www.googletagmanager.com/gtag/js",On;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(On||(On={}));var YT;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(YT||(YT={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oae(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a;return P(this,function(l){switch(l.label){case 0:return i&&i.global?(e(On.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=ue(ue({},r),{send_to:s}),e(On.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Dae(e,t,n,r){return N(this,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return r&&r.global?(e(On.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(On.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Lae(e,t,n,r){return N(this,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return r&&r.global?(e(On.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(On.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Mae(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(On.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(On.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function jae(e,t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=new Tu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fae(e,t){var n=document.createElement("script");n.src=s3+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Uae(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function $ae(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,l,c,h;return P(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=d.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),cn.error(h),[3,8];case 8:return e(On.CONFIG,i,s),[2]}})})}function Vae(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a,l,c,h,d,v,g,y;return P(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=w.sent(),c=function(b){var x=l.find(function(T){return T.measurementId===b}),S=x&&t[x.appId];if(S)s.push(S);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=c(v),g!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return w.sent(),e(On.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),cn.error(y),[3,5];case 5:return[2]}})})}function Bae(e,t,n,r){function i(s,a,l){return N(this,void 0,void 0,function(){var c;return P(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==On.EVENT?[3,2]:[4,Vae(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==On.CONFIG?[3,4]:[4,$ae(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(On.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),cn.error(c),[3,7];case 7:return[2]}})})}return i}function zae(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Bae(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function qae(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(s3))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si,Wae=(Si={},Si["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Si["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Si["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Si["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Si["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Si["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Si["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Si["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Si["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Si),ai=new Ho("analytics","Analytics",Wae);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hae=30,Kae=1e3,Gae=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=Kae),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),a3=new Gae;function Qae(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Yae(e){var t;return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return P(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Qae(r)},s=Nae.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw ai.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Xae(e,t,n){return t===void 0&&(t=a3),N(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return P(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw ai.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw ai.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new eue,setTimeout(function(){return N(h,void 0,void 0,function(){return P(this,function(v){return c.abort(),[2]})})},Pae),[2,u3({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function u3(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=a3),N(this,void 0,void 0,function(){var a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Jae(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return cn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,Yae(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!Zae(d)){if(r.deleteThrottleMetadata(a),l)return cn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:l}];throw d}return v=Number(d.customData.httpStatus)===503?YS(s,r.intervalMillis,Hae):YS(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),cn.debug("Calling attemptFetch again in "+v+" millis"),[2,u3(e,g,n,r)];case 7:return[2]}})})}function Jae(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(ai.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Zae(e){if(!(e instanceof Uc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var eue=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(){return N(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return Wd()?[3,1]:(cn.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,lI()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),cn.warn(ai.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function nue(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return a=Xae(e),a.then(function(w){n[w.measurementId]=w.appId,e.options.measurementId&&w.measurementId!==e.options.measurementId&&cn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+w.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(w){return cn.error(w)}),t.push(a),l=tue().then(function(w){if(w)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],d=c[1],qae()||Fae(s,h.measurementId),i("js",new Date),v=(g={},g[Rae]="firebase",g.update=!0,g),d!=null&&(v[Aae]=d),i(On.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So={},YL=[],XL={},Lg="dataLayer",l3="gtag",JL,eh,XT=!1;function rue(e){if(XT)throw ai.create("already-initialized");e.dataLayerName&&(Lg=e.dataLayerName),e.gtagName&&(l3=e.gtagName)}function iue(){var e=[];if(uI()&&e.push("This is a browser extension environment."),AU()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=ai.create("invalid-analytics-context",{errorInfo:t});cn.warn(n.message)}}function oue(e,t){iue();var n=e.options.appId;if(!n)throw ai.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)cn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw ai.create("no-api-key");if(So[n]!=null)throw ai.create("already-exists",{id:n});if(!XT){Uae(Lg);var r=zae(So,YL,XL,Lg,l3),i=r.wrappedGtag,s=r.gtagCore;eh=i,JL=s,XT=!0}So[n]=nue(e,YL,XL,t,JL,Lg);var a={app:e,logEvent:function(l,c,h){Oae(eh,So[n],l,c,h).catch(function(d){return cn.error(d)})},setCurrentScreen:function(l,c){Dae(eh,So[n],l,c).catch(function(h){return cn.error(h)})},setUserId:function(l,c){Lae(eh,So[n],l,c).catch(function(h){return cn.error(h)})},setUserProperties:function(l,c){Mae(eh,So[n],l,c).catch(function(h){return cn.error(h)})},setAnalyticsCollectionEnabled:function(l){jae(So[n],l).catch(function(c){return cn.error(c)})},INTERNAL:{delete:function(){return delete So[n],Promise.resolve()}}};return a}var sue="@firebase/analytics",aue="0.6.17",ZL="analytics";function uue(e){e.INTERNAL.registerComponent(new Ln(ZL,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return oue(r,i)},"PUBLIC").setServiceProps({settings:rue,EventName:YT,isSupported:lue})),e.INTERNAL.registerComponent(new Ln("analytics-internal",t,"PRIVATE")),e.registerVersion(sue,aue);function t(n){try{var r=n.getProvider(ZL).getImmediate();return{logEvent:r.logEvent}}catch(i){throw ai.create("interop-component-reg-failed",{reason:i})}}}uue(X);function lue(){return N(this,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:if(uI())return[2,!1];if(!AU())return[2,!1];if(!Wd())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,lI()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cue=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,fue=(Bn={},Bn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Bn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Bn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Bn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Bn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Bn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Bn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Bn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Bn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Bn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Bn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Bn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Bn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Bn),ii=new Ho("remoteconfig","Remote Config",fue);function hue(e,t){return e instanceof Uc&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function due(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pue=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,g,y,w,b,x,S,T,C,k;return P(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:due()},h={method:"POST",headers:l,body:JSON.stringify(c)},d=fetch(a,h),v=new Promise(function(O,j){t.signal.addEventListener(function(){var L=new Error("The operation was aborted.");L.name="AbortError",j(L)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return D.sent(),[4,d];case 4:return g=D.sent(),[3,6];case 5:throw y=D.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),ii.create(w,{originalErrorMessage:y.message});case 6:if(b=g.status,x=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];C=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,g.json()];case 8:return C=D.sent(),[3,10];case 9:throw k=D.sent(),ii.create("fetch-client-parse",{originalErrorMessage:k.message});case 10:S=C.entries,T=C.state,D.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?b=500:T==="NO_CHANGE"?b=304:(T==="NO_TEMPLATE"||T==="EMPTY_CONFIG")&&(S={}),b!==304&&b!==200)throw ii.create("fetch-status",{httpStatus:b});return[2,{status:b,eTag:x,config:S}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vue=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gue=!1,mue="",eM=0,yue=["1","true","t","yes","y","on"],jE=function(){function e(t,n){n===void 0&&(n=mue),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?gue:yue.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return eM;var t=Number(this._value);return isNaN(t)&&(t=eM),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wue=60*1e3,_ue=12*60*60*1e3,bue=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:wue,minimumFetchIntervalMillis:_ue},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=be.DEBUG;break;case"silent":this._logger.logLevel=be.SILENT;break;default:this._logger.logLevel=be.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return N(this,void 0,void 0,function(){var t,n,r,i=this;return P(this,function(s){switch(s.label){case 0:t=new vue,setTimeout(function(){return N(i,void 0,void 0,function(){return P(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=hue(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return Eue(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new jE("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new jE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new jE("static"))},e}();function Eue(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(ue(ue({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(e,t){var n=e.target.error||void 0;return ii.create(t,{originalErrorMessage:n&&n.message})}var Ra="app_namespace_store",Sue="firebase_remote_config",Tue=1;function Iue(){return new Promise(function(e,t){var n=indexedDB.open(Sue,Tue);n.onerror=function(r){t(Mg(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ra,{keyPath:"compositeKey"})}}})}var xue=function(){function e(t,n,r,i){i===void 0&&(i=Iue()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ra],"readonly"),c=l.objectStore(Ra),h=r.createCompositeKey(t);try{var d=c.get(h);d.onerror=function(v){a(Mg(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(ii.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return N(this,void 0,void 0,function(){var r,i=this;return P(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Ra],"readwrite"),h=c.objectStore(Ra),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){l(Mg(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){l(ii.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return N(this,void 0,void 0,function(){var n,r=this;return P(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ra],"readwrite"),c=l.objectStore(Ra),h=r.createCompositeKey(t);try{var d=c.delete(h);d.onerror=function(v){a(Mg(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(ii.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cue=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a;return P(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(ii.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Aue(e){if(!(e instanceof Uc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Rue=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var s,a,l;return P(this,function(c){switch(c.label){case 0:return[4,kue(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Aue(a))throw a;return l={throttleEndTimeMillis:Date.now()+YS(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),tM="@firebase/remote-config",Pue="0.1.42";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nue(e){e.INTERNAL.registerComponent(new Ln("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(tM,Pue);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw ii.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,d=l.appId;if(!c)throw ii.create("registration-project-id");if(!h)throw ii.create("registration-api-key");if(!d)throw ii.create("registration-app-id");i=i||"firebase";var v=new xue(d,s.name,i),g=new Cue(v),y=new Tu(tM);y.logLevel=be.ERROR;var w=new pue(a,e.SDK_VERSION,i,c,h,d),b=new Rue(w,v),x=new cue(b,v,g,y),S=new bue(s,x,g,v,y);return S.ensureInitialized(),S}}Nue(X);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti,Oue=(Ti={},Ti["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Ti["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Ti["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ti["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ti["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ti["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ti["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ti["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ti["recaptcha-error"]="ReCAPTCHA error.",Ti),Fr=new Ho("appCheck","AppCheck",Oue);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c3=new Map,Due={activated:!1,tokenObservers:[]},Lue={enabled:!1};function er(e){return c3.get(e)||Due}function ao(e,t){c3.set(e,t)}function PC(){return Lue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f3="https://content-firebaseappcheck.googleapis.com/v1beta",Mue="exchangeRecaptchaToken",jue="exchangeDebugToken",nM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fue=function(){function e(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(t){return N(this,void 0,void 0,function(){var n;return P(this,function(r){switch(r.label){case 0:this.stop(),r.label=1;case 1:return r.trys.push([1,6,,7]),this.pending=new Xt,[4,Uue(this.getNextRun(t))];case 2:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return r.sent(),this.pending=new Xt,[4,this.operation()];case 4:return r.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return r.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return n=r.sent(),this.retryPolicy(n)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}})})},e.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n},e}();function Uue(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return self.grecaptcha}function h3(e){if(!er(e).activated)throw Fr.create("use-before-activation",{appName:e.name})}function $ue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function Vue(e){return sc.encodeString(JSON.stringify(e),!1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e,t){var n=e.url,r=e.body;return N(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,g,y;return P(this,function(w){switch(w.label){case 0:i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0}),s&&(i["X-Firebase-Client"]=s.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:i},w.label=1;case 1:return w.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return l=w.sent(),[3,4];case 3:throw c=w.sent(),Fr.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(l.status!==200)throw Fr.create("fetch-status-error",{httpStatus:l.status});w.label=5;case 5:return w.trys.push([5,7,,8]),[4,l.json()];case 6:return h=w.sent(),[3,8];case 7:throw d=w.sent(),Fr.create("fetch-parse-error",{originalErrorMessage:d.message});case 8:if(v=h.ttl.match(/^([\d.]+)(s)$/),!v||!v[2]||isNaN(Number(v[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+("format: "+h.ttl)});return g=Number(v[1])*1e3,y=Date.now(),[2,{token:h.attestationToken,expireTimeMillis:y+g,issuedAtTimeMillis:y}]}})})}function Bue(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:f3+"/projects/"+r+"/apps/"+i+":"+Mue+"?key="+s,body:{recaptcha_token:t}}}function zue(e,t){var n=e.options,r=n.projectId,i=n.appId,s=n.apiKey;return{url:f3+"/projects/"+r+"/apps/"+i+":"+jue+"?key="+s,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var que="firebase-app-check-database",Wue=1,Nd="firebase-app-check-store",p3="debug-token",ag=null;function v3(){return ag||(ag=new Promise(function(e,t){try{var n=indexedDB.open(que,Wue);n.onsuccess=function(r){e(r.target.result)},n.onerror=function(r){var i;t(Fr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nd,{keyPath:"compositeKey"})}}}catch(r){t(Fr.create("storage-open",{originalErrorMessage:r.message}))}}),ag)}function Hue(e){return m3(y3(e))}function Kue(e,t){return g3(y3(e),t)}function Gue(e){return g3(p3,e)}function Que(){return m3(p3)}function g3(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return P(this,function(a){switch(a.label){case 0:return[4,v3()];case 1:return n=a.sent(),r=n.transaction(Nd,"readwrite"),i=r.objectStore(Nd),s=i.put({compositeKey:e,value:t}),[2,new Promise(function(l,c){s.onsuccess=function(h){l()},r.onerror=function(h){var d;c(Fr.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})]}})})}function m3(e){return N(this,void 0,void 0,function(){var t,n,r,i;return P(this,function(s){switch(s.label){case 0:return[4,v3()];case 1:return t=s.sent(),n=t.transaction(Nd,"readonly"),r=n.objectStore(Nd),i=r.get(e),[2,new Promise(function(a,l){i.onsuccess=function(c){var h=c.target.result;a(h?h.value:void 0)},n.onerror=function(c){var h;l(Fr.create("storage-get",{originalErrorMessage:(h=c.target.error)===null||h===void 0?void 0:h.message}))}})]}})})}function y3(e){return e.options.appId+"-"+e.name}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $0=new Tu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yue(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:if(!Wd())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Hue(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),$0.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function iM(e,t){return Wd()?Kue(e,t).catch(function(n){$0.warn("Failed to write token to indexeddb. Error: "+n)}):Promise.resolve()}function Xue(){return N(this,void 0,void 0,function(){var e,t;return P(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Que()];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t=$ue(),Gue(t).catch(function(r){return $0.warn("Failed to persist debug token to indexeddb. Error: "+r)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jue(){var e=PC();return e.enabled}function Zue(){return N(this,void 0,void 0,function(){var e;return P(this,function(t){if(e=PC(),e.enabled&&e.token)return[2,e.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}function ele(){var e=e9();if(!(typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)){var t=PC();t.enabled=!0;var n=new Xt;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(Xue())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tle={error:"UNKNOWN_ERROR"};function iy(e,t,n){return n===void 0&&(n=!1),N(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,g;return P(this,function(y){switch(y.label){case 0:return h3(e),r=er(e),i=r.token,s=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:a=y.sent(),a&&Od(a)&&(i=a,ao(e,ue(ue({},r),{token:i})),oM(e,{token:i.token})),y.label=2;case 2:return!n&&i&&Od(i)?[2,{token:i.token}]:Jue()?(c=d3,h=zue,d=[e],[4,Zue()]):[3,6];case 3:return[4,c.apply(void 0,[h.apply(void 0,d.concat([y.sent()])),t])];case 4:return l=y.sent(),[4,iM(e,l)];case 5:return y.sent(),ao(e,ue(ue({},r),{token:l})),[2,{token:l.token}];case 6:return y.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=y.sent(),[3,9];case 8:return v=y.sent(),$0.error(v),s=v,[3,9];case 9:return i?[3,10]:(g=rle(s),[3,12]);case 10:return g={token:i.token},ao(e,ue(ue({},r),{token:i})),[4,iM(e,i)];case 11:y.sent(),y.label=12;case 12:return oM(e,g),[2,g]}})})}function w3(e,t,n,r,i){var s=er(e),a={next:r,error:i,type:n},l=ue(ue({},s),{tokenObservers:me(me([],s.tokenObservers),[a])});if(!l.tokenRefresher){var c=nle(e,t);l.tokenRefresher=c}if(!l.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&l.tokenRefresher.start(),s.token&&Od(s.token)){var h=s.token;Promise.resolve().then(function(){return r({token:h.token})}).catch(function(){})}else s.token==null&&s.cachedTokenPromise.then(function(d){d&&Od(d)&&r({token:d.token})}).catch(function(){});ao(e,l)}function NC(e,t){var n=er(e),r=n.tokenObservers.filter(function(i){return i.next!==t});r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),ao(e,ue(ue({},n),{tokenObservers:r}))}function nle(e,t){var n=this;return new Fue(function(){return N(n,void 0,void 0,function(){var r,i;return P(this,function(s){switch(s.label){case 0:return r=er(e),r.token?[3,2]:[4,iy(e,t)];case 1:return i=s.sent(),[3,4];case 2:return[4,iy(e,t,!0)];case 3:i=s.sent(),s.label=4;case 4:if(i.error)throw i.error;return[2]}})})},function(){return!0},function(){var r=er(e);if(r.token){var i=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5,s=r.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},nM.RETRIAL_MIN_WAIT,nM.RETRIAL_MAX_WAIT)}function oM(e,t){for(var n=er(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];try{s.type==="EXTERNAL"&&t.error!=null?s.error(t.error):s.next(t)}catch{}}}function Od(e){return e.expireTimeMillis-Date.now()>0}function rle(e){return{token:Vue(tle),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ile="https://www.google.com/recaptcha/api.js";function ole(e,t){var n=er(e),r=new Xt;ao(e,ue(ue({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var a=rM();return a?a.ready(function(){sM(e,t,a,i),r.resolve(a)}):ale(function(){var l=rM();if(!l)throw new Error("no recaptcha");l.ready(function(){sM(e,t,l,i),r.resolve(l)})}),r.promise}function sle(e){return N(this,void 0,void 0,function(){var t,n;return P(this,function(r){switch(r.label){case 0:return h3(e),t=er(e).reCAPTCHAState,[4,t.initialized.promise];case 1:return n=r.sent(),[2,new Promise(function(i,s){var a=er(e).reCAPTCHAState;n.ready(function(){i(n.execute(a.widgetId,{action:"fire_app_check"}))})})]}})})}function sM(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),s=er(e);ao(e,ue(ue({},s),{reCAPTCHAState:ue(ue({},s.reCAPTCHAState),{widgetId:i})}))}function ale(e){var t=document.createElement("script");t.src=""+ile,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JT=function(){function e(t){this._siteKey=t}return e.prototype.getToken=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:if(!this._app||!this._platformLoggerProvider)throw Fr.create("use-before-activation",{appName:""});n.label=1;case 1:return n.trys.push([1,3,,4]),[4,sle(this._app)];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),Fr.create("recaptcha-error");case 4:return[2,d3(Bue(this._app,t),this._platformLoggerProvider)]}})})},e.prototype.initialize=function(t,n){this._app=t,this._platformLoggerProvider=n,ole(t,this._siteKey).catch(function(){})},e}(),ZT=function(){function e(t){this._customProviderOptions=t}return e.prototype.getToken=function(){return N(this,void 0,void 0,function(){var t,n,r;return P(this,function(i){switch(i.label){case 0:if(!this._app)throw Fr.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=i.sent(),n=i9(t.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now(),[2,ue(ue({},t),{issuedAtTimeMillis:r})]}})})},e.prototype.initialize=function(t){this._app=t},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ule(e,t,n,r){var i=er(e);if(i.activated)throw Fr.create("already-activated",{appName:e.name});var s=ue(ue({},i),{activated:!0});s.cachedTokenPromise=Yue(e).then(function(a){return a&&Od(a)&&ao(e,ue(ue({},er(e)),{token:a})),a}),typeof t=="string"?s.provider=new JT(t):t instanceof JT||t instanceof ZT?s.provider=t:s.provider=new ZT({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=r===void 0?e.automaticDataCollectionEnabled:r,ao(e,s),s.provider.initialize(e,n)}function lle(e,t){var n=er(e);n.tokenRefresher&&(t===!0?n.tokenRefresher.start():n.tokenRefresher.stop()),ao(e,ue(ue({},n),{isTokenAutoRefreshEnabled:t}))}function cle(e,t,n){return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return[4,iy(e,t,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}})})}function fle(e,t,n,r,i){var s=function(){},a=function(){};return n.next!=null?s=n.next.bind(n):s=n,n.error!=null?a=n.error.bind(n):r&&(a=r),w3(e,t,"EXTERNAL",s,a),function(){return NC(e,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(e,t){return{app:e,activate:function(n,r){return ule(e,n,t,r)},setTokenAutoRefreshEnabled:function(n){return lle(e,n)},getToken:function(n){return cle(e,t,n)},onTokenChanged:function(n,r,i){return fle(e,t,n,r)},INTERNAL:{delete:function(){for(var n=er(e).tokenObservers,r=0,i=n;r<i.length;r++){var s=i[r];NC(e,s.next)}return Promise.resolve()}}}}function dle(e,t){return{getToken:function(n){return iy(e,t,n)},addTokenListener:function(n){return w3(e,t,"INTERNAL",n)},removeTokenListener:function(n){return NC(e,n)}}}var ple="@firebase/app-check",vle="0.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gle="appCheck",aM="app-check-internal";function mle(e){e.INTERNAL.registerComponent(new Ln(gle,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return hle(n,r)},"PUBLIC").setServiceProps({ReCaptchaV3Provider:JT,CustomProvider:ZT}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider(aM);i.initialize()})),e.INTERNAL.registerComponent(new Ln(aM,function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("platform-logger");return dle(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion(ple,vle)}mle(X);ele();var yle="firebase",_3="8.9.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */X.registerVersion(yle,_3,"app");X.SDK_VERSION=_3;var wle="firebase",_le="8.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);X.registerVersion(wle,_le);const ble={apiKey:"AIzaSyBOP21xXjFC_FClCf0A9e1Z4F5BwiAmpow",authDomain:"campushub-1c470.firebaseapp.com",projectId:"campushub-1c470",storageBucket:"campushub-1c470.appspot.com",messagingSenderId:"985073052328",appId:"1:985073052328:web:6f7cc0e0e2001260aeb09d",measurementId:"G-W3XZWWGLME"},Ele=X.initializeApp(ble),We=Ele.firestore(),b3=X.auth(),Sle=new X.auth.GoogleAuthProvider,Dd=X.storage();var Tle="firebase",E3="8.9.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */X.registerVersion(Tle,E3,"app");X.SDK_VERSION=E3;const S3="SET_USER",V0="SET_LOADING_STATUS",T3="GET_ARTICLES",OC="SET_USER_DETAILS",I3="ADD_COMMENT",x3="DELETE_ARTICLE",C3="ADD_PROJECT",k3="GET_PROJECTS",Ile="ADD_PROJECT_MEMBER",A3="DELETE_PROJECT",R3="UPDATE_PROJECT",xle="SET_CERTIFICATES",P3="ADD_EVENT",N3="GET_EVENTS",O3="DELETE_EVENT",D3="UPDATE_EVENT",bp="ERROR",L3="SET_SEARCH_QUERY",M3=e=>({type:S3,user:e}),Cle=e=>({type:T3,payload:e}),kle=e=>({type:x3,articleId:e}),th=e=>({type:V0,status:e}),j3=e=>({type:OC,payload:e}),Ale=(e,t)=>({type:I3,articleId:e,comment:t}),Rle=e=>({type:C3,project:e}),Ple=e=>({type:k3,projects:e}),Nle=e=>({type:A3,projectId:e}),Ole=(e,t)=>({type:R3,projectId:e,projectData:t}),Dle=e=>({type:L3,query:e});function Lle(){return e=>{b3.signInWithPopup(Sle).then(t=>{const n=t.user,r=We.collection("users").doc(n.email);r.get().then(i=>{i.exists||r.set({email:n.email,username:n.displayName,profilePicture:n.photoURL})}),e(M3(t.user)),e(ra(n.email))}).catch(t=>alert(t.message))}}function Mle(){return e=>{b3.signOut().then(()=>{e(M3(null))}).catch(t=>{console.log(t.message)})}}function jle(e){return t=>{if(t(th(!0)),e.image!==""){const n=Dd.ref(`images/${e.image.name}`).put(e.image);n.on("state_changed",r=>{const i=r.bytesTransferred/r.totalBytes*100;console.log(`progress: ${i}%`),r.state==="RUNNING"&&console.log(`Progress: ${i}%`)},r=>r.code,async()=>{const r=await n.snapshot.ref.getDownloadURL();We.collection("articles").add({actor:{description:e.user.email,title:e.user.displayName,date:e.timestamp,image:e.user.photoURL},video:e.video,sharedImage:r,comments:[],description:e.description,likes:{count:0,users:[]}}),t(th(!1))})}else e.video?(We.collection("articles").add({actor:{description:e.user.email,title:e.user.displayName,date:e.timestamp,image:e.user.photoURL},video:e.video,sharedImage:"",comments:[],description:e.description,likes:{count:0,users:[]}}),t(th(!1))):e.description?(We.collection("articles").add({actor:{description:e.user.email,title:e.user.displayName,date:e.timestamp,image:e.user.photoURL},video:"",sharedImage:"",comments:[],description:e.description,likes:{count:0,users:[]}}),t(th(!1))):(t(th(!1)),console.log("Post must contain at least an image, video, or text description."))}}const Fle=e=>async t=>{try{await We.collection("articles").doc(e).delete(),t(kle(e))}catch(n){console.error("Error deleting article: ",n)}},Ule=(e,t)=>async n=>{console.log(e);const r=We.collection("articles").doc(e),i=await r.get();if(i.exists){const a=i.data().likes||{count:0,users:[]};a.users.includes(t)?console.log("User has already liked this post."):(a.count+=1,a.users.push(t),r.update({likes:a}).then(()=>{n(DC())}).catch(l=>{console.error("Error updating likes: ",l)}))}else console.log("No such document!")};function DC(){return e=>{let t;We.collection("articles").orderBy("actor.date","desc").onSnapshot(n=>{t=n.docs.map(r=>({id:r.id,...r.data()})),console.log(t),e(Cle(t))})}}const ra=e=>t=>{We.collection("users").doc(e).get().then(n=>{n.exists?t(j3(n.data())):console.error("No such document!")}).catch(n=>{console.error("Error getting document: ",n)})},$le=(e,t,n,r)=>i=>{const s=We.collection("users").doc(e);s.get().then(a=>{if(a.exists){const l=a.data(),c={...r,profilePicture:t,username:n,skills:l.skills||[]};s.set(c,{merge:!0}).then(()=>{i(j3(c))}).catch(h=>{console.error("Error updating user details: ",h)})}else console.error("No such document!")}).catch(a=>{console.error("Error getting document: ",a)})},Vle=e=>async t=>{try{let n={};await We.collection("users").doc(e).get().then(r=>{r.exists?n={...n,...r.data()}:console.error("No such document in users collection!")}),t({type:"SET_USER_DETAILS",payload:n})}catch(n){console.error("Error fetching user details:",n)}},Ble=(e,t,n,r)=>async i=>{const s=We.collection("users").doc(n);try{const a=await s.get();if(a.exists){const c=a.data().username||n,h=We.collection("articles").doc(e),d=await h.get();if(d.exists){const g=d.data().comments||[];g.push({userEmail:n,username:c,comment:t,userImage:r}),await h.update({comments:g}),i(Ale(e,{userEmail:n,username:c,comment:t,userImage:r}))}else console.log("No such document!")}else console.log("User does not exist!")}catch(a){console.error("Error fetching user details or adding comment: ",a)}},zle=e=>async t=>{const n=We.collection("projects").doc();n.set(e).then(()=>{t(Rle({id:n.id,...e}))}).catch(r=>{console.error("Error adding project: ",r)})},F3=()=>e=>{We.collection("projects").get().then(t=>{const n=t.docs.map(r=>({id:r.id,...r.data()}));e(Ple(n))}).catch(t=>{console.error("Error fetching projects: ",t)})},qle=e=>async t=>{try{await We.collection("projects").doc(e).delete(),t(Nle(e))}catch(n){console.error("Error deleting project: ",n)}},Wle=(e,t)=>async n=>{try{await We.collection("projects").doc(e).update(t),n(Ole(e,t))}catch(r){console.error("Error updating project: ",r)}},Hle=(e,t)=>async n=>{const r=Dd.ref(),i=We.collection("users").doc(e),s=[];for(const a of t){const l=r.child(`certificates/${e}/${a.name}`);await l.put(a);const c=await l.getDownloadURL();s.push({name:a.name,url:c})}i.update({certificates:X.firestore.FieldValue.arrayUnion(...s)}).then(()=>{n(ra(e))}).catch(a=>{console.error("Error uploading certificates: ",a)})},Kle=(e,t)=>async n=>{try{const r=We.collection("users").doc(e);await Dd.refFromURL(t.url).delete(),r.update({certificates:X.firestore.FieldValue.arrayRemove(t)}).then(()=>{n(ra(e))}).catch(s=>{console.error("Error deleting certificate: ",s)})}catch(r){console.error("Error deleting certificate: ",r)}},Gle=(e,t)=>async n=>{try{await We.collection("users").doc(e).update({skills:X.firestore.FieldValue.arrayUnion(t)}),n(ra(e))}catch(r){console.error("Error adding skill: ",r)}},Qle=(e,t)=>async n=>{try{await We.collection("users").doc(e).update({skills:X.firestore.FieldValue.arrayRemove(t)}),n(ra(e))}catch(r){console.error("Error deleting skill: ",r)}},LC=()=>async e=>{try{const t=await We.collection("events").get(),n=[];t.forEach(r=>{n.push({id:r.id,...r.data()})}),e({type:N3,payload:n})}catch(t){console.error("Error fetching events:",t),e({type:bp,error:t.message})}},Yle=e=>async t=>{try{e.poster instanceof File&&(e.poster=await uploadFile(e.poster)),e.brochure instanceof File&&(e.brochure=await uploadFile(e.brochure));const n=await We.collection("events").add(e);t({type:P3,payload:{id:n.id,...e}})}catch(n){t({type:bp,error:n.message})}},Xle=(e,t)=>async n=>{try{t.poster instanceof File&&(t.poster=await uploadFile(t.poster)),t.brochure instanceof File&&(t.brochure=await uploadFile(t.brochure)),await We.collection("events").doc(e).update(t),n({type:D3,payload:{id:e,...t}})}catch(r){n({type:bp,error:r.message})}},Jle=e=>async t=>{try{await We.collection("events").doc(e).delete(),t({type:O3,payload:e})}catch(n){t({type:bp,error:n.message})}},Zle=(e,t)=>async n=>{try{const r=await We.collection("events").doc(e).get();if(r.exists){const i=r.data();if(!i.interestedUsers.includes(t)){const s=(i.interested??0)+1,a=[...i.interestedUsers,t];await We.collection("events").doc(e).update({interested:s,interestedUsers:a}),n(LC())}}}catch(r){console.error("Error updating interested count: ",r)}},ece=e=>{const t=Eu(),n=Ty(),[r,i]=$.useState(""),s=g=>{i(g.target.value),e.setSearchQuery(g.target.value)},a=()=>{t("/profile")},l=()=>{t("/home")},c=()=>{t("/home")},h=()=>{t("/procollab")},d=()=>{t("/events")},v=()=>{t("/notification")};return E.jsx(tce,{children:E.jsxs(nce,{children:[E.jsx(rce,{onClick:c,children:E.jsx("a",{children:E.jsx("img",{src:"/images/header-logo.svg",alt:""})})}),E.jsxs(ice,{children:[E.jsx("div",{children:E.jsx("input",{type:"text",placeholder:"Search ",value:r,onChange:s})}),E.jsx(oce,{children:E.jsx("img",{src:"/images/search-icon.svg",alt:""})})]}),E.jsx(sce,{children:E.jsxs(ace,{children:[E.jsx(pl,{onClick:l,className:n.pathname==="/home"?"active":"",children:E.jsxs("a",{children:[E.jsx("img",{src:"/images/nav-home.svg",className:"home",alt:""}),E.jsx("span",{children:"Home"})]})}),E.jsx(pl,{onClick:d,className:n.pathname==="/events"?"active":"",children:E.jsxs("a",{children:[E.jsx("img",{src:"/images/nav-events.svg",className:"events",alt:""}),E.jsx("span",{children:"Event Hub"})]})}),E.jsx(pl,{onClick:h,className:n.pathname==="/procollab"?"active":"",children:E.jsxs("a",{children:[E.jsx("img",{src:"/images/nav-project-colab.svg",className:"projects",alt:""}),E.jsx("span",{children:"Project Hub"})]})}),E.jsx(pl,{onClick:v,className:n.pathname==="/notification"?"active":"",children:E.jsxs("a",{children:[E.jsx("img",{src:"/images/nav-notifications.svg",className:"notifications",alt:""}),E.jsx("span",{children:"Notifications"})]})}),E.jsx(pl,{onClick:a,className:n.pathname==="/profile"?"active":"",children:E.jsxs("a",{children:[e.user&&e.user.photoURL?E.jsx("img",{className:"prof",src:e.user.photoURL,alt:""}):E.jsx("img",{src:"/images/user.svg",alt:""}),E.jsx("span",{children:"View Profile"})]})}),E.jsx(pl,{onClick:()=>e.SignOut(),children:E.jsxs("a",{children:[E.jsx("img",{src:"/images/sign-out.svg",alt:""}),E.jsx("span",{children:"Sign Out"})]})})]})})]})})},tce=M.div`
  background-color: #98c5e9;
  border-bottom: 3px solid #001838;
  left: 0;
  padding: 0 24px;
  position: fixed;
  top: 0;
  width: 100vw;
  height: 80px;
  z-index: 100;
`,nce=M.div`
  display: flex;
  align-items: center;
  margin: 0 auto;
  min-height: 100%;
  max-width: 1128px;
`,rce=M.span`
  cursor: pointer;
  margin-right: 8px;
  font-size: 0px;
  & > a {
    img {
      height: 40px;
      width: 40px;
    }
  }
`,ice=M.div`
  opacity: 1;
  flex-grow: 1;
  position: relative;
  & > div {
    max-width: 280px;
    input {
      border: none;
      box-shadow: none;
      background-color: #eef3f8;
      border-radius: 2px;
      color: rgba(0, 0, 0, 0.9);
      width: 218px;
      padding: 0 8px 0 40px;
      line-height: 1.75;
      font-weight: 400;
      font-size: 14px;
      height: 34px;
      border-color: #dce6f1;
      vertical-align: text-top;
    }
  }
`,oce=M.div`
  width: 40px;
  position: absolute;
  z-index: 1;
  top: 10px;
  left: 2px;
  border-radius: 0 2px 2px 0;
  margin: 0;
  pointer-events: none;
  display: flex;
  justify-content: center;
  align-items: center;
`,sce=M.nav`
  margin-left: auto;
  display: block;
  @media (max-width: 768px) {
    position: fixed;
    left: 0;
    bottom: 0;
    background: white;
    width: 100%;
  }
`,ace=M.ul`
  display: flex;
  flex-wrap: nowrap;
  list-style-type: none;

  .active {
    span:after {
      content: "";
      transform: scaleX(1);
      border-bottom: 2px solid var(--white, #fff);
      bottom: 0;
      left: 0;
      position: absolute;
      transition: transform 0.2s ease-in-out;
      width: 100%;
      border-color: #001838;
    }
  }
`,pl=M.li`
  cursor: pointer;
  display: flex;
  align-items: center;
  margin-right: 2px;
  a {
    align-items: center;
    background: transparent;
    display: flex;
    flex-direction: column;
    font-size: 12px;
    font-weight: 400;
    justify-content: center;
    line-height: 1.5;
    min-height: 52px;
    min-width: 80px;
    position: relative;
    text-decoration: none;
    img {
      max-height: 35px;
      max-width: 35px;
      padding-top: 5px;
      padding-bottom: 5px;
    }
    .prof {
      border-radius: 50%;
    }

    .home {
      max-height: 31px;
      padding-bottom: 9px;
    }

    .projects {
      max-height: 31px;
      padding-bottom: 9px;
    }

    .events {
      max-height: 36px;
      padding-bottom: 4px;
    }

    span {
      color: #001838;
      font-weight: bold;
      display: flex;
      align-items: center;
    }

    @media (max-width: 768px) {
      min-width: 70px;
    }
  }

  &:hover,
  &:active {
    a {
      span {
        color: rgba(0, 0, 0, 0.7);
      }
    }
  }
`,uce=e=>({user:e.userState.user}),lce=e=>({SignOut:()=>e(Mle()),setSearchQuery:t=>e(Dle(t))}),vl=Hr(uce,lce)(ece),cce=e=>{const[t,n]=$.useState(!1),r=Eu();$.useEffect(()=>{e.projects.length||e.getProjects()},[]),$.useEffect(()=>{e.user&&e.fetchUserDetails(e.user.email)},[e.user]);const i=()=>{n(!t)},s=()=>{r("/procollab")};return E.jsxs(fce,{children:[E.jsxs(U3,{children:[E.jsxs(hce,{children:[E.jsx(pce,{}),E.jsx("a",{children:E.jsxs(vce,{children:[E.jsx("a",{children:e.user&&e.user.photoURL?E.jsx("img",{src:e.user.photoURL,alt:""}):E.jsx("img",{src:"/images/user.svg",alt:""})}),"Welcome, ",e.user?e.user.displayName:"there",E.jsx("p",{className:"email",children:e.user?e.user.email:"email"})]})})]}),E.jsx(dce,{children:E.jsx("a",{children:E.jsxs("div",{children:[E.jsx("img",{src:"/images/info.svg",alt:""}),E.jsx("span",{className:"headline",children:e.userDetails?e.userDetails.headline:"headline"}),E.jsxs("span",{className:"branch",children:[e.userDetails?e.userDetails.branch:"branch"," - sem"," ",e.userDetails?e.userDetails.semester:"semester"]})]})})})]}),E.jsxs(gce,{children:[E.jsx("a",{children:E.jsxs("span",{children:["Explore Projects",E.jsx("img",{onClick:i,src:"/images/plus-icon.svg",alt:""})]})}),t&&E.jsxs(mce,{children:[e.projects.slice(0,5).map(a=>E.jsx(uM,{children:a.name},a.id)),E.jsx(uM,{className:"discover",onClick:s,children:"Discover more"})]})]})]})},fce=M.div`
  grid-area: leftside;
`,U3=M.div`
  text-align: center;
  overflow: hidden;
  margin-bottom: 8px;
  background-color: #98c5e9;
  border-radius: 5px;
  transition: box-shadow 83ms;
  position: relative;
  border: none;
  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);
  border: 3px solid #001838;
`,hce=M.div`
  padding: 12px 12px 16px;
  word-wrap: break-word;
  word-break: break-word;
  border-bottom: 3px solid #001838;
`,dce=M.div`
  padding-top: 12px;
  padding-bottom: 12px;
  div {
    display: flex;
    flex-direction: column;
    text-align: center;

    .headline {
      font-size: 16px;
      font-weight: bolder;
      padding-bottom: 5px;
    }

    .branch {
      font-size: 14px;
      font-weight: bolder;
      color: rgba(0, 0, 0, 0.8);
    }

    img {
      height: 45px;
      margin-bottom: 10px;
    }
  }
`,pce=M.div`
  background: url("/images/trial-bg.webp");
  background-position: center;
  background-size: 462px;
  height: 54px;
  margin: -12px -12px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
`,vce=M.div`
  font-size: 16px;
  line-height: 1.5;
  color: rgba(0, 0, 0, 0.9);
  font-weight: 600;
  display: flex;
  flex-direction: column;
  align-items: center;
  img {
    margin: -38px auto 12px;
    border-radius: 50%;
  }
  p {
    font-size: 13px;
    color: rgba(0, 0, 0, 0.7);
  }
`,gce=M(U3)`
  padding: 8px 0 0;
  text-align: left;
  display: flex;
  flex-direction: column;
  font-weight: bolder;
  a {
    color: black;
    padding: 4px 12px 4px 12px;
    font-size: 16px;

    span {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-bottom: 3px;
    }

    img {
      cursor: pointer;
    }

    .dismore {
      border-top: none;
      align-items: left;
      &:hover {
        color: #0a66c2;
        cursor: pointer;
      }
    }
  }
`,mce=M.div`
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  color: rgba(0, 0, 0, 0.7);
  .discover {
    padding-top: 2px;
    padding-bottom: 2px;
    cursor: pointer;
    color: black;
    font-size: 14px;
  }
`,uM=M.div`
  display: block;
  font-size: 12px;
  padding: 4px 0;
`,yce=e=>({user:e.userState.user,projects:e.projectState.projects,userDetails:e.userState.userDetails}),wce=e=>({getProjects:()=>e(F3()),fetchUserDetails:t=>e(ra(t))}),_ce=Hr(yce,wce)(cce),bce="modulepreload",Ece=function(e){return"/"+e},lM={},dr=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(l=>{if(l=Ece(l),l in lM)return;lM[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":bce,c||(d.as="script",d.crossOrigin=""),d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((v,g)=>{d.addEventListener("load",v),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};var Sce=function(t,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=t,n.attrs&&Tce(s,n.attrs),n.text&&(s.text=""+n.text);var a="onload"in s?cM:Ice;a(s,r),s.onload||cM(s,r),i.appendChild(s)};function Tce(e,t){for(var n in t)e.setAttribute(n,t[n])}function cM(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function Ice(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var xce=function(t){return Cce(t)&&!kce(t)};function Cce(e){return!!e&&typeof e=="object"}function kce(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Pce(e)}var Ace=typeof Symbol=="function"&&Symbol.for,Rce=Ace?Symbol.for("react.element"):60103;function Pce(e){return e.$$typeof===Rce}function Nce(e){return Array.isArray(e)?[]:{}}function Ld(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Nc(Nce(e),e,t):e}function Oce(e,t,n){return e.concat(t).map(function(r){return Ld(r,n)})}function Dce(e,t){if(!t.customMerge)return Nc;var n=t.customMerge(e);return typeof n=="function"?n:Nc}function Lce(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function fM(e){return Object.keys(e).concat(Lce(e))}function $3(e,t){try{return t in e}catch{return!1}}function Mce(e,t){return $3(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function jce(e,t,n){var r={};return n.isMergeableObject(e)&&fM(e).forEach(function(i){r[i]=Ld(e[i],n)}),fM(t).forEach(function(i){Mce(e,i)||($3(e,i)&&n.isMergeableObject(t[i])?r[i]=Dce(i,n)(e[i],t[i],n):r[i]=Ld(t[i],n))}),r}function Nc(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Oce,n.isMergeableObject=n.isMergeableObject||xce,n.cloneUnlessOtherwiseSpecified=Ld;var r=Array.isArray(t),i=Array.isArray(e),s=r===i;return s?r?n.arrayMerge(e,t,n):jce(e,t,n):Ld(t,n)}Nc.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return Nc(r,i,n)},{})};var Fce=Nc,V3=Fce,Uce=Object.create,B0=Object.defineProperty,$ce=Object.getOwnPropertyDescriptor,Vce=Object.getOwnPropertyNames,Bce=Object.getPrototypeOf,zce=Object.prototype.hasOwnProperty,qce=(e,t)=>{for(var n in t)B0(e,n,{get:t[n],enumerable:!0})},B3=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vce(t))!zce.call(e,i)&&i!==n&&B0(e,i,{get:()=>t[i],enumerable:!(r=$ce(t,i))||r.enumerable});return e},MC=(e,t,n)=>(n=e!=null?Uce(Bce(e)):{},B3(!e||!e.__esModule?B0(n,"default",{value:e,enumerable:!0}):n,e)),Wce=e=>B3(B0({},"__esModule",{value:!0}),e),z3={};qce(z3,{callPlayer:()=>afe,getConfig:()=>ofe,getSDK:()=>ife,isBlobUrl:()=>lfe,isMediaStream:()=>ufe,lazy:()=>Qce,omit:()=>sfe,parseEndTime:()=>tfe,parseStartTime:()=>efe,queryString:()=>rfe,randomString:()=>nfe,supportsWebKitPresentationMode:()=>cfe});var z0=Wce(z3),Hce=MC($),Kce=MC(Sce),Gce=MC(V3);const Qce=e=>Hce.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),Yce=/[?&#](?:start|t)=([0-9hms]+)/,Xce=/[?&#]end=([0-9hms]+)/,e1=/(\d+)(h|m|s)/g,Jce=/^\d+$/;function q3(e,t){if(e instanceof Array)return;const n=e.match(t);if(n){const r=n[1];if(r.match(e1))return Zce(r);if(Jce.test(r))return parseInt(r)}}function Zce(e){let t=0,n=e1.exec(e);for(;n!==null;){const[,r,i]=n;i==="h"&&(t+=parseInt(r,10)*60*60),i==="m"&&(t+=parseInt(r,10)*60),i==="s"&&(t+=parseInt(r,10)),n=e1.exec(e)}return t}function efe(e){return q3(e,Yce)}function tfe(e){return q3(e,Xce)}function nfe(){return Math.random().toString(36).substr(2,5)}function rfe(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function FE(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const gl={},ife=function(t,n,r=null,i=()=>!0,s=Kce.default){const a=FE(n);return a&&i(a)?Promise.resolve(a):new Promise((l,c)=>{if(gl[t]){gl[t].push({resolve:l,reject:c});return}gl[t]=[{resolve:l,reject:c}];const h=d=>{gl[t].forEach(v=>v.resolve(d))};if(r){const d=window[r];window[r]=function(){d&&d(),h(FE(n))}}s(t,d=>{d?(gl[t].forEach(v=>v.reject(d)),gl[t]=null):r||h(FE(n))})})};function ofe(e,t){return(0,Gce.default)(t.config,e.config)}function sfe(e,...t){const n=[].concat(...t),r={},i=Object.keys(e);for(const s of i)n.indexOf(s)===-1&&(r[s]=e[s]);return r}function afe(e,...t){if(!this.player||!this.player[e]){let n=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c  `;return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}return this.player[e](...t)}function ufe(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function lfe(e){return/^blob:/.test(e)}function cfe(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var jC=Object.defineProperty,ffe=Object.getOwnPropertyDescriptor,hfe=Object.getOwnPropertyNames,dfe=Object.prototype.hasOwnProperty,pfe=(e,t)=>{for(var n in t)jC(e,n,{get:t[n],enumerable:!0})},vfe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hfe(t))!dfe.call(e,i)&&i!==n&&jC(e,i,{get:()=>t[i],enumerable:!(r=ffe(t,i))||r.enumerable});return e},gfe=e=>vfe(jC({},"__esModule",{value:!0}),e),W3={};pfe(W3,{AUDIO_EXTENSIONS:()=>FC,DASH_EXTENSIONS:()=>o5,FLV_EXTENSIONS:()=>s5,HLS_EXTENSIONS:()=>$C,MATCH_URL_DAILYMOTION:()=>t5,MATCH_URL_FACEBOOK:()=>Q3,MATCH_URL_FACEBOOK_WATCH:()=>Y3,MATCH_URL_KALTURA:()=>i5,MATCH_URL_MIXCLOUD:()=>n5,MATCH_URL_MUX:()=>G3,MATCH_URL_SOUNDCLOUD:()=>H3,MATCH_URL_STREAMABLE:()=>X3,MATCH_URL_TWITCH_CHANNEL:()=>e5,MATCH_URL_TWITCH_VIDEO:()=>Z3,MATCH_URL_VIDYARD:()=>r5,MATCH_URL_VIMEO:()=>K3,MATCH_URL_WISTIA:()=>J3,MATCH_URL_YOUTUBE:()=>t1,VIDEO_EXTENSIONS:()=>UC,canPlay:()=>yfe});var mfe=gfe(W3),hM=z0;const t1=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,H3=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,K3=/vimeo\.com\/(?!progressive_redirect).+/,G3=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,Q3=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,Y3=/^https?:\/\/fb\.watch\/.+$/,X3=/streamable\.com\/([a-z0-9]+)$/,J3=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,Z3=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,e5=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,t5=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,n5=/mixcloud\.com\/([^/]+\/[^/]+)/,r5=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,i5=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,FC=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,UC=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,$C=/\.(m3u8)($|\?)/i,o5=/\.(mpd)($|\?)/i,s5=/\.(flv)($|\?)/i,n1=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&n1(t)||n1(t.src))return!0;return!1}return(0,hM.isMediaStream)(e)||(0,hM.isBlobUrl)(e)?!0:FC.test(e)||UC.test(e)||$C.test(e)||o5.test(e)||s5.test(e)},yfe={youtube:e=>e instanceof Array?e.every(t=>t1.test(t)):t1.test(e),soundcloud:e=>H3.test(e)&&!FC.test(e),vimeo:e=>K3.test(e)&&!UC.test(e)&&!$C.test(e),mux:e=>G3.test(e),facebook:e=>Q3.test(e)||Y3.test(e),streamable:e=>X3.test(e),wistia:e=>J3.test(e),twitch:e=>Z3.test(e)||e5.test(e),dailymotion:e=>t5.test(e),mixcloud:e=>n5.test(e),vidyard:e=>r5.test(e),kaltura:e=>i5.test(e),file:n1};var VC=Object.defineProperty,wfe=Object.getOwnPropertyDescriptor,_fe=Object.getOwnPropertyNames,bfe=Object.prototype.hasOwnProperty,Efe=(e,t)=>{for(var n in t)VC(e,n,{get:t[n],enumerable:!0})},Sfe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _fe(t))!bfe.call(e,i)&&i!==n&&VC(e,i,{get:()=>t[i],enumerable:!(r=wfe(t,i))||r.enumerable});return e},Tfe=e=>Sfe(VC({},"__esModule",{value:!0}),e),a5={};Efe(a5,{default:()=>xfe});var Ife=Tfe(a5),hr=z0,zn=mfe,xfe=[{key:"youtube",name:"YouTube",canPlay:zn.canPlay.youtube,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./YouTube-BsVbFG7j.js").then(e=>e.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:zn.canPlay.soundcloud,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./SoundCloud-CORHDAFF.js").then(e=>e.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:zn.canPlay.vimeo,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Vimeo-Bb8mnAil.js").then(e=>e.V),[]))},{key:"mux",name:"Mux",canPlay:zn.canPlay.mux,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Mux-CTIw5aFk.js").then(e=>e.M),[]))},{key:"facebook",name:"Facebook",canPlay:zn.canPlay.facebook,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Facebook-DXZEu5s4.js").then(e=>e.F),[]))},{key:"streamable",name:"Streamable",canPlay:zn.canPlay.streamable,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Streamable-Bg1WVRwG.js").then(e=>e.S),[]))},{key:"wistia",name:"Wistia",canPlay:zn.canPlay.wistia,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Wistia-C_-l0B4k.js").then(e=>e.W),[]))},{key:"twitch",name:"Twitch",canPlay:zn.canPlay.twitch,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Twitch-B2P_o78X.js").then(e=>e.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:zn.canPlay.dailymotion,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./DailyMotion-CVGpe-wt.js").then(e=>e.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:zn.canPlay.mixcloud,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Mixcloud-jmLQOEMw.js").then(e=>e.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:zn.canPlay.vidyard,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Vidyard-oEkGe2v8.js").then(e=>e.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:zn.canPlay.kaltura,lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./Kaltura-Dmuji5sh.js").then(e=>e.K),[]))},{key:"file",name:"FilePlayer",canPlay:zn.canPlay.file,canEnablePIP:e=>zn.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,hr.supportsWebKitPresentationMode)())&&!zn.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,hr.lazy)(()=>dr(()=>import("./FilePlayer-ClRDL1x9.js").then(e=>e.F),[]))}],dM=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Cfe(e,t){return!!(e===t||dM(e)&&dM(t))}function kfe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Cfe(e[n],t[n]))return!1;return!0}function Afe(e,t){t===void 0&&(t=kfe);var n,r=[],i,s=!1;function a(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return s&&n===this&&t(l,r)||(i=e.apply(this,l),s=!0,n=this,r=l),i}return a}const Rfe=Object.freeze(Object.defineProperty({__proto__:null,default:Afe},Symbol.toStringTag,{value:"Module"})),Pfe=kH(Rfe);var Nfe=typeof Element<"u",Ofe=typeof Map=="function",Dfe=typeof Set=="function",Lfe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function jg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!jg(e[r],t[r]))return!1;return!0}var s;if(Ofe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!jg(r.value[1],t.get(r.value[0])))return!1;return!0}if(Dfe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Lfe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Nfe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!jg(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var u5=function(t,n){try{return jg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},l5={exports:{}},Mfe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jfe=Mfe,Ffe=jfe;function c5(){}function f5(){}f5.resetWarningCache=c5;var Ufe=function(){function e(r,i,s,a,l,c){if(c!==Ffe){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:f5,resetWarningCache:c5};return n.PropTypes=n,n};l5.exports=Ufe();var $fe=l5.exports,Vfe=Object.create,q0=Object.defineProperty,Bfe=Object.getOwnPropertyDescriptor,zfe=Object.getOwnPropertyNames,qfe=Object.getPrototypeOf,Wfe=Object.prototype.hasOwnProperty,Hfe=(e,t)=>{for(var n in t)q0(e,n,{get:t[n],enumerable:!0})},h5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zfe(t))!Wfe.call(e,i)&&i!==n&&q0(e,i,{get:()=>t[i],enumerable:!(r=Bfe(t,i))||r.enumerable});return e},Kfe=(e,t,n)=>(n=e!=null?Vfe(qfe(e)):{},h5(!e||!e.__esModule?q0(n,"default",{value:e,enumerable:!0}):n,e)),Gfe=e=>h5(q0({},"__esModule",{value:!0}),e),d5={};Hfe(d5,{defaultProps:()=>Xfe,propTypes:()=>Yfe});var p5=Gfe(d5),Qfe=Kfe($fe);const{string:sn,bool:qn,number:ml,array:UE,oneOfType:nh,shape:Ar,object:xn,func:Lt,node:pM}=Qfe.default,Yfe={url:nh([sn,UE,xn]),playing:qn,loop:qn,controls:qn,volume:ml,muted:qn,playbackRate:ml,width:nh([sn,ml]),height:nh([sn,ml]),style:xn,progressInterval:ml,playsinline:qn,pip:qn,stopOnUnmount:qn,light:nh([qn,sn,xn]),playIcon:pM,previewTabIndex:ml,previewAriaLabel:sn,fallback:pM,oEmbedUrl:sn,wrapper:nh([sn,Lt,Ar({render:Lt.isRequired})]),config:Ar({soundcloud:Ar({options:xn}),youtube:Ar({playerVars:xn,embedOptions:xn,onUnstarted:Lt}),facebook:Ar({appId:sn,version:sn,playerId:sn,attributes:xn}),dailymotion:Ar({params:xn}),vimeo:Ar({playerOptions:xn,title:sn}),mux:Ar({attributes:xn,version:sn}),file:Ar({attributes:xn,tracks:UE,forceVideo:qn,forceAudio:qn,forceHLS:qn,forceSafariHLS:qn,forceDisableHls:qn,forceDASH:qn,forceFLV:qn,hlsOptions:xn,hlsVersion:sn,dashVersion:sn,flvVersion:sn}),wistia:Ar({options:xn,playerId:sn,customControls:UE}),mixcloud:Ar({options:xn}),twitch:Ar({options:xn,playerId:sn}),vidyard:Ar({options:xn})}),onReady:Lt,onStart:Lt,onPlay:Lt,onPause:Lt,onBuffer:Lt,onBufferEnd:Lt,onEnded:Lt,onError:Lt,onDuration:Lt,onSeek:Lt,onPlaybackRateChange:Lt,onPlaybackQualityChange:Lt,onProgress:Lt,onClickPreview:Lt,onEnablePIP:Lt,onDisablePIP:Lt},an=()=>{},Xfe={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:an},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:an,onStart:an,onPlay:an,onPause:an,onBuffer:an,onBufferEnd:an,onEnded:an,onError:an,onDuration:an,onSeek:an,onPlaybackRateChange:an,onPlaybackQualityChange:an,onProgress:an,onClickPreview:an,onEnablePIP:an,onDisablePIP:an};var Jfe=Object.create,Ep=Object.defineProperty,Zfe=Object.getOwnPropertyDescriptor,ehe=Object.getOwnPropertyNames,the=Object.getPrototypeOf,nhe=Object.prototype.hasOwnProperty,rhe=(e,t,n)=>t in e?Ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ihe=(e,t)=>{for(var n in t)Ep(e,n,{get:t[n],enumerable:!0})},v5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ehe(t))!nhe.call(e,i)&&i!==n&&Ep(e,i,{get:()=>t[i],enumerable:!(r=Zfe(t,i))||r.enumerable});return e},g5=(e,t,n)=>(n=e!=null?Jfe(the(e)):{},v5(!e||!e.__esModule?Ep(n,"default",{value:e,enumerable:!0}):n,e)),ohe=e=>v5(Ep({},"__esModule",{value:!0}),e),_t=(e,t,n)=>(rhe(e,typeof t!="symbol"?t+"":t,n),n),m5={};ihe(m5,{default:()=>W0});var she=ohe(m5),vM=g5($),ahe=g5(u5),y5=p5,uhe=z0;const lhe=5e3;class W0 extends vM.Component{constructor(){super(...arguments),_t(this,"mounted",!1),_t(this,"isReady",!1),_t(this,"isPlaying",!1),_t(this,"isLoading",!0),_t(this,"loadOnReady",null),_t(this,"startOnPlay",!0),_t(this,"seekOnPlay",null),_t(this,"onDurationCalled",!1),_t(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),_t(this,"getInternalPlayer",t=>this.player?this.player[t]:null),_t(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,n=this.getSecondsLoaded(),r=this.getDuration();if(r){const i={playedSeconds:t,played:t/r};n!==null&&(i.loadedSeconds=n,i.loaded=n/r),(i.playedSeconds!==this.prevPlayed||i.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(i),this.prevPlayed=i.playedSeconds,this.prevLoaded=i.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),_t(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:n,volume:r,muted:i}=this.props;t(),!i&&r!==null&&this.player.setVolume(r),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):n&&this.player.play(),this.handleDurationCheck()}),_t(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:n,playbackRate:r}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&r!==1&&this.player.setPlaybackRate(r),t(),this.startOnPlay=!1),n(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),_t(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),_t(this,"handleEnded",()=>{const{activePlayer:t,loop:n,onEnded:r}=this.props;t.loopOnEnded&&n&&this.seekTo(0),n||(this.isPlaying=!1,r())}),_t(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),_t(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),_t(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:n,playing:r,volume:i,muted:s,playbackRate:a,pip:l,loop:c,activePlayer:h,disableDeferredLoading:d}=this.props;if(!(0,ahe.default)(t.url,n)){if(this.isLoading&&!h.forceLoad&&!d&&!(0,uhe.isMediaStream)(n)){console.warn(`ReactPlayer: the attempt to load ${n} is being deferred until the player has loaded`),this.loadOnReady=n;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(n,this.isReady)}!t.playing&&r&&!this.isPlaying&&this.player.play(),t.playing&&!r&&this.isPlaying&&this.player.pause(),!t.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==i&&i!==null&&this.player.setVolume(i),t.muted!==s&&(s?this.player.mute():(this.player.unmute(),i!==null&&setTimeout(()=>this.player.setVolume(i)))),t.playbackRate!==a&&this.player.setPlaybackRate&&this.player.setPlaybackRate(a),t.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,n,r){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},lhe));return}if(n?n==="fraction":t>0&&t<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(s*t,r);return}this.player.seekTo(t,r)}render(){const t=this.props.activePlayer;return t?vM.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}_t(W0,"displayName","Player");_t(W0,"propTypes",y5.propTypes);_t(W0,"defaultProps",y5.defaultProps);var che=Object.create,Sp=Object.defineProperty,fhe=Object.getOwnPropertyDescriptor,hhe=Object.getOwnPropertyNames,dhe=Object.getPrototypeOf,phe=Object.prototype.hasOwnProperty,vhe=(e,t,n)=>t in e?Sp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ghe=(e,t)=>{for(var n in t)Sp(e,n,{get:t[n],enumerable:!0})},w5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hhe(t))!phe.call(e,i)&&i!==n&&Sp(e,i,{get:()=>t[i],enumerable:!(r=fhe(t,i))||r.enumerable});return e},Tp=(e,t,n)=>(n=e!=null?che(dhe(e)):{},w5(!e||!e.__esModule?Sp(n,"default",{value:e,enumerable:!0}):n,e)),mhe=e=>w5(Sp({},"__esModule",{value:!0}),e),wt=(e,t,n)=>(vhe(e,typeof t!="symbol"?t+"":t,n),n),_5={};ghe(_5,{createReactPlayer:()=>xhe});var yhe=mhe(_5),El=Tp($),whe=Tp(V3),$E=Tp(Pfe),gM=Tp(u5),dh=p5,b5=z0,_he=Tp(she);const bhe=(0,b5.lazy)(()=>dr(()=>import("./Preview-Di1Q8-EN.js").then(e=>e.P),[])),Ehe=typeof window<"u"&&window.document&&typeof document<"u",She=typeof Sb<"u"&&Sb.window&&Sb.window.document,The=Object.keys(dh.propTypes),Ihe=Ehe||She?El.Suspense:()=>null,rh=[],xhe=(e,t)=>{var n;return n=class extends El.Component{constructor(){super(...arguments),wt(this,"state",{showPreview:!!this.props.light}),wt(this,"references",{wrapper:r=>{this.wrapper=r},player:r=>{this.player=r}}),wt(this,"handleClickPreview",r=>{this.setState({showPreview:!1}),this.props.onClickPreview(r)}),wt(this,"showPreview",()=>{this.setState({showPreview:!0})}),wt(this,"getDuration",()=>this.player?this.player.getDuration():null),wt(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),wt(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),wt(this,"getInternalPlayer",(r="player")=>this.player?this.player.getInternalPlayer(r):null),wt(this,"seekTo",(r,i,s)=>{if(!this.player)return null;this.player.seekTo(r,i,s)}),wt(this,"handleReady",()=>{this.props.onReady(this)}),wt(this,"getActivePlayer",(0,$E.default)(r=>{for(const i of[...rh,...e])if(i.canPlay(r))return i;return t||null})),wt(this,"getConfig",(0,$E.default)((r,i)=>{const{config:s}=this.props;return whe.default.all([dh.defaultProps.config,dh.defaultProps.config[i]||{},s,s[i]||{}])})),wt(this,"getAttributes",(0,$E.default)(r=>(0,b5.omit)(this.props,The))),wt(this,"renderActivePlayer",r=>{if(!r)return null;const i=this.getActivePlayer(r);if(!i)return null;const s=this.getConfig(r,i.key);return El.default.createElement(_he.default,{...this.props,key:i.key,ref:this.references.player,config:s,activePlayer:i.lazyPlayer||i,onReady:this.handleReady})})}shouldComponentUpdate(r,i){return!(0,gM.default)(this.props,r)||!(0,gM.default)(this.state,i)}componentDidUpdate(r){const{light:i}=this.props;!r.light&&i&&this.setState({showPreview:!0}),r.light&&!i&&this.setState({showPreview:!1})}renderPreview(r){if(!r)return null;const{light:i,playIcon:s,previewTabIndex:a,oEmbedUrl:l,previewAriaLabel:c}=this.props;return El.default.createElement(bhe,{url:r,light:i,playIcon:s,previewTabIndex:a,previewAriaLabel:c,oEmbedUrl:l,onClick:this.handleClickPreview})}render(){const{url:r,style:i,width:s,height:a,fallback:l,wrapper:c}=this.props,{showPreview:h}=this.state,d=this.getAttributes(r),v=typeof c=="string"?this.references.wrapper:void 0;return El.default.createElement(c,{ref:v,style:{...i,width:s,height:a},...d},El.default.createElement(Ihe,{fallback:l},h?this.renderPreview(r):this.renderActivePlayer(r)))}},wt(n,"displayName","ReactPlayer"),wt(n,"propTypes",dh.propTypes),wt(n,"defaultProps",dh.defaultProps),wt(n,"addCustomPlayer",r=>{rh.push(r)}),wt(n,"removeCustomPlayers",()=>{rh.length=0}),wt(n,"canPlay",r=>{for(const i of[...rh,...e])if(i.canPlay(r))return!0;return!1}),wt(n,"canEnablePIP",r=>{for(const i of[...rh,...e])if(i.canEnablePIP&&i.canEnablePIP(r))return!0;return!1}),n};var Che=Object.create,H0=Object.defineProperty,khe=Object.getOwnPropertyDescriptor,Ahe=Object.getOwnPropertyNames,Rhe=Object.getPrototypeOf,Phe=Object.prototype.hasOwnProperty,Nhe=(e,t)=>{for(var n in t)H0(e,n,{get:t[n],enumerable:!0})},E5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ahe(t))!Phe.call(e,i)&&i!==n&&H0(e,i,{get:()=>t[i],enumerable:!(r=khe(t,i))||r.enumerable});return e},Ohe=(e,t,n)=>(n=e!=null?Che(Rhe(e)):{},E5(!e||!e.__esModule?H0(n,"default",{value:e,enumerable:!0}):n,e)),Dhe=e=>E5(H0({},"__esModule",{value:!0}),e),S5={};Nhe(S5,{default:()=>Fhe});var Lhe=Dhe(S5),r1=Ohe(Ife),Mhe=yhe;const jhe=r1.default[r1.default.length-1];var Fhe=(0,Mhe.createReactPlayer)(r1.default,jhe);const T5=_M(Lhe),Uhe=e=>{const[t,n]=$.useState(""),[r,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(""),h=y=>{const w=y.target.files[0];if(w===""||w===void 0){alert(`not an image, the file is a ${typeof w}`);return}i(w)},d=y=>{i(""),a(""),c(y)},v=y=>{if(y.preventDefault(),y.target!==y.currentTarget)return;const w={image:r,video:s,user:e.user,description:t,timestamp:X.firestore.Timestamp.now()};e.postArticle(w),g(y)},g=y=>{n(""),i(""),a(""),c(""),e.handleClick(y)};return E.jsx(E.Fragment,{children:e.showModal==="open"&&E.jsx($he,{children:E.jsxs(Vhe,{children:[E.jsxs(Bhe,{children:[E.jsx("h2",{children:"Create a post"}),E.jsx("button",{onClick:y=>g(y),children:E.jsx("img",{src:"/images/close-icon.svg",alt:""})})]}),E.jsxs(zhe,{children:[E.jsxs(qhe,{children:[e.user.photoURL?E.jsx("img",{src:e.user.photoURL}):E.jsx("img",{src:"/images/user.svg",alt:""}),E.jsx("span",{children:e.user.displayName})]}),E.jsxs(Ghe,{children:[E.jsx("textarea",{value:t,onChange:y=>n(y.target.value),placeholder:"what do you want to talk about",autoFocus:!0}),l==="image"?E.jsxs(Qhe,{children:[E.jsx("input",{type:"file",accept:"image/gif, image/jpeg, image/png",name:"image",id:"file",style:{display:"none"},onChange:h}),E.jsx("p",{children:E.jsx("label",{htmlFor:"file",children:" select an image to share"})}),r&&E.jsx("img",{src:URL.createObjectURL(r)})]}):l==="media"&&E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",placeholder:"please input a video link",value:s,onChange:y=>a(y.target.value)}),s&&E.jsx(T5,{width:"100%",url:s})]})]})]}),E.jsxs(Whe,{children:[E.jsxs(Hhe,{children:[E.jsx(oy,{onClick:()=>d("image"),children:E.jsx("img",{src:"/images/post-photo-icon.svg",alt:""})}),E.jsx(oy,{onClick:()=>d("media"),children:E.jsx("img",{src:"/images/post-video-icon.svg",alt:""})})]}),E.jsx(Khe,{disabled:!t,onClick:y=>v(y),children:"Post"})]})]})})})},$he=M.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  color: black;
  background-color: rgba(0, 0, 0, 0.8);
  animation: fadeIn 0.3s;
`,Vhe=M.div`
  width: 100%;
  max-width: 552px;
  background-color: white;
  max-height: 90%;
  border-radius: 5px;
  position: relative;
  display: flex;
  flex-direction: column;
  top: 32px;
  margin: 0 auto;
`,Bhe=M.div`
  display: block;
  padding: 16px 24px;
  border-bottom: 1px solid rgba(0, 0, 0, 0, 0.15);
  font-size: 16px;
  line-height: 1.5;
  color: rgba(0, 0, 0, 0.6);
  display: flex;
  justify-content: space-between;
  align-items: center;

  img {
    max-height: 28px;
    pointer-events: none;
  }

  button {
    height: 40px;
    width: 40px;
    min-width: auto;
    color: rgba(0, 0, 0, 0.15);

    svg {
      pointer-events: none;
    }
  }
`,zhe=M.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  overflow-y: auto;
  vertical-align: baseline;
  background: transparent;
  padding: 8px 12px;
`,qhe=M.div`
  display: flex;
  align-items: center;
  padding: 12px 24px;

  svg,
  img {
    width: 48px;
    height: 48px;
    background-clip: content-box;
    border: 2px solid transparent;
    border-radius: 50%;
  }

  span {
    font-weight: 600;
    font-size: 16px;
    line-height: 1.5;
    margin-left: 5px;
  }
`,Whe=M.div`
  display: flex;
  justify-content: space-between;
  padding: 12px 24px 12px 16px;
`,oy=M.button`
  display: flex;
  align-items: center;
  height: 40px;
  min-width: auto;
  color: rgba(0, 0, 0, 0.5);
  margin-right: 5px;

  img {
    height: 30px;
  }
`,Hhe=M.div`
  align-items: center;
  display: flex;
  padding-right: 8px;
  ${oy} {
    width: 40px;
  }
`;M.div`
  padding-left: 8px;
  margin-right: auto;
  border-left: 1px solid rgba(0, 0, 0, 0.15);
  ${oy} {
    svg {
      margin-right: 5px;
    }
  }
`;const Khe=M.button`
  min-width: 60px;
  border-radius: 20px;
  padding-left: 16px;
  padding-right: 16px;
  background: ${e=>e.disabled?"rgba(0,0,0,0.8)":"#0a66c2"};
  color: ${e=>e.disabled?"rgba(1,1,1,0.2)":"white"};
  &:hover {
    background: #004182;
    background: ${e=>e.disabled?"rgba(0,0,0,0.8)":"#004182"};
  }
`,Ghe=M.div`
  padding: 12px 24px;
  textarea {
    width: 100%;
    min-height: 100px;
    resize: none;
  }

  input {
    width: 100%;
    height: 35px;
    font-size: 16px;
    margin-bottom: 20px;
  }
`,Qhe=M.div`
  text-align: center;
  img {
    width: 100%;
  }
`,Yhe=e=>({user:e.userState.user}),Xhe=e=>({postArticle:t=>e(jle(t))}),Jhe=Hr(Yhe,Xhe)(Uhe),Zhe=e=>{const[t,n]=$.useState("close"),[r,i]=$.useState(""),[s,a]=$.useState(null),l=Eu();$.useEffect(()=>{e.getArticles()},[]),$.useEffect(()=>{e.querySearch&&e.searchUsers(e.querySearch)},[e.querySearch]);const c=b=>{if(b.preventDefault(),b.target===b.currentTarget)switch(t){case"open":n("close");break;case"close":n("open");break;default:n("close")}},h=b=>{l(`/user/${b}`)},d=b=>{e.updateArticleLikes(b,e.user.email)},v=b=>{e.addComment(b,r,e.user.email,e.user.photoURL),i("")},g=b=>{a(s===b?null:b)},y=b=>{e.deleteArticle(b)},w=b=>{navigator.share?navigator.share({title:b.title,text:b.description,url:window.location.href}).then(()=>console.log("Article shared successfully")).catch(x=>console.error("Error sharing article:",x)):alert("Web Share API is not supported in your browser.")};return E.jsx(E.Fragment,{children:E.jsxs(ede,{children:[E.jsxs(tde,{children:[E.jsxs("div",{children:[e.user&&e.user.photoURL?E.jsx("img",{src:e.user.photoURL,alt:"User"}):E.jsx("img",{src:"/images/user.svg",alt:"User"}),E.jsx("button",{onClick:c,disabled:!!e.loading,className:"clickable",children:"Start a post | Create a Post"})]}),E.jsxs("div",{children:[E.jsxs("button",{children:[E.jsx("img",{src:"/images/post-photo-icon.svg",alt:""}),E.jsx("span",{children:"Photo"})]}),E.jsxs("button",{children:[E.jsx("img",{src:"/images/post-video-icon.svg",alt:""}),E.jsx("span",{children:"Video"})]}),E.jsxs("button",{children:[E.jsx("img",{src:"/images/post-article-icon.svg",alt:""}),E.jsx("span",{children:"Article"})]})]})]}),e.articles.length===0?E.jsx("p",{children:"There are no articles"}):E.jsxs(hde,{children:[e.loading&&E.jsx("img",{src:"/images/spin-loader.svg"}),e.articles.length>0&&e.articles.map((b,x)=>E.jsxs(nde,{children:[E.jsxs(rde,{children:[E.jsxs("a",{onClick:()=>h(b.actor.description),children:[E.jsx("img",{src:b.actor.image,alt:""}),E.jsxs("div",{children:[E.jsx("span",{children:b.actor.title}),E.jsx("span",{children:b.actor.description}),E.jsx("span",{children:b.actor.date.toDate().toLocaleDateString()})]})]}),E.jsx("button",{onClick:()=>y(b.id),disabled:e.user.email!==b.actor.description,children:E.jsx("img",{src:"/images/bin.svg",alt:""})})]}),E.jsx(ide,{children:b.description}),E.jsx(ode,{children:E.jsx("a",{children:!b.sharedImage&&b.video?E.jsx(T5,{width:"100%",url:b.video}):b.sharedImage&&E.jsx("img",{src:b.sharedImage})})}),E.jsxs(sde,{children:[E.jsx("li",{children:E.jsxs("button",{children:[E.jsx("img",{src:"/images/like-pic.svg",alt:""}),E.jsx("span",{children:b.likes.count})]})}),E.jsx("li",{children:E.jsxs("button",{children:[E.jsx("img",{src:"/images/comment-image.svg"}),E.jsx("a",{children:b.comments.length})]})})]}),E.jsxs(ade,{children:[E.jsxs("button",{onClick:()=>d(b.id),children:[E.jsx("img",{src:"images/like-icon.svg",alt:""}),E.jsx("span",{children:"Like"})]}),E.jsxs("button",{onClick:()=>g(b.id),children:[E.jsx("img",{src:"/images/comments-icon.svg",alt:""}),E.jsx("span",{children:"Comment"})]}),E.jsxs("button",{onClick:()=>w(b),children:[E.jsx("img",{src:"/images/share-icon.svg",alt:""}),E.jsx("span",{children:"Share"})]})]}),s===b.id&&E.jsxs(ude,{children:[E.jsxs(lde,{children:[E.jsx("input",{type:"text",placeholder:"Add a comment...",value:r,onChange:S=>i(S.target.value)}),E.jsx("button",{onClick:()=>v(b.id),disabled:r.trim()==="",children:"Submit"})]}),E.jsxs(cde,{children:[console.log(b.comments),b.comments.map((S,T)=>E.jsxs(fde,{children:[E.jsx("img",{src:S.userImage,onClick:()=>h(S.userEmail)}),E.jsxs("div",{children:[E.jsx("span",{onClick:()=>h(S.userEmail),children:S.username}),E.jsx("p",{children:S.comment})]})]},T))]})]})]},x))]}),E.jsx(Jhe,{showModal:t,handleClick:c})]})})},ede=M.div`
  grid-area: main;
`,I5=M.div`
  text-align: center;
  overflow: hidden;
  margin-bottom: 8px;
  background-color: #98c5e9;
  border-radius: 5px;
  position: relative;
  border: none;
  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);
  border: 3px solid #001838;
`,tde=M(I5)`
  display: flex;
  flex-direction: column;
  color: #fff;
  margin: 0 0 8px;

  div {
    button {
      outline: none;
      color: rgba(0, 0, 0, 0.6);
      font-size: 14px;
      line-height: 1.5;
      min-height: 48px;
      background: transparent;
      border: none;
      display: flex;
      align-items: center;
      font-weight: 600;
    }
    &:first-child {
      display: flex;
      align-items: center;
      padding: 8px 16px 0px 16px;

      img {
        width: 48px;
        border-radius: 50%;
        margin-right: 8px;
      }

      button {
        margin: 4px 0;
        flex-grow: 1;
        border-radius: 35px;
        padding-left: 16px;
        border: 1px solid rgba(0, 0, 0, 0.15);
        border-radius: 35px;
        background-color: white;
        text-align: left;
      }
    }
    &:nth-child(2) {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      padding-bottom: 4px;

      button {
        img {
          margin: 0 4px 0 -2px;
          height: 25px;
        }

        span {
          color: #001838;
        }
      }
    }
  }

  .clickable {
    cursor: pointer;
  }
`,nde=M(I5)`
  padding: 0;
  margin: 0 0 8px;
  overflow: visible;
`,rde=M.div`
  padding-right: 40px;
  flex-wrap: nowrap;
  padding: 12px 16px 0;
  margin-bottom: 8px;
  align-items: center;
  display: flex;
  a {
    margin-right: 12px;
    flex-grow: 1;
    overflow: hidden;
    display: flex;
    text-decoration: none;

    img {
      cursor: pointer;
      width: 48px;
      height: 48px;
    }
    & > div {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      flex-basis: 0;
      margin-left: 8px;
      overflow: hidden;
      span {
        cursor: pointer;
        text-align: left;
        &:first-child {
          font-size: 14px;
          font-weight: 700;
          color: black;
        }
        &:nth-child(n + 1) {
          font-size: 12px;
          color: rgba(0, 0, 0, 0.6);
        }
      }
    }
  }
  button {
    position: absolute;
    right: 12px;
    top: 0;
    background: transparent;
    border: none;
    outline: none;
    cursor: pointer;
    img {
      width: 20px;
      height: 20px;
      margin-top: 10px;
    }
  }
`,ide=M.div`
  padding: 0 16px;
  overflow: hidden;
  color: black;
  font-size: 14px;
  text-align: left;
`,ode=M.div`
  margin-top: 8px;
  width: 100%;
  display: block;
  position: relative;
  background-color: #f9fafb;
  img {
    object-fit: contain;
    width: 100%;
    height: 100%;
  }
`,sde=M.ul`
  line-height: 1.3;
  display: flex;
  align-items: flex-start;
  flex-direction: row;
  overflow: auto;
  margin: 0 16px;
  padding: 8px 0;
  border-bottom: 1px solid #001838;
  list-style: none;

  li {
    margin-right: 5px;
    font-size: 12px;

    button {
      display: flex;
      border: none;
      background-color: #98c5e9;
    }
  }

  img {
    height: 14px;
    margin: 2px;
  }
`,ade=M.div`
  align-items: center;
  display: flex;
  justify-content: flex-start;
  margin: 0;
  min-height: 40px;
  padding: 4px 8px;

  button {
    display: inline-flex;
    align-items: center;
    padding: 8px;
    color: #001838;
    background-color: #98c5e9;
    border: none;
    cursor: pointer;

    img {
      height: 30px;
      padding-right: 1px;
    }

    @media (min-width: 768px) {
      span {
        margin-left: 8px;
      }
    }
  }
`,ude=M.div`
  background-color: #98c5e9;
  padding: 16px;
`,lde=M.div`
  display: flex;
  align-items: center;
  margin-top: 10px;
  border-bottom: 2px solid black;
  padding-bottom: 10px;
  input {
    flex: 1;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 10px;
    margin-right: 10px;
  }
  button {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: #0073b1;
    color: white;
    cursor: pointer;
    &:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
  }
`,cde=M.div`
  margin-top: 16px;
`,fde=M.div`
  text-align: left;
  margin-bottom: 15px;
  display: flex;
  div {
    border: 3px solid #001838;
    border-radius: 5px;
    width: 100%;
  }
  img {
    height: 40px;
    border-radius: 50%;
    margin-right: 5px;
    margin-top: 5px;
    cursor: pointer;
  }
  span {
    cursor: pointer;
    font-weight: bold;
    padding: 3px;
    color: #001838;
  }
  p {
    padding: 3px;
    padding-left: 10px;
    margin: 4px 0 0;
  }
`,hde=M.div`
  text-align: center;
  & > img {
    width: 30px;
  }
`,dde=e=>({loading:e.articleState.loading,user:e.userState.user,articles:e.articleState.articles,searchQuery:e.searchState.searchQuery,searchResults:e.searchState.searchResults}),pde=e=>({getArticles:()=>e(DC()),updateArticleLikes:(t,n)=>e(Ule(t,n)),addComment:(t,n,r,i)=>e(Ble(t,n,r,i)),deleteArticle:t=>e(Fle(t))}),vde=Hr(dde,pde)(Zhe),gde=e=>{const t=Eu(),[n,r]=$.useState([]);$.useEffect(()=>{e.user&&e.getEvents()},[e.user,e.getEvents]),$.useEffect(()=>{const s=new Date().toISOString().split("T")[0],a=e.events.filter(l=>new Date(l.date).toISOString().split("T")[0]===s);r(a)},[e.events]);const i=()=>{t("/events")};return E.jsx(mde,{children:E.jsxs(yde,{children:[E.jsxs(wde,{children:[E.jsx("h2",{children:"Today's Events"}),E.jsx("img",{src:"/images/feed-icon.svg",alt:""})]}),E.jsx(_de,{children:n.length>0?n.map(s=>E.jsx("li",{children:E.jsxs(bde,{children:[E.jsx(Ide,{}),E.jsxs(Ede,{children:[E.jsx(Sde,{children:s.name}),E.jsx(Tde,{children:s.time})]})]})},s.id)):E.jsx("p",{children:"No events for today"})}),E.jsxs(xde,{onClick:i,children:["Explore more events",E.jsx("img",{src:"/images/right-icon.svg",alt:"",onClick:i})]})]})})},mde=M.div`
  grid-area: rightside;
`,yde=M.div`
  text-align: center;
  overflow: hidden;
  margin-bottom: 8px;
  background-color: #98c5e9;
  border-radius: 5px;
  position: relative;
  border: none;
  box-shadow: 0 0 0 1px rgb(0 0 0 / 15%), 0 0 0 rgb(0 0 0 / 20%);
  padding: 12px;
  border: 3px solid #001838;
`,wde=M.div`
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  font-size: 16px;
  width: 100%;
  color: black;
`,_de=M.ul`
  margin-top: 16px;
  li {
    display: flex;
    align-items: center;
    margin: 12px 0;
    position: relative;
    font-size: 14px;
  }
`,bde=M.div`
  display: flex;
  align-items: center;
`,Ede=M.div`
  display: flex;
  flex-direction: column;
  margin-left: 10px;
  margin-bottom: 10px;
  align-items: flex-start;
`,Sde=M.span`
  font-weight: bold;
`,Tde=M.span`
  color: rgba(0, 0, 0, 0.6);
`,Ide=M.div`
  background-image: url("images/today's-event.svg");
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  width: 40px;
  height: 40px;
  margin-right: 10px;
`,xde=M.a`
  color: #001838;
  display: flex;
  align-items: center;
  font-size: 14px;
  cursor: pointer;
  img {
    height: 20px;
    width: 30px;
  }
`,Cde=e=>({events:e.eventState.events,user:e.userState.user}),kde=e=>({getEvents:()=>e(LC())}),Ade=Hr(Cde,kde)(gde),Rde=e=>E.jsxs(Pde,{children:[!e.user&&E.jsx(Su,{to:"/"}),E.jsx(Nde,{}),E.jsxs(Ode,{children:[E.jsx(_ce,{}),E.jsx(vde,{}),E.jsx(Ade,{})]})]}),Pde=M.div`
  padding-top: 70px;
  max-width: 100%;
`,Nde=M.section`
  min-height: 50px;
  padding: 16px 0;
  box-sizing: content-box;
  text-align: center;
  text-decoration: underline;
  display: flex;
  justify-content: center;
  h5 {
    color: brown;
    font-size: 14px;
    a {
      font-weight: 700;
    }
  }

  p {
    font-size: 14px;
    color: #434649;
    font-weight: 600;
  }

  @media (max-width: 768px) {
    flex-direction: column;
    padding: 0 5px;
  }
`,Ode=M.div`
  display: grid;
  grid-template-areas: "leftside main rightside";
  grid-template-columns: minmax(0, 5fr) minmax(0, 12fr) minmax(300px, 7fr);
  column-gap: 25px;
  row-gap: 25px;
  margin: 25px 0;
  @media (max-width: 768px) {
    display: flex;
    flex-direction: column;
    padding: 0 5px;
  }
`,Dde=e=>({user:e.userState.user}),Lde=Hr(Dde)(Rde),Mde=e=>E.jsxs(jde,{children:[e.user&&E.jsx(Su,{to:"home"}),E.jsx(Fde,{children:E.jsx("a",{href:"/",children:E.jsx("img",{src:"/images/campushub-logo1.svg",alt:""})})}),E.jsxs(Ude,{children:[E.jsxs($de,{children:[E.jsx("h1",{children:"WELCOME TO YOUR COLLEGE COMMUNITY"}),E.jsx("img",{src:"images/trial1.svg",alt:""})]}),E.jsx(Vde,{children:E.jsxs(Bde,{onClick:()=>e.signIn(),children:[E.jsx("img",{src:"/images/google.svg",alt:""}),"Sign in with Google"]})})]})]}),jde=M.div`
  padding: 0px;
`,Fde=M.div`
  max-width: 1128px;
  margin: auto;
  padding: 12px 0 16px;
  display: flex;
  position: relative;
  align-items: center;
  justify-content: space-between;
  flex-wrap: nowrap;

  & > a {
    width: 135px;
    height: 34px;
    padding-top: 20px;
    @media (max-width: 768px) {
      padding: 0 5px;
    }
  }
`,Ude=M.section`
  display: flex;
  align-content: start;
  min-height: 700px;
  padding-bottom: 138px;
  padding-top: 40px;
  padding: 60px 0px;
  position: relative;
  flex-wrap: wrap;
  width: 100%;
  max-width: 1128px;
  align-items: center;
  margin: auto;

  @media (max-width: 768px) {
    margin: auto;
    min-height: 0px;
  }
`,$de=M.div`
  width: 100%;
  h1 {
    padding-bottom: 0;
    width: 55%;
    font-size: 56px;
    color: #001838;
    font-weight: bolder;
    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
    font-weight: 200;
    line-height: 70px;
    @media (max-width: 758px) {
      text-align: center;
      font-size: 20px;
      width: 100%;
      line-height: 2;
    }
  }

  img {
    width: 700px;
    height: 670px;
    position: absolute;
    bottom: -2px;
    right: -150px;
    @media (max-width: 768px) {
      top: 230px;
      width: initial;
      position: initial;
      height: initial;
    }
  }
`,Vde=M.div`
  margin-top: 100px;
  width: 408px;
  @media (max-width: 768px) {
    margin-top: 20px;
  }
`,Bde=M.button`
  display: flex;
  justify-content: center;
  background-color: #fff;
  align-items: center;
  height: 56px;
  width: 100%;
  border-radius: 28px;
  box-shadow: inset 0 0 0 1px rgb(0 0 0 / 60%),
    inset 0 0 0 2px rgb(0 0 0 / 0%) inset 0 0 0 1px rgb(0 0 0 / 0);

  vertical-align: middle;
  z-index: 0;
  transition-duration: 167ms;
  font-size: 20px;
  color: rgba(0, 0, 0, 0.6);
  &:hover {
    background-color: rgba(207, 207, 207, 0.25);
  }
`,zde=e=>({user:e.userState.user}),qde=e=>({signIn:()=>e(Lle())}),Wde=Hr(zde,qde)(Mde),Hde=e=>{const[t,n]=$.useState(""),[r,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState(""),h=v=>{v.preventDefault();const g=e.user.displayName,y=e.user.email,w=e.user.photoURL,b={headline:t,branch:r,semester:s,links:l};e.updateUserDetails(y,w,g,b),d(v)};$.useEffect(()=>{e.user&&e.fetchUserDetails(e.user.email)},[e.user]),$.useEffect(()=>{e.userDetails&&(n(e.userDetails.headline||""),i(e.userDetails.branch||""),a(e.userDetails.semester||""),c(e.userDetails.links||""))},[e.userDetails]);const d=v=>{n(e.userDetails.headline||""),i(e.userDetails.branch||""),a(e.userDetails.semester||""),c(e.userDetails.links||""),e.handleClick(v)};return E.jsx(E.Fragment,{children:e.showModal==="open"&&E.jsx(Kde,{children:E.jsxs(Gde,{children:[E.jsxs(Qde,{children:[E.jsx("h2",{children:"Edit Profile"}),E.jsx("button",{onClick:v=>d(v),children:E.jsx("img",{src:"/images/close-icon.svg",alt:"Close"})})]}),E.jsx(Yde,{children:E.jsxs("form",{onSubmit:h,children:[E.jsxs(ug,{children:["Headline:",E.jsx(lg,{type:"text",value:t,placeholder:"Enter your headline",onChange:v=>n(v.target.value)})]}),E.jsxs(ug,{children:["Branch:",E.jsx(lg,{type:"text",placeholder:"Enter your branch",value:r,onChange:v=>i(v.target.value)})]}),E.jsxs(ug,{children:["Semester:",E.jsx(lg,{type:"text",value:s,placeholder:"Enter your semester",onChange:v=>a(v.target.value)})]}),E.jsxs(ug,{children:["Links:",E.jsx(lg,{type:"text",placeholder:"Enter coding profile link",value:l,onChange:v=>c(v.target.value)})]}),E.jsx(Xde,{type:"submit",children:"Submit"})]})})]})})})},Kde=M.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  color: black;
  background-color: rgba(0, 0, 0, 0.8);
  animation: fadeIn 0.3s;
  display: flex;
  justify-content: center;
  align-items: center;
`,Gde=M.div`
  width: 100%;
  max-width: 500px;
  background-color: #fff;
  border-radius: 10px;
  position: relative;
  display: flex;
  flex-direction: column;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  animation: slideIn 0.3s ease-in-out;
  border: 5px solid #001838;

  @keyframes slideIn {
    from {
      transform: translateY(-50px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,Qde=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background-color: transparent;
  color: rgba(0, 0, 0, 0.8);
  border-radius: 10px;

  h2 {
    margin: 0;
    font-size: 20px;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
  }

  img {
    width: 24px;
    height: 24px;
  }
`,Yde=M.div`
  display: flex;
  flex-direction: column;
  padding: 20px 30px;
  padding-right: 40px;
  form {
    display: flex;
    flex-direction: column;
  }
`,ug=M.label`
  margin-bottom: 15px;
  font-size: 14px;
  color: #333;

  input {
    display: block;
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 14px;
    transition: border-color 0.3s;

    &:focus {
      border-color: #0a66c2;
    }
  }
`,lg=M.input``,Xde=M.button`
  border-radius: 5px;
  padding: 10px;
  background-color: #98c5e9;
  color: white;
  border: none;
  cursor: pointer;
  font-size: 16px;
  transition: background-color 0.3s, transform 0.3s;
  border: 3px solid #001838;
  &:hover {
    background: #001838;
    transform: translateY(-2px);
  }
`,Jde=e=>({user:e.userState.user,userDetails:e.userState.userDetails}),Zde=e=>({updateUserDetails:(t,n,r,i)=>e($le(t,n,r,i)),fetchUserDetails:t=>e(ra(t))}),epe=Hr(Jde,Zde)(Hde),tpe=e=>{const[t,n]=$.useState(!1),[r,i]=$.useState([]),s=$.useRef(null),[a,l]=$.useState(null),[c,h]=$.useState("");$.useEffect(()=>{e.user&&e.fetchUserDetails(e.user.email)},[e.user]),$.useEffect(()=>{e.userDetails.certificates&&i(e.userDetails.certificates)},[e.userDetails.certificates]);const d=()=>{n(!t)},v=x=>{const S=Array.from(x.target.files);S.length>0&&(r.length+S.length<=6?e.uploadCertificates(e.user.email,S):alert("You can only upload up to 6 certificates."))},g=x=>{l(x)},y=x=>{e.deleteCertificate(e.user.email,x),l(null)},w=()=>{c.trim()!==""&&(e.userDetails.skills.length<7?(e.addSkill(e.user.email,c.trim()),h("")):alert("You can only add up to 7 skills."))},b=x=>{e.deleteSkill(e.user.email,x)};return E.jsxs(npe,{children:[!e.user&&E.jsx(Su,{to:"/"}),E.jsxs(rpe,{children:[E.jsxs(ipe,{children:[E.jsxs("div",{children:[e.user&&e.user.photoURL?E.jsx("img",{className:"profileImg",src:e.user.photoURL,alt:"User"}):E.jsx("img",{className:"profileImg",src:"/images/user.svg",alt:" "}),E.jsxs(cpe,{children:[E.jsx("h2",{children:e.user?e.user.displayName:"User Name"}),E.jsx("p",{children:e.user?e.user.email:"user@example.com"}),E.jsx("h3",{children:e.userDetails.headline}),E.jsxs("h3",{children:["Branch: ",e.userDetails.branch]}),E.jsxs("h3",{children:["Semester: ",e.userDetails.semester]}),e.userDetails.links&&E.jsx("h3",{children:E.jsxs("a",{href:e.userDetails.links,target:"_blank",rel:"noopener noreferrer",children:["Coding Link: ",e.userDetails.links]})})]})]}),E.jsx(lpe,{children:E.jsx("button",{onClick:d,children:"Edit Profile"})})]}),E.jsx(ope,{children:E.jsxs("div",{children:[E.jsx("h3",{children:"Skills"}),E.jsxs(fpe,{children:[E.jsx("input",{type:"text",placeholder:"Add a skill",value:c,onChange:x=>h(x.target.value)}),E.jsx("button",{onClick:w,children:"Add Skill"})]}),E.jsx(hpe,{children:e.userDetails.skills&&e.userDetails.skills.map((x,S)=>E.jsxs(dpe,{children:[x,E.jsx("button",{onClick:()=>b(x),children:"Delete"})]},S))})]})}),E.jsx(spe,{children:E.jsxs("div",{children:[E.jsx("h3",{children:"Certificates"}),E.jsx("input",{type:"file",multiple:!0,ref:s,style:{display:"none"},onChange:v}),E.jsx("button",{onClick:()=>s.current.click(),children:"Upload Certificates"}),E.jsx(ape,{children:r.map((x,S)=>E.jsx(upe,{onClick:()=>g(x),children:E.jsx("img",{className:"certificate",src:x.url,alt:x.name})},S))})]})})]}),a&&E.jsxs(ppe,{children:[E.jsx("img",{src:a.url,alt:a.name}),E.jsxs("div",{children:[E.jsx("button",{onClick:()=>l(null),children:"Close"}),E.jsx("button",{onClick:()=>y(a),children:"Delete"})]})]}),E.jsx(epe,{showModal:t?"open":"close",handleClick:d})]})},npe=M.div`
  padding-top: 100px;
  grid-area: main;
  margin: 0px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: "Arial", sans-serif;
  padding-bottom: 100px;
`,rpe=M.div`
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  width: 100%;
  max-width: 1200px;
`,BC=M.div`
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border: 1px solid #d1d1d1;
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }
`,ipe=M(BC)`
  width: 30%;
  min-height: 475px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  .profileImg {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin-bottom: 20px;
    border: 3px solid #001838;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
`,ope=M(BC)`
  width: 30%;
  min-height: 475px;
`,spe=M(BC)`
  width: 30%;
  min-height: 475px;

  .certificate {
    height: 100px;
    width: 150px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  }

  button {
    margin: 12px 10px;
    padding: 10px 20px;
    color: #001838;
    background-color: #fff;
    border: 2px solid #001838;
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #f0f0f0;
      transform: translateY(-2px);
    }
  }
`,ape=M.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
`,upe=M.div`
  cursor: pointer;
`,lpe=M.div`
  margin-top: 20px;

  button {
    margin: 0 10px;
    padding: 10px 20px;
    color: #001838;
    background-color: #fff;
    border: 2px solid #001838;
    border-radius: 20px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #f0f0f0;
      transform: translateY(-2px);
    }
  }
`,cpe=M.div`
  text-align: center;

  h2 {
    margin: 0;
    font-size: 28px;
    color: #001838;
    font-weight: bold;
  }

  p {
    margin: 5px 0;
    color: rgba(0, 0, 0, 0.7);
    font-size: 16px;
  }

  h3 {
    margin: 10px 0;
    color: #001838;
    font-size: 18px;

    a {
      color: #001838;
      text-decoration: none;
      font-weight: bold;

      &:hover {
        text-decoration: underline;
      }
    }
  }
`,fpe=M.div`
  display: flex;
  align-items: center;
  margin-top: 20px;

  input {
    padding: 10px;
    margin-right: 10px;
    border-radius: 5px;
    border: 1px solid #001838;
    width: 200px;
    transition: box-shadow 0.3s;

    &:focus {
      box-shadow: 0 0 5px rgba(0, 24, 56, 0.5);
    }
  }

  button {
    padding: 10px 20px;
    color: #fff;
    background-color: #001838;
    border: 2px solid #001838;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }
  }
`,hpe=M.div`
  margin-top: 20px;
  width: 100%;
`,dpe=M.div`
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background-color: #f3f3f3;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  button {
    background: none;
    border: none;
    color: red;
    cursor: pointer;
    font-weight: bold;
    transition: color 0.3s, transform 0.3s;

    &:hover {
      color: darkred;
      transform: scale(1.1);
    }
  }
`,ppe=M.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 20px;
  border: 3px solid #001838;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;

  img {
    max-width: 90%;
    max-height: 90%;
    margin-bottom: 10px;
    border: 3px solid #001838;
    border-radius: 10px;
    transition: transform 0.3s;

    &:hover {
      transform: scale(1.02);
    }
  }

  button {
    margin-top: 10px;
    padding: 10px 20px;
    background-color: #001838;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    &:nth-child(2) {
      margin-left: 10px;
      background-color: red;
    }

    &:nth-child(2):hover {
      background-color: darkred;
    }
  }
`,vpe=e=>({user:e.userState.user,userDetails:e.userState.userDetails}),gpe=e=>({fetchUserDetails:t=>e(ra(t)),uploadCertificates:(t,n)=>e(Hle(t,n)),deleteCertificate:(t,n)=>e(Kle(t,n)),addSkill:(t,n)=>e(Gle(t,n)),deleteSkill:(t,n)=>e(Qle(t,n))}),mpe=Hr(vpe,gpe)(tpe);function dn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ype(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const cg=43200,mM=1440;let wpe={};function _pe(){return wpe}function yM(e){const t=dn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Fg(e,t){const n=dn(e),r=dn(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function bpe(e){return ype(e,Date.now())}function Epe(e,t){const n=dn(e),r=dn(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Spe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Tpe(e,t){return+dn(e)-+dn(t)}function Ipe(e){const t=dn(e);return t.setHours(23,59,59,999),t}function xpe(e){const t=dn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Cpe(e){const t=dn(e);return+Ipe(t)==+xpe(t)}function kpe(e,t){const n=dn(e),r=dn(t),i=Fg(n,r),s=Math.abs(Epe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=Fg(n,r)===-i;Cpe(dn(e))&&s===1&&Fg(e,r)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function Ape(e,t,n){const r=Tpe(e,t)/1e3;return Spe(n==null?void 0:n.roundingMethod)(r)}const Rpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ppe=(e,t,n)=>{let r;const i=Rpe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function VE(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Npe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ope={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lpe={date:VE({formats:Npe,defaultWidth:"full"}),time:VE({formats:Ope,defaultWidth:"full"}),dateTime:VE({formats:Dpe,defaultWidth:"full"})},Mpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jpe=(e,t,n,r)=>Mpe[e];function ih(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Fpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Upe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$pe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Bpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qpe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wpe={ordinalNumber:qpe,era:ih({values:Fpe,defaultWidth:"wide"}),quarter:ih({values:Upe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ih({values:$pe,defaultWidth:"wide"}),day:ih({values:Vpe,defaultWidth:"wide"}),dayPeriod:ih({values:Bpe,defaultWidth:"wide",formattingValues:zpe,defaultFormattingWidth:"wide"})};function oh(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Kpe(l,v=>v.test(a)):Hpe(l,v=>v.test(a));let h;h=e.valueCallback?e.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const d=t.slice(a.length);return{value:h,rest:d}}}function Hpe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Kpe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Gpe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const Qpe=/^(\d+)(th|st|nd|rd)?/i,Ype=/\d+/i,Xpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jpe={any:[/^b/i,/^(a|c)/i]},Zpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eve={any:[/1/i,/2/i,/3/i,/4/i]},tve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ive={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ove={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ave={ordinalNumber:Gpe({matchPattern:Qpe,parsePattern:Ype,valueCallback:e=>parseInt(e,10)}),era:oh({matchPatterns:Xpe,defaultMatchWidth:"wide",parsePatterns:Jpe,defaultParseWidth:"any"}),quarter:oh({matchPatterns:Zpe,defaultMatchWidth:"wide",parsePatterns:eve,defaultParseWidth:"any",valueCallback:e=>e+1}),month:oh({matchPatterns:tve,defaultMatchWidth:"wide",parsePatterns:nve,defaultParseWidth:"any"}),day:oh({matchPatterns:rve,defaultMatchWidth:"wide",parsePatterns:ive,defaultParseWidth:"any"}),dayPeriod:oh({matchPatterns:ove,defaultMatchWidth:"any",parsePatterns:sve,defaultParseWidth:"any"})},uve={code:"en-US",formatDistance:Ppe,formatLong:Lpe,formatRelative:jpe,localize:Wpe,match:ave,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lve(e,t,n){const r=_pe(),i=(n==null?void 0:n.locale)??r.locale??uve,s=2520,a=Fg(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,h;a>0?(c=dn(t),h=dn(e)):(c=dn(e),h=dn(t));const d=Ape(h,c),v=(yM(h)-yM(c))/1e3,g=Math.round((d-v)/60);let y;if(g<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<mM){const w=Math.round(g/60);return i.formatDistance("aboutXHours",w,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<cg){const w=Math.round(g/mM);return i.formatDistance("xDays",w,l)}else if(g<cg*2)return y=Math.round(g/cg),i.formatDistance("aboutXMonths",y,l)}if(y=kpe(h,c),y<12){const w=Math.round(g/cg);return i.formatDistance("xMonths",w,l)}else{const w=y%12,b=Math.trunc(y/12);return w<3?i.formatDistance("aboutXYears",b,l):w<9?i.formatDistance("overXYears",b,l):i.formatDistance("almostXYears",b+1,l)}}function x5(e,t){return lve(e,bpe(e),t)}const cve=({show:e,onClose:t,children:n})=>e?E.jsx(fve,{onClick:t,children:E.jsxs(hve,{onClick:r=>r.stopPropagation(),children:[E.jsx(dve,{onClick:t,children:""}),n]})}):null,fve=M.div`
  z-index: 10;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.75);
  display: flex;
  justify-content: center;
  align-items: center;
`,hve=M.div`
  background: #f0f0f0;
  padding: 40px;
  border-radius: 16px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  position: relative;
  min-width: 320px;
  max-width: 640px;
  animation: slideIn 0.3s ease-out;

  @keyframes slideIn {
    from {
      transform: translateY(-20%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,dve=M.span`
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 28px;
  cursor: pointer;
  color: #333;
  &:hover {
    color: #555;
  }
`,pve=e=>{const[t,n]=$.useState(!1),[r,i]=$.useState(""),[s,a]=$.useState(""),[l,c]=$.useState([{name:"",role:""}]),[h,d]=$.useState(!1),[v,g]=$.useState(null),y=Eu();$.useEffect(()=>{e.user&&e.getProjects()},[e.user]);const w=L=>{y(`/user/${L}`)},b=()=>{c([...l,{name:"",role:""}])},x=(L,Y,R)=>{const ne=[...l];ne[L][Y]=R,c(ne)},S=L=>{const Y=l.filter((R,ne)=>ne!==L);c(Y)},T=()=>{const L={userName:e.user.displayName,profilePic:e.user.photoURL,email:e.user.email,name:r,description:s,roles:l,creator:e.user.email,timestamp:new Date().toISOString()};h?e.updateProject(v,L):e.addProject(L),D()},C=L=>{i(L.name),a(L.description),c(L.roles),d(!0),g(L.id),n(!0)},k=L=>{e.deleteProject(L)},D=()=>{i(""),a(""),c([{name:"",role:""}]),n(!1),d(!1),g(null)},O=()=>{t?D():n(!0)};if(!e.user)return E.jsx(Su,{to:"/"});const j=e.projects.filter(L=>L.name.toLowerCase().includes(e.searchQuery.toLowerCase()));return E.jsxs(vve,{children:[E.jsxs(gve,{children:[E.jsx("button",{onClick:O,children:"Create Project"}),E.jsx(cve,{show:t,onClose:D,children:E.jsxs(mve,{children:[E.jsx("input",{type:"text",placeholder:"Project Name",value:r,onChange:L=>i(L.target.value)}),E.jsx("textarea",{placeholder:"Project Description",value:s,onChange:L=>a(L.target.value)}),l.map((L,Y)=>E.jsxs(yve,{children:[E.jsx("input",{type:"text",placeholder:"Name: N/A",value:L.name,onChange:R=>x(Y,"name",R.target.value)}),E.jsx("input",{type:"text",placeholder:"Role",value:L.role,onChange:R=>x(Y,"role",R.target.value)}),E.jsx("button",{onClick:()=>S(Y),children:"Remove"})]},Y)),E.jsx("button",{onClick:b,children:"Add Role"}),E.jsx("button",{onClick:T,children:"Submit"}),E.jsx("button",{onClick:D,children:"Cancel"})]})})]}),j.length===0?E.jsx("p",{children:"There are no projects"}):E.jsxs(wve,{children:[e.loading&&E.jsx("img",{src:"/images/spin-loader.svg",className:".loading"}),j.sort((L,Y)=>new Date(Y.timestamp)-new Date(L.timestamp)).map((L,Y)=>E.jsxs(_ve,{children:[E.jsxs(bve,{children:[x5(new Date(L.timestamp))," ago"]}),E.jsxs(Eve,{children:[E.jsxs(Sve,{children:[E.jsx("img",{onClick:()=>{w(L.email)},src:L.profilePic}),E.jsx("h1",{onClick:()=>{w(L.email)},children:L.userName})]}),E.jsx("h3",{children:L.name}),E.jsx(Tve,{children:L.description||"".repeat(4)}),E.jsxs(Ive,{children:[E.jsx("h3",{children:"Roles-"}),E.jsx("br",{}),L.roles.map((R,ne)=>E.jsx("div",{children:E.jsxs("li",{children:[R.name," - ",R.role]},ne)}))]}),L.creator===e.user.email&&E.jsxs(xve,{children:[E.jsx("button",{onClick:()=>C(L),children:"Edit"}),E.jsx("button",{onClick:()=>k(L.id),children:"Delete"})]})]})]},Y))]})]})},vve=M.div`
  grid-area: main;
  padding-top: 100px;
  max-width: 700px;
  margin: 0 auto;
`,gve=M.div`
  text-align: center;
  margin-bottom: 8px;
  button {
    padding: 10px;
    background-color: #0073b1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,mve=M.div`
  z-index: 10;
  display: flex;
  flex-direction: column;
  margin: 10px 0;
  input,
  textarea {
    margin: 5px 0;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  button {
    padding: 10px;
    margin-top: 10px;
    background-color: #0073b1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,yve=M.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  input {
    width: 40%;
  }
  button {
    margin-left: 2px;
    padding: 5px 10px;
    background-color: red;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,wve=M.div`
  text-align: center;
  .loading {
    height: 30px;
    width: 30px;
  }
`,_ve=M.div`
  margin: 30px 0;
  padding: 20px;
  height: 480px;
  background-color: #98c5e9;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border: 20px solid hsla(220, 75%, 30%, 0.84);
  border-radius: 5px;
  position: relative;
`,bve=M.p`
  position: absolute;
  top: 10px;
  right: 10px;
  margin: 0;
`,Eve=M.div`
  text-align: left;
  position: relative;
  height: 100%;
  padding-left: 20px;
  h3 {
    margin-top: 20px;
  }
`,Sve=M.div`
  display: flex;
  align-items: center;
  margin-left: -15px;
  img {
    border-radius: 50%;
    height: 50px;
    margin-right: 10px;
    cursor: pointer;
  }
  h1 {
    margin: 0;
    font-weight: bold;
    cursor: pointer;
  }
`,Tve=M.p`
  margin: 20px 0;
  white-space: pre-wrap;
  line-height: 1.5;
  min-height: 4em;
  text-align: justify;
`,Ive=M.ul`
  list-style: none;
  padding: 0;
  margin: 5px 0;
  display: flex;
  flex-direction: column;

  li {
    margin: 3px 0;
    font-size: 17px;
    background-color: #0073b1;
    color: white;
    width: max-content;
    padding: 5px;
    border-radius: 5px;
    font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS",
      sans-serif;
  }
`,xve=M.div`
  display: flex;
  justify-content: flex-end;
  position: absolute;
  bottom: 10px;
  right: 10px;
  button {
    margin-left: 5px;
    padding: 5px 10px;
    background-color: #0073b1;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
`,Cve=e=>({loading:e.projectState.loading,user:e.userState.user,projects:e.projectState.projects,searchQuery:e.searchState.searchQuery}),kve=e=>({getProjects:()=>e(F3()),addProject:t=>e(zle(t)),deleteProject:t=>e(qle(t)),updateProject:(t,n)=>e(Wle(t,n))}),Ave=Hr(Cve,kve)(pve),Rve=e=>{const{email:t}=CG(),[n,r]=$.useState(!0),[i,s]=$.useState(null);$.useEffect(()=>{t&&e.fetchUserDetailsByEmail(t).then(()=>r(!1))},[t]);const a=l=>{s(l)};return n?E.jsx("div",{children:"Loading..."}):e.user?E.jsxs(Pve,{children:[E.jsxs(Nve,{children:[E.jsx(Ove,{children:E.jsxs("div",{children:[e.userDetails&&e.userDetails.profilePicture?E.jsx("img",{className:"profileImg",src:e.userDetails.profilePicture,alt:"User"}):E.jsx("img",{className:"profileImg",src:"/images/user.svg",alt:"User"}),E.jsxs(Fve,{children:[E.jsx("h2",{children:e.userDetails.username}),E.jsx("p",{children:t}),E.jsxs("h3",{children:["About: ",e.userDetails.headline]}),E.jsxs("h3",{children:["Branch: ",e.userDetails.branch]}),E.jsxs("h3",{children:["Semester: ",e.userDetails.semester]}),e.userDetails.links&&E.jsxs("h3",{children:["Resume/Coding Links:"," ",E.jsx("a",{href:e.userDetails.links,target:"_blank",rel:"noopener noreferrer",children:e.userDetails.links})]})]})]})}),E.jsx(Dve,{children:E.jsxs("div",{children:[E.jsx("h3",{children:"Skills"}),E.jsx(Uve,{children:e.userDetails.skills&&e.userDetails.skills.map((l,c)=>E.jsx($ve,{children:l},c))})]})}),E.jsx(Lve,{children:E.jsxs("div",{children:[E.jsx("h3",{children:"Certificates"}),E.jsx(Mve,{children:e.userDetails.certificates&&e.userDetails.certificates.length>0?e.userDetails.certificates.map((l,c)=>E.jsx(jve,{onClick:()=>a(l),children:E.jsx("img",{className:"certificate",src:l.url,alt:l.name})},c)):E.jsx("p",{children:"No certificates uploaded."})})]})})]}),i&&E.jsxs(Vve,{children:[E.jsx("img",{src:i.url,alt:i.name}),E.jsx("button",{onClick:()=>s(null),children:"Close"})]})]}):E.jsx(Su,{to:"/"})},Pve=M.div`
  padding-top: 100px;
  grid-area: main;
  margin: 0px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: "Arial", sans-serif;
  padding-bottom: 100px;
`,Nve=M.div`
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  width: 100%;
  max-width: 1200px;
`,zC=M.div`
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: #ffffff;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border: 1px solid #d1d1d1;
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }
`,Ove=M(zC)`
  width: 30%;
  min-height: 475px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  .profileImg {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin-bottom: 20px;
    border: 3px solid #001838;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
`,Dve=M(zC)`
  width: 30%;
  min-height: 475px;
`,Lve=M(zC)`
  width: 30%;
  min-height: 475px;

  .certificate {
    height: 100px;
    width: 150px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  }
`,Mve=M.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
`,jve=M.div`
  cursor: pointer;
`,Fve=M.div`
  text-align: center;

  h2 {
    margin: 0;
    font-size: 28px;
    color: #001838;
    font-weight: bold;
  }

  p {
    margin: 5px 0;
    color: rgba(0, 0, 0, 0.7);
    font-size: 16px;
  }

  h3 {
    margin: 10px 0;
    color: #001838;
    font-size: 18px;

    a {
      color: #001838;
      text-decoration: none;
      font-weight: bold;

      &:hover {
        text-decoration: underline;
      }
    }
  }
`,Uve=M.div`
  margin-top: 20px;
  width: 100%;
`,$ve=M.div`
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background-color: #f3f3f3;
  margin-bottom: 10px;
  border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,Vve=M.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 20px;
  border: 3px solid #001838;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;

  img {
    max-width: 90%;
    max-height: 90%;
    margin-bottom: 10px;
    border: 3px solid #001838;
    border-radius: 10px;
    transition: transform 0.3s;

    &:hover {
      transform: scale(1.02);
    }
  }

  button {
    margin-top: 10px;
    padding: 10px 20px;
    background-color: #001838;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;

    &:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }
  }
`,Bve=e=>({user:e.userState.user,userDetails:e.userState.userDetails}),zve=e=>({fetchUserDetailsByEmail:t=>e(Vle(t)),getArticles:()=>e(DC())}),qve=Hr(Bve,zve)(Rve),Wve=({show:e,onClose:t,onSubmit:n,existingEvent:r})=>{const[i,s]=$.useState(""),[a,l]=$.useState(""),[c,h]=$.useState(""),[d,v]=$.useState(""),[g,y]=$.useState(""),[w,b]=$.useState(null),[x,S]=$.useState(null),[T,C]=$.useState(""),[k,D]=$.useState(""),[O,j]=$.useState("");$.useEffect(()=>{r?(s(r.name),l(r.description),h(r.date),v(r.time),y(r.location),b(r.poster),S(r.brochure),C(r.registrationLink),D(r.clubName),j(r.duration)):L()},[r]);const L=()=>{s(""),l(""),h(""),v(""),y(""),b(null),S(null),C(""),D(""),j("")},Y=(ne,Ue)=>{Ue(ne.target.files[0])},R=async()=>{if(console.log("handleSubmit triggered"),!i||!a||!c||!d||!g||!k||!O){alert("Please fill out all required fields.");return}try{let ne="",Ue="";if(w){console.log("Uploading poster...");const bn=Dd.ref().child(`posters/${w.name}`);await bn.put(w),ne=await bn.getDownloadURL(),console.log("Poster uploaded, URL:",ne)}if(x){console.log("Uploading brochure...");const bn=Dd.ref().child(`brochures/${x.name}`);await bn.put(x),Ue=await bn.getDownloadURL(),console.log("Brochure uploaded, URL:",Ue)}const Bt={name:i,description:a,date:c,time:d,location:g,poster:ne,brochure:Ue,registrationLink:T,clubName:k,duration:O};console.log("Event Data:",Bt),n(Bt),L()}catch(ne){console.error("Error uploading files: ",ne)}};return e?E.jsx(Hve,{onClick:t,children:E.jsxs(Kve,{onClick:ne=>ne.stopPropagation(),children:[E.jsx(Gve,{onClick:t,children:""}),E.jsx("h2",{children:r?"Edit Event":"Create Event"}),E.jsxs(Qve,{children:[E.jsx(Qi,{type:"text",placeholder:"Event Name *",value:i,onChange:ne=>s(ne.target.value)}),E.jsx(Qi,{type:"text",placeholder:"Description *",value:a,onChange:ne=>l(ne.target.value)}),E.jsx(Qi,{type:"date",placeholder:"Date *",value:c,onChange:ne=>h(ne.target.value)}),E.jsx(Qi,{type:"time",placeholder:"Time *",value:d,onChange:ne=>v(ne.target.value)}),E.jsx(Qi,{type:"text",placeholder:"Location *",value:g,onChange:ne=>y(ne.target.value)}),E.jsx(Qi,{type:"file",placeholder:"Poster",onChange:ne=>Y(ne,b)}),E.jsx(Qi,{type:"file",placeholder:"Brochure",onChange:ne=>Y(ne,S)}),E.jsx(Qi,{type:"text",placeholder:"Registration Link",value:T,onChange:ne=>C(ne.target.value)}),E.jsx(Qi,{type:"text",placeholder:"Club Name *",value:k,onChange:ne=>D(ne.target.value)}),E.jsx(Qi,{type:"text",placeholder:"Duration *",value:O,onChange:ne=>j(ne.target.value)}),E.jsx(Yve,{type:"button",onClick:R,children:r?"Update Event":"Create Event"})]})]})}):null},Hve=M.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
`,Kve=M.div`
  background: white;
  padding: 20px;
  border-radius: 8px;
  max-width: 500px;
  width: 100%;
  position: relative;
`,Gve=M.button`
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
`,Qve=M.form`
  display: flex;
  flex-direction: column;
`,Qi=M.input`
  display: block;
  width: 95%;
  padding: 10px;
  margin: 10px 0;
  border: 1px solid #ddd;
  border-radius: 4px;
`,Yve=M.button`
  padding: 10px 20px;
  background: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  align-self: center;
`,Xve=e=>{const[t,n]=$.useState(!1),[r,i]=$.useState(!1),[s,a]=$.useState(null),[l,c]=$.useState(!1),[h,d]=$.useState(null),v=Eu();$.useEffect(()=>{e.user&&(e.getEvents(),y())},[e.user,e.getEvents]);const g=k=>{v(`/user/${k}`)},y=async()=>{if(e.user){const k=await We.collection("settings").doc("authorizedUsers").get();k.exists&&k.data().emails.includes(e.user.email)&&c(!0)}},w=k=>{k.userName=e.user.displayName,k.profilePic=e.user.photoURL,k.email=e.user.email,k.creator=e.user.email,k.timestamp=new Date().toISOString(),k.interested=k.interested??0,k.interestedUsers=k.interestedUsers??[],r?e.updateEvent(s.id,k):e.addEvent(k),S()},b=k=>{a(k),i(!0),n(!0)},x=k=>{e.deleteEvent(k)},S=()=>{a(null),n(!1),i(!1)},T=()=>{t?S():n(!0)};if(!e.user)return E.jsx(Su,{to:"/"});const C=k=>{k.interestedUsers.includes(e.user.email)||e.updateInterested(k.id,e.user.email)};return E.jsxs(Jve,{children:[E.jsxs(Zve,{children:[l&&E.jsx(ege,{onClick:T,children:"Create Event"}),E.jsx(Wve,{show:t,onClose:S,onSubmit:w,existingEvent:s})]}),e.events.length===0?E.jsx(tge,{children:"There are no events"}):E.jsxs(nge,{children:[e.loading&&E.jsx("img",{src:"/images/spin-loader.svg",className:"loading",alt:"Loading"}),e.events.sort((k,D)=>D.interested-k.interested).map(k=>E.jsx(rge,{children:E.jsxs(ige,{children:[E.jsxs(cge,{children:[E.jsxs(dge,{onClick:()=>g(k.email),children:[E.jsx(vge,{src:k.profilePic,alt:"Profile"}),E.jsxs(pge,{children:[k.userName,", ",k.clubName]})]}),E.jsx(oge,{children:E.jsxs(age,{children:[x5(new Date(k.timestamp))," ago"]})}),E.jsx(sge,{children:k.name}),E.jsx(gge,{children:k.description}),E.jsxs(mge,{children:[E.jsx("b",{children:"Location:"})," ",k.location]}),E.jsxs(uge,{children:[E.jsx("b",{children:"Date:"})," ",k.date]}),E.jsxs(lge,{children:[E.jsx("b",{children:"Time:"})," ",k.time]}),E.jsxs(kge,{children:[E.jsx("b",{children:"Duration:"})," ",k.duration]}),k.brochure&&E.jsx(wge,{href:k.brochure,target:"_blank",rel:"noopener noreferrer",children:"View Brochure"}),k.registrationLink&&E.jsx(_ge,{href:k.registrationLink,target:"_blank",rel:"noopener noreferrer",children:"Register Here"}),E.jsxs(bge,{children:[E.jsxs(Ige,{onClick:()=>C(k),children:["Interested (",k.interested??0,")"]}),k.creator===e.user.email&&E.jsxs(E.Fragment,{children:[E.jsx(Ege,{onClick:()=>b(k),children:"Edit"}),E.jsx(Sge,{onClick:()=>x(k.id),children:"Delete"})]})]})]}),E.jsx(hge,{}),k.poster&&E.jsxs(fge,{children:[E.jsx(yge,{src:k.poster,alt:"Event Poster"}),E.jsx(Tge,{onClick:()=>d(k.poster),children:"Zoom"})]})]})},k.id))]}),h&&E.jsx(xge,{onClick:()=>d(null),children:E.jsx(Cge,{src:h,alt:"Zoomed Event Poster"})})]})},Jve=M.div`
  grid-area: main;
  padding-top: 100px;
  background-color: rgba(0, 0, 0, 0.07);
  min-height: 100vh;
`,Zve=M.div`
  text-align: center;
  margin-bottom: 8px;
`,ege=M.button`
  padding: 10px 20px;
  background-color: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  &:hover {
    background-color: #005f8b;
  }
`,tge=M.p`
  text-align: center;
  font-size: 18px;
  color: #555;
`,nge=M.div`
  text-align: left;
  .loading {
    height: 30px;
    width: 30px;
  }
`,rge=M.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin: 20px auto;
  padding: 30px;
  background-color: #98c5e9;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border: 20px solid hsla(220, 75%, 30%, 0.84);
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  width: 80%;
  max-width: 1000px;
`,ige=M.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  height: 100%;
`,oge=M.div`
  display: flex;
  justify-content: flex-end;
  width: 100%;
  margin-bottom: 10px;
  margin-top: -31px;
`,sge=M.h3`
  margin: 0;
  color: black;
  margin-top: 30px;
  margin-bottom: 10px;
`,age=M.span`
  margin-left: 10px;
  color: #777;
`,uge=M.span`
  color: black;
  padding-bottom: 5px;
`,lge=M.span`
  color: black;
`,cge=M.div`
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  position: relative;
  width: 50%;
`,fge=M.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 50%;
  position: relative;
`,hge=M.div`
  width: 1px;
  background-color: black;
  margin: 0 10px;
`,dge=M.span`
  display: flex;
  align-items: center;
  cursor: pointer;
  margin-top: -10px;
  margin-left: -10px;
`,pge=M.p`
  margin: 0 0 0 10px;
  font-weight: bold;
`,vge=M.img`
  width: 40px;
  height: 40px;
  border-radius: 50%;
`,gge=M.p`
  margin: 5px 0;
  color: black;
  text-align: justify;
`,mge=M.p`
  margin: 5px 0;
  color: black;
`,yge=M.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`,wge=M.a`
  display: block;
  margin-top: 10px;
  color: #0073b1;
  text-decoration: underline;
  cursor: pointer;
`,_ge=M.a`
  display: block;
  margin-top: 10px;
  color: #0073b1;
  text-decoration: underline;
  cursor: pointer;
`,bge=M.div`
  display: flex;
  justify-content: flex-end;
  margin-top: 55px;
`,Ege=M.button`
  padding: 5px 10px;
  margin-right: 5px;
  background-color: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #005f8b;
  }
`,Sge=M.button`
  padding: 5px 10px;
  background-color: #d9534f;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #b52b2b;
  }
`,Tge=M.button`
  position: absolute;
  bottom: 10px;
  right: 10px;
  padding: 5px 10px;
  background-color: #0073b1;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #005f8b;
  }
`,Ige=M.button`
  padding: 5px 10px;
  background-color: #28a745;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin-right: 5px;
`,xge=M.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,Cge=M.img`
  max-width: 90%;
  max-height: 90%;
`,kge=M.p`
  margin: 5px 0;
  color: black;
`,Age=e=>({loading:e.eventState.loading,user:e.userState.user,events:e.eventState.events,searchQuery:e.searchState.searchQuery}),Rge=e=>({getEvents:()=>e(LC()),addEvent:t=>e(Yle(t)),deleteEvent:t=>e(Jle(t)),updateEvent:(t,n)=>e(Xle(t,n)),updateInterested:(t,n)=>e(Zle(t,n))}),Pge=Hr(Age,Rge)(Xve),Nge=e=>{const[t,n]=$.useState([]);return $.useEffect(()=>{const r=We.collection("notifications").onSnapshot(i=>{const s=i.docs.map(a=>a.data().notification);n(s)});return()=>r()},[]),E.jsx(Oge,{children:E.jsxs(Dge,{children:[!e.user&&E.jsx(Su,{to:"/"}),E.jsx(Lge,{children:"Notifications"}),E.jsx(Mge,{children:t.map((r,i)=>E.jsx(jge,{children:r},i))})]})})},Oge=M.div`
  background-color: rgba(0, 0, 0, 0.0025);
  height: 100vh;
  padding-top: 10px;
`,Dge=M.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border: 12px solid hsla(220, 75%, 30%, 0.84);
  justify-content: flex-start;
  padding: 20px;
  margin: 160px;
  background-color: #98c5e9;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  border-radius: 10px;
`,Lge=M.h2`
  margin-bottom: 20px;
  color: #333;
  font-size: 24px;
`,Mge=M.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  width: 100%;
`,jge=M.li`
  background-color: hsl(195, 100%, 90%);
  padding: 15px;
  margin-bottom: 10px;
  border-radius: 8px;
  font-size: 16px;
  color: #555;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,Fge=e=>({user:e.userState.user}),Uge=Hr(Fge)(Nge);function $ge(){return E.jsx("div",{className:"App",children:E.jsx(qG,{children:E.jsxs(VG,{children:[E.jsx(cs,{path:"/",element:E.jsx(Wde,{})}),E.jsx(cs,{path:"/home",element:E.jsxs(E.Fragment,{children:[E.jsx(vl,{}),E.jsx(Lde,{})]})}),E.jsx(cs,{path:"/Profile",element:E.jsxs(E.Fragment,{children:[E.jsx(vl,{}),E.jsx(mpe,{})]})}),E.jsx(cs,{path:"/Procollab",element:E.jsxs(E.Fragment,{children:[E.jsx(vl,{}),E.jsx(Ave,{})]})}),E.jsx(cs,{path:"/events",element:E.jsxs(E.Fragment,{children:[E.jsx(vl,{}),E.jsx(Pge,{})]})}),E.jsx(cs,{path:"/user/:email",element:E.jsxs(E.Fragment,{children:[E.jsx(vl,{}),E.jsx(qve,{})]})}),E.jsx(cs,{path:"/notification",element:E.jsxs(E.Fragment,{children:[E.jsx(vl,{}),E.jsx(Uge,{})]})})]})})})}function un(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Vge=typeof Symbol=="function"&&Symbol.observable||"@@observable",wM=Vge,BE=()=>Math.random().toString(36).substring(7).split("").join("."),Bge={INIT:`@@redux/INIT${BE()}`,REPLACE:`@@redux/REPLACE${BE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${BE()}`},sy=Bge;function zge(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function C5(e,t,n){if(typeof e!="function")throw new Error(un(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(un(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(un(1));return n(C5)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,c=!1;function h(){a===s&&(a=new Map,s.forEach((x,S)=>{a.set(S,x)}))}function d(){if(c)throw new Error(un(3));return i}function v(x){if(typeof x!="function")throw new Error(un(4));if(c)throw new Error(un(5));let S=!0;h();const T=l++;return a.set(T,x),function(){if(S){if(c)throw new Error(un(6));S=!1,h(),a.delete(T),s=null}}}function g(x){if(!zge(x))throw new Error(un(7));if(typeof x.type>"u")throw new Error(un(8));if(typeof x.type!="string")throw new Error(un(17));if(c)throw new Error(un(9));try{c=!0,i=r(i,x)}finally{c=!1}return(s=a).forEach(T=>{T()}),x}function y(x){if(typeof x!="function")throw new Error(un(10));r=x,g({type:sy.REPLACE})}function w(){const x=v;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(un(11));function T(){const k=S;k.next&&k.next(d())}return T(),{unsubscribe:x(T)}},[wM](){return this}}}return g({type:sy.INIT}),{dispatch:g,subscribe:v,getState:d,replaceReducer:y,[wM]:w}}function qge(e,t,n){return C5(e,t,n)}function Wge(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sy.INIT})>"u")throw new Error(un(12));if(typeof n(void 0,{type:sy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(un(13))})}function Hge(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{Wge(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const h={};for(let d=0;d<r.length;d++){const v=r[d],g=n[v],y=a[v],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(un(14));h[v]=w,c=c||w!==y}return c=c||r.length!==Object.keys(a).length,c?h:a}}function Kge(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Gge(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(un(15))};const a={getState:i.getState,dispatch:(c,...h)=>s(c,...h)},l=e.map(c=>c(a));return s=Kge(...l)(i.dispatch),{...i,dispatch:s}}}function Qge(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Yge=Qge();const Xge={articles:[],loading:!1},Jge=(e=Xge,t)=>{switch(t.type){case T3:return{...e,articles:t.payload};case V0:return{...e,loading:t.status};case I3:return{...e,articles:e.articles.map(n=>n.id===t.articleId?{...n,comments:[...n.comments.filter(r=>r.comment!==t.comment.comment),t.comment]}:n)};case x3:return{...e,articles:e.articles.filter(n=>n.id!==t.articleId)};default:return e}},Zge={user:null,userDetails:{}},eme=(e=Zge,t)=>{switch(t.type){case S3:return{...e,user:t.user};case OC:return{...e,userDetails:t.payload};default:return e}},tme={headline:"",branch:"",semester:"",links:"",certificates:[]},nme=(e=tme,t)=>{switch(t.type){case OC:return{...e,...t.payload};case xle:return{...e,certificates:t.certificates};default:return e}},rme={projects:[],searchQuery:""},ime=(e=rme,t)=>{switch(t.type){case V0:return{...e,loading:t.status};case C3:return{...e,projects:[...e.projects,t.project]};case k3:return{...e,projects:t.projects};case Ile:return{...e,projects:e.projects.map(n=>n.id===t.projectId?{...n,roles:n.roles.map((r,i)=>i===t.roleIndex?{...r,name:t.memberName}:r)}:n)};case A3:return{...e,projects:e.projects.filter(n=>n.id!==t.projectId)};case R3:return{...e,projects:e.projects.map(n=>n.id===t.projectId?{...n,...t.projectData}:n)};default:return e}},ome={events:[],error:null},sme=(e=ome,t)=>{switch(t.type){case N3:return{...e,events:t.payload};case P3:return{...e,events:[...e.events,t.payload]};case D3:return{...e,events:e.events.map(n=>n.id===t.payload.id?t.payload:n)};case O3:return{...e,events:e.events.filter(n=>n.id!==t.payload)};case V0:return{...e,loading:t.status};case bp:return{...e,error:t.error};default:return e}},ame={searchQuery:""},ume=(e=ame,t)=>{switch(t.type){case L3:return{...e,searchQuery:t.query};default:return e}},lme=Hge({articleState:Jge,userState:eme,userDetailsState:nme,projectState:ime,eventState:sme,searchState:ume}),cme=qge(lme,Gge(Yge)),fme=qE.createRoot(document.getElementById("root"));fme.render(E.jsx(Fs.StrictMode,{children:E.jsx(z2,{store:cme,children:E.jsx($ge,{})})}));export{dr as _,_M as g,mfe as p,$ as r,z0 as u};
